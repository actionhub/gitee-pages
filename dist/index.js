module.exports=(()=>{var __webpack_modules__={4822:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};var s=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const c=o(r(2186));const l=o(r(5438));const u=o(r(7436));const d=o(r(2605));const f=r(395);const h=a(r(9014));const p=o(r(4775));const m=a(r(5622));const g=a(r(5747));const y=p.get("username","");const w=p.get("password","");let _=p.get("repository");const b=p.get("branch","master");const v=p.get("directory","");const E=p.getBoolean("https",true);function open(e,t){return s(this,void 0,void 0,function*(){let r=yield e.goto(t);if((r===null||r===void 0?void 0:r.status())==404){yield debugScreenshot(e,"error1.png",true);throw new Error(`${t} 返回 404`)}yield ensureCurrentPage(e,t)})}function ensureCurrentPage(e,t){return s(this,void 0,void 0,function*(){let r=100;while(e.url()!=t){if(r<0){yield debugScreenshot(e,"error2.png",true);throw new Error(`找开的页面一直不对，重试了100 次${e.url()}`)}yield e.waitForTimeout(100);r--}})}const k=m.default.join(process.cwd(),"screen-shot");let T;function debugScreenshot(e,t,r=false){return s(this,void 0,void 0,function*(){if(r||c.isDebug()){let r=m.default.join(k,t);yield e.screenshot({path:r,fullPage:true});if(T==null){T=d.create()}yield T.uploadArtifact(t,[r],process.cwd())}})}function random(e,t){return Math.floor(Math.random()*(t-e))+e}let S;(()=>s(void 0,void 0,void 0,function*(){var e;if(!y||!w){if((e=l.context.payload.repository)===null||e===void 0?void 0:e.fork){c.warning("fork的仓库没有配置username和password，因此跳过执行");return}else{throw new Error("username和password必须配置")}}c.startGroup("检测配置");if(!_.startsWith("https://gitee.com")){c.setFailed("仓库网址不正确，需要填写完整的仓库地址");return}if(_.endsWith(".git")){_=_.substr(0,_.length-4);c.info(`[${(new Date).toISOString()}]仓库以.git结尾，去掉后的仓库地址是:${_}`)}if(_.endsWith("/")){_=_.substr(0,_.length-1);c.info(`[${(new Date).toISOString()}]仓库以/结尾，去掉后的仓库地址是:${_}`)}if(!g.default.existsSync(k)){yield u.mkdirP(k);c.info("创建截图目录")}c.info("检测完成");c.endGroup();c.startGroup("配置浏览器环境");c.info("开始下载浏览器");yield f.downloadBrowser();c.info("浏览器下载完成");c.info("开始自动刷新gitee pages");S=yield h.default.launch({args:["--lang=zh-CN"]});let t=yield S.newPage();c.startGroup("开始登陆");yield t.goto("https://gitee.com/login#lang=zh-CN");yield t.waitForSelector("#user_login");yield t.waitForSelector("#user_password");yield t.waitForSelector("input[name=commit]");yield debugScreenshot(t,"step1.png");c.info("输入账号");yield t.type("#user_login",y,{delay:random(100,200)});yield debugScreenshot(t,"step2.png");c.info("输入密码");yield t.type("#user_password",w,{delay:random(100,200)});yield debugScreenshot(t,"step3.png");c.info("点击登陆按钮");yield t.click("input[name=commit]");yield ensureCurrentPage(t,"https://gitee.com/");c.info("登陆完成");yield debugScreenshot(t,"step4.png");c.endGroup();c.startGroup("模拟用户打开仓库页");c.info("打开仓库页面");yield open(t,_);yield debugScreenshot(t,"step5.png");c.info("打开pages设置页面");yield open(t,`${_}/pages`);yield debugScreenshot(t,"step6.png");c.endGroup();c.startGroup("配置pages");yield t.waitForSelector(".branch-choose-wrap");yield t.waitForSelector(".branch-choose-wrap .search.input input");yield t.waitForSelector("#build_directory");yield t.waitForSelector(".force-https-checkbox");yield t.click(".branch-choose-wrap");c.info("点击分支下拉框");yield debugScreenshot(t,"step7.png");yield t.type(".branch-choose-wrap .search.input input",b,{delay:random(100,200)});c.info("输入分支名:"+b);yield debugScreenshot(t,"step8.png");const r=yield t.$$(".branch-choose-wrap .menu .scrolling.menu div:not(.filtered)");if(r.length<1){yield debugScreenshot(t,"error3.png",true);throw new Error("要部署的分支不存在！")}yield r[0].click();c.info("点击需要部署的分支:"+b);yield debugScreenshot(t,"step9.png");yield t.type("#build_directory",v,{delay:random(100,200)});c.info("输入部署的目录:"+v);yield debugScreenshot(t,"step10.png");const n=".force-https-checkbox"+(E?":not(.checked)":".checked");const i=yield t.$(n);if(i!=null){yield i.click();c.info(`[${(new Date).toISOString()}]设置的是${E?"开启":"关闭"}https，但当前状态是${!E?"开启":"关闭"}状态，点击切换`);yield debugScreenshot(t,"step11.png")}else{c.info(`[${(new Date).toISOString()}]设置的是${E?"开启":"关闭"}https，但当前状态也是${E?"开启":"关闭"}状态，不需要操作`)}c.info("配置完成");c.endGroup();c.startGroup("部署");const o=yield t.$("#pages-branch .update_deploy");if(o){const e=new Promise((e,r)=>{c.info("监听弹框");let n=0;let i=setInterval(()=>{if(n==5){clearInterval(i);r(new Error("超时"))}else{c.info("失败，再次尝试");n++;o.click()}debugScreenshot(t,`error5-${n}.png`,true)},3);t.on("dialog",n=>s(void 0,void 0,void 0,function*(){try{clearInterval(i);c.info("监听到弹框："+n.message());c.info("点击确认");yield n.accept(n.message());c.info("点击完成，等待部署完成！");yield debugScreenshot(t,"step12.png");e()}catch(e){r(e)}}))});yield o.click();c.info("点击完成，等待弹框！");yield e;c.info("等待2秒钟，确保网络请求已经发出去。");yield new Promise(e=>setTimeout(e,2e3))}else{yield debugScreenshot(t,"error4.png",true);throw new Error("没有找到部署按钮，部署失败")}c.endGroup();c.info("操作完成");yield S.close()}))().catch(e=>{c.setFailed(""+e);if(S){S.close().catch(e=>{console.error(e)})}})},4775:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.getBoolean=t.getNumber=t.getArray=t.get=void 0;const s=o(r(2186));function _get(e,t=null){const r=s.getInput(e,{required:t==undefined});if(!r&&t===null){throw new Error(`${e} require!`)}return r}function get(e,t=null){const r=_get(e,t);return r?r:t}t.get=get;function getArray(e,t,r=null){let n=_get(e,r);if(!n){return r}if(n.startsWith(t)){n=n.substr(t.length)}if(n.endsWith(t)){n=n.substr(0,n.length-t.length)}return n.split(t)}t.getArray=getArray;function getNumber(e,t=null){const r=_get(e,t);return r?parseFloat(r):t}t.getNumber=getNumber;function getBoolean(e,t=null){const r=_get(e,t);return r?r.toUpperCase()=="TRUE":t}t.getBoolean=getBoolean},2605:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(8802);function create(){return n.DefaultArtifactClient.create()}t.create=create},8802:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const o=i(r(2186));const s=r(183);const a=r(4354);const c=r(6327);const l=r(8538);const u=r(5686);const d=r(2222);const f=r(5622);class DefaultArtifactClient{static create(){return new DefaultArtifactClient}uploadArtifact(e,t,r,i){return n(this,void 0,void 0,function*(){c.checkArtifactName(e);const n=s.getUploadSpecification(e,r,t);const l={artifactName:e,artifactItems:[],size:0,failedItems:[]};const u=new a.UploadHttpClient;if(n.length===0){o.warning(`No files found that can be uploaded`)}else{const t=yield u.createArtifactInFileContainer(e,i);if(!t.fileContainerResourceUrl){o.debug(t.toString());throw new Error("No URL provided by the Artifact Service to upload an artifact to")}o.debug(`Upload Resource URL: ${t.fileContainerResourceUrl}`);const r=yield u.uploadArtifactToFileContainer(t.fileContainerResourceUrl,n,i);yield u.patchArtifactSize(r.totalSize,e);o.info(`Finished uploading artifact ${e}. Reported size is ${r.uploadSize} bytes. There were ${r.failedItems.length} items that failed to upload`);l.artifactItems=n.map(e=>e.absoluteFilePath);l.size=r.uploadSize;l.failedItems=r.failedItems}return l})}downloadArtifact(e,t,r){return n(this,void 0,void 0,function*(){const n=new l.DownloadHttpClient;const i=yield n.listArtifacts();if(i.count===0){throw new Error(`Unable to find any artifacts for the associated workflow`)}const s=i.value.find(t=>{return t.name===e});if(!s){throw new Error(`Unable to find an artifact with the name: ${e}`)}const a=yield n.getContainerItems(s.name,s.fileContainerResourceUrl);if(!t){t=d.getWorkSpaceDirectory()}t=f.normalize(t);t=f.resolve(t);const h=u.getDownloadSpecification(e,a.value,t,(r===null||r===void 0?void 0:r.createArtifactFolder)||false);if(h.filesToDownload.length===0){o.info(`No downloadable files were found for the artifact: ${s.name}`)}else{yield c.createDirectoriesForArtifact(h.directoryStructure);o.info("Directory structure has been setup for the artifact");yield c.createEmptyFilesForArtifact(h.emptyFilesToCreate);yield n.downloadSingleArtifact(h.filesToDownload)}return{artifactName:e,downloadPath:h.rootDownloadLocation}})}downloadAllArtifacts(e){return n(this,void 0,void 0,function*(){const t=new l.DownloadHttpClient;const r=[];const n=yield t.listArtifacts();if(n.count===0){o.info("Unable to find any artifacts for the associated workflow");return r}if(!e){e=d.getWorkSpaceDirectory()}e=f.normalize(e);e=f.resolve(e);let i=0;while(i<n.count){const s=n.value[i];i+=1;const a=yield t.getContainerItems(s.name,s.fileContainerResourceUrl);const l=u.getDownloadSpecification(s.name,a.value,e,true);if(l.filesToDownload.length===0){o.info(`No downloadable files were found for any artifact ${s.name}`)}else{yield c.createDirectoriesForArtifact(l.directoryStructure);yield c.createEmptyFilesForArtifact(l.emptyFilesToCreate);yield t.downloadSingleArtifact(l.filesToDownload)}r.push({artifactName:s.name,downloadPath:l.rootDownloadLocation})}return r})}}t.DefaultArtifactClient=DefaultArtifactClient},2222:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function getUploadFileConcurrency(){return 2}t.getUploadFileConcurrency=getUploadFileConcurrency;function getUploadChunkSize(){return 8*1024*1024}t.getUploadChunkSize=getUploadChunkSize;function getRetryLimit(){return 5}t.getRetryLimit=getRetryLimit;function getRetryMultiplier(){return 1.5}t.getRetryMultiplier=getRetryMultiplier;function getInitialRetryIntervalInMilliseconds(){return 3e3}t.getInitialRetryIntervalInMilliseconds=getInitialRetryIntervalInMilliseconds;function getDownloadFileConcurrency(){return 2}t.getDownloadFileConcurrency=getDownloadFileConcurrency;function getRuntimeToken(){const e=process.env["ACTIONS_RUNTIME_TOKEN"];if(!e){throw new Error("Unable to get ACTIONS_RUNTIME_TOKEN env variable")}return e}t.getRuntimeToken=getRuntimeToken;function getRuntimeUrl(){const e=process.env["ACTIONS_RUNTIME_URL"];if(!e){throw new Error("Unable to get ACTIONS_RUNTIME_URL env variable")}return e}t.getRuntimeUrl=getRuntimeUrl;function getWorkFlowRunId(){const e=process.env["GITHUB_RUN_ID"];if(!e){throw new Error("Unable to get GITHUB_RUN_ID env variable")}return e}t.getWorkFlowRunId=getWorkFlowRunId;function getWorkSpaceDirectory(){const e=process.env["GITHUB_WORKSPACE"];if(!e){throw new Error("Unable to get GITHUB_WORKSPACE env variable")}return e}t.getWorkSpaceDirectory=getWorkSpaceDirectory;function getRetentionDays(){return process.env["GITHUB_RETENTION_DAYS"]}t.getRetentionDays=getRetentionDays},8538:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const o=i(r(5747));const s=i(r(2186));const a=i(r(8761));const c=r(6327);const l=r(8835);const u=r(9081);const d=r(630);const f=r(6527);const h=r(2222);const p=r(755);class DownloadHttpClient{constructor(){this.downloadHttpManager=new f.HttpManager(h.getDownloadFileConcurrency(),"@actions/artifact-download");this.statusReporter=new u.StatusReporter(1e3)}listArtifacts(){return n(this,void 0,void 0,function*(){const e=c.getArtifactUrl();const t=this.downloadHttpManager.getClient(0);const r=c.getDownloadHeaders("application/json");const i=yield p.retryHttpClientRequest("List Artifacts",()=>n(this,void 0,void 0,function*(){return t.get(e,r)}));const o=yield i.readBody();return JSON.parse(o)})}getContainerItems(e,t){return n(this,void 0,void 0,function*(){const r=new l.URL(t);r.searchParams.append("itemPath",e);const i=this.downloadHttpManager.getClient(0);const o=c.getDownloadHeaders("application/json");const s=yield p.retryHttpClientRequest("Get Container Items",()=>n(this,void 0,void 0,function*(){return i.get(r.toString(),o)}));const a=yield s.readBody();return JSON.parse(a)})}downloadSingleArtifact(e){return n(this,void 0,void 0,function*(){const t=h.getDownloadFileConcurrency();s.debug(`Download file concurrency is set to ${t}`);const r=[...new Array(t).keys()];let i=0;let o=0;s.info(`Total number of files that will be downloaded: ${e.length}`);this.statusReporter.setTotalNumberOfFilesToProcess(e.length);this.statusReporter.start();yield Promise.all(r.map(t=>n(this,void 0,void 0,function*(){while(i<e.length){const r=e[i];i+=1;const n=d.performance.now();yield this.downloadIndividualFile(t,r.sourceLocation,r.targetPath);if(s.isDebug()){s.debug(`File: ${++o}/${e.length}. ${r.targetPath} took ${(d.performance.now()-n).toFixed(3)} milliseconds to finish downloading`)}this.statusReporter.incrementProcessedCount()}}))).catch(e=>{throw new Error(`Unable to download the artifact: ${e}`)}).finally(()=>{this.statusReporter.stop();this.downloadHttpManager.disposeAndReplaceAllClients()})})}downloadIndividualFile(e,t,r){return n(this,void 0,void 0,function*(){let i=0;const a=h.getRetryLimit();let l=o.createWriteStream(r);const u=c.getDownloadHeaders("application/json",true,true);const d=()=>n(this,void 0,void 0,function*(){const r=this.downloadHttpManager.getClient(e);return yield r.get(t,u)});const f=e=>{return"content-encoding"in e&&e["content-encoding"]==="gzip"};const p=r=>n(this,void 0,void 0,function*(){i++;if(i>a){return Promise.reject(new Error(`Retry limit has been reached. Unable to download ${t}`))}else{this.downloadHttpManager.disposeAndReplaceClient(e);if(r){s.info(`Backoff due to too many requests, retry #${i}. Waiting for ${r} milliseconds before continuing the download`);yield c.sleep(r)}else{const e=c.getExponentialRetryTimeInMilliseconds(i);s.info(`Exponential backoff for retry #${i}. Waiting for ${e} milliseconds before continuing the download`);yield c.sleep(e)}s.info(`Finished backoff for retry #${i}, continuing with download`)}});const m=(e,t)=>{if(!e||!t||process.env["ACTIONS_ARTIFACT_SKIP_DOWNLOAD_VALIDATION"]){s.info("Skipping download validation.");return true}return parseInt(e)===t};const g=e=>n(this,void 0,void 0,function*(){l.close();yield c.rmFile(e);l=o.createWriteStream(e)});while(i<=a){let e;try{e=yield d();if(s.isDebug()){c.displayHttpDiagnostics(e)}}catch(e){s.info("An error occurred while attempting to download a file");console.log(e);yield p();continue}let n=false;if(c.isSuccessStatusCode(e.message.statusCode)){try{const t=f(e.message.headers);yield this.pipeResponseToFile(e,l,t);if(t||m(e.message.headers["content-length"],yield c.getFileSize(r))){return}else{n=true}}catch(e){n=true}}if(n||c.isRetryableStatusCode(e.message.statusCode)){s.info(`A ${e.message.statusCode} response code has been received while attempting to download an artifact`);g(r);c.isThrottledStatusCode(e.message.statusCode)?yield p(c.tryGetRetryAfterValueTimeInMilliseconds(e.message.headers)):yield p()}else{c.displayHttpDiagnostics(e);return Promise.reject(new Error(`Unexpected http ${e.message.statusCode} during download for ${t}`))}}})}pipeResponseToFile(e,t,r){return n(this,void 0,void 0,function*(){yield new Promise((n,i)=>{if(r){const r=a.createGunzip();e.message.on("error",e=>{s.error(`An error occurred while attempting to read the response stream`);r.close();t.close();i(e)}).pipe(r).on("error",e=>{s.error(`An error occurred while attempting to decompress the response stream`);t.close();i(e)}).pipe(t).on("close",()=>{n()}).on("error",e=>{s.error(`An error occurred while writing a downloaded file to ${t.path}`);i(e)})}else{e.message.on("error",e=>{s.error(`An error occurred while attempting to read the response stream`);t.close();i(e)}).pipe(t).on("close",()=>{n()}).on("error",e=>{s.error(`An error occurred while writing a downloaded file to ${t.path}`);i(e)})}});return})}}t.DownloadHttpClient=DownloadHttpClient},5686:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(5622));function getDownloadSpecification(e,t,r,n){const o=new Set;const s={rootDownloadLocation:n?i.join(r,e):r,directoryStructure:[],emptyFilesToCreate:[],filesToDownload:[]};for(const a of t){if(a.path.startsWith(`${e}/`)||a.path.startsWith(`${e}\\`)){const t=i.normalize(a.path);const c=i.join(r,n?t:t.replace(e,""));if(a.itemType==="file"){o.add(i.dirname(c));if(a.fileLength===0){s.emptyFilesToCreate.push(c)}else{s.filesToDownload.push({sourceLocation:a.contentLocation,targetPath:c})}}}}s.directoryStructure=Array.from(o);return s}t.getDownloadSpecification=getDownloadSpecification},6527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(6327);class HttpManager{constructor(e,t){if(e<1){throw new Error("There must be at least one client")}this.userAgent=t;this.clients=new Array(e).fill(n.createHttpClient(t))}getClient(e){return this.clients[e]}disposeAndReplaceClient(e){this.clients[e].dispose();this.clients[e]=n.createHttpClient(this.userAgent)}disposeAndReplaceAllClients(){for(const[e]of this.clients.entries()){this.disposeAndReplaceClient(e)}}}t.HttpManager=HttpManager},755:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const o=r(6327);const s=i(r(2186));const a=r(2222);function retry(e,t,r,i){return n(this,void 0,void 0,function*(){let n=undefined;let a=undefined;let c=false;let l="";let u=undefined;let d=1;while(d<=i){try{n=yield t();a=n.message.statusCode;if(o.isSuccessStatusCode(a)){return n}if(a){u=r.get(a)}c=o.isRetryableStatusCode(a);l=`Artifact service responded with ${a}`}catch(e){c=true;l=e.message}if(!c){s.info(`${e} - Error is not retryable`);if(n){o.displayHttpDiagnostics(n)}break}s.info(`${e} - Attempt ${d} of ${i} failed with error: ${l}`);yield o.sleep(o.getExponentialRetryTimeInMilliseconds(d));d++}if(n){o.displayHttpDiagnostics(n)}if(u){throw Error(`${e} failed: ${u}`)}throw Error(`${e} failed: ${l}`)})}t.retry=retry;function retryHttpClientRequest(e,t,r=new Map,i=a.getRetryLimit()){return n(this,void 0,void 0,function*(){return yield retry(e,t,r,i)})}t.retryHttpClientRequest=retryHttpClientRequest},9081:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(2186);class StatusReporter{constructor(e){this.totalNumberOfFilesToProcess=0;this.processedCount=0;this.largeFiles=new Map;this.totalFileStatus=undefined;this.largeFileStatus=undefined;this.displayFrequencyInMilliseconds=e}setTotalNumberOfFilesToProcess(e){this.totalNumberOfFilesToProcess=e}start(){this.totalFileStatus=setInterval(()=>{const e=this.formatPercentage(this.processedCount,this.totalNumberOfFilesToProcess);n.info(`Total file count: ${this.totalNumberOfFilesToProcess} ---- Processed file #${this.processedCount} (${e.slice(0,e.indexOf(".")+2)}%)`)},this.displayFrequencyInMilliseconds);this.largeFileStatus=setInterval(()=>{for(const e of Array.from(this.largeFiles.values())){n.info(e)}this.largeFiles.clear()},1e3)}updateLargeFileStatus(e,t,r){const n=this.formatPercentage(t,r);const i=`Uploading ${e} (${n.slice(0,n.indexOf(".")+2)}%)`;this.largeFiles.set(e,i)}stop(){if(this.totalFileStatus){clearInterval(this.totalFileStatus)}if(this.largeFileStatus){clearInterval(this.largeFileStatus)}}incrementProcessedCount(){this.processedCount++}formatPercentage(e,t){return(e/t*100).toFixed(4).toString()}}t.StatusReporter=StatusReporter},606:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};var i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values==="function"?__values(e):e[Symbol.iterator](),r={},verb("next"),verb("throw"),verb("return"),r[Symbol.asyncIterator]=function(){return this},r);function verb(t){r[t]=e[t]&&function(r){return new Promise(function(n,i){r=e[t](r),settle(n,i,r.done,r.value)})}}function settle(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}};var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const s=o(r(5747));const a=o(r(8761));const c=r(1669);const l=c.promisify(s.stat);function createGZipFileOnDisk(e,t){return n(this,void 0,void 0,function*(){return new Promise((r,i)=>{const o=s.createReadStream(e);const c=a.createGzip();const u=s.createWriteStream(t);o.pipe(c).pipe(u);u.on("finish",()=>n(this,void 0,void 0,function*(){const e=(yield l(t)).size;r(e)}));u.on("error",e=>{console.log(e);i})})})}t.createGZipFileOnDisk=createGZipFileOnDisk;function createGZipFileInBuffer(e){return n(this,void 0,void 0,function*(){return new Promise(t=>n(this,void 0,void 0,function*(){var r,n;const o=s.createReadStream(e);const c=a.createGzip();o.pipe(c);const l=[];try{for(var u=i(c),d;d=yield u.next(),!d.done;){const e=d.value;l.push(e)}}catch(e){r={error:e}}finally{try{if(d&&!d.done&&(n=u.return))yield n.call(u)}finally{if(r)throw r.error}}t(Buffer.concat(l))}))})}t.createGZipFileInBuffer=createGZipFileInBuffer},4354:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const o=i(r(5747));const s=i(r(2186));const a=i(r(8065));const c=i(r(2413));const l=r(6327);const u=r(2222);const d=r(1669);const f=r(8835);const h=r(630);const p=r(9081);const m=r(9925);const g=r(6527);const y=r(606);const w=r(755);const _=d.promisify(o.stat);class UploadHttpClient{constructor(){this.uploadHttpManager=new g.HttpManager(u.getUploadFileConcurrency(),"@actions/artifact-upload");this.statusReporter=new p.StatusReporter(1e4)}createArtifactInFileContainer(e,t){return n(this,void 0,void 0,function*(){const r={Type:"actions_storage",Name:e};if(t&&t.retentionDays){const e=u.getRetentionDays();r.RetentionDays=l.getProperRetention(t.retentionDays,e)}const i=JSON.stringify(r,null,2);const o=l.getArtifactUrl();const s=this.uploadHttpManager.getClient(0);const a=l.getUploadHeaders("application/json",false);const c=new Map([[m.HttpCodes.Forbidden,"Artifact storage quota has been hit. Unable to upload any new artifacts"],[m.HttpCodes.BadRequest,`The artifact name ${e} is not valid. Request URL ${o}`]]);const d=yield w.retryHttpClientRequest("Create Artifact Container",()=>n(this,void 0,void 0,function*(){return s.post(o,i,a)}),c);const f=yield d.readBody();return JSON.parse(f)})}uploadArtifactToFileContainer(e,t,r){return n(this,void 0,void 0,function*(){const i=u.getUploadFileConcurrency();const o=u.getUploadChunkSize();s.debug(`File Concurrency: ${i}, and Chunk Size: ${o}`);const a=[];let c=true;if(r){if(r.continueOnError===false){c=false}}for(const r of t){const t=new f.URL(e);t.searchParams.append("itemPath",r.uploadFilePath);a.push({file:r.absoluteFilePath,resourceUrl:t.toString(),maxChunkSize:o,continueOnError:c})}const l=[...new Array(i).keys()];const d=[];let p=0;let m=0;let g=0;let y=0;let w=false;this.statusReporter.setTotalNumberOfFilesToProcess(t.length);this.statusReporter.start();yield Promise.all(l.map(e=>n(this,void 0,void 0,function*(){while(p<t.length){const r=a[p];p+=1;if(w){d.push(r.file);continue}const n=h.performance.now();const i=yield this.uploadFileAsync(e,r);if(s.isDebug()){s.debug(`File: ${++m}/${t.length}. ${r.file} took ${(h.performance.now()-n).toFixed(3)} milliseconds to finish upload`)}g+=i.successfulUploadSize;y+=i.totalSize;if(i.isSuccess===false){d.push(r.file);if(!c){s.error(`aborting artifact upload`);w=true}}this.statusReporter.incrementProcessedCount()}})));this.statusReporter.stop();this.uploadHttpManager.disposeAndReplaceAllClients();s.info(`Total size of all the files uploaded is ${g} bytes`);return{uploadSize:g,totalSize:y,failedItems:d}})}uploadFileAsync(e,t){return n(this,void 0,void 0,function*(){const r=(yield _(t.file)).size;let n=0;let i=true;let l=0;let u=0;let d=true;if(r<65536){const n=yield y.createGZipFileInBuffer(t.file);let a;if(r<n.byteLength){a=(()=>o.createReadStream(t.file));d=false;u=r}else{a=(()=>{const e=new c.PassThrough;e.end(n);return e});u=n.byteLength}const f=yield this.uploadChunk(e,t.resourceUrl,a,0,u-1,u,d,r);if(!f){i=false;l+=u;s.warning(`Aborting upload for ${t.file} due to failure`)}return{isSuccess:i,successfulUploadSize:u-l,totalSize:r}}else{const c=yield a.file();u=yield y.createGZipFileOnDisk(t.file,c.path);let f=c.path;if(r<u){u=r;f=t.file;d=false}let h=false;while(n<u){const a=Math.min(u-n,t.maxChunkSize);if(u>104857600){this.statusReporter.updateLargeFileStatus(t.file,n,u)}const c=n;const p=n+a-1;n+=t.maxChunkSize;if(h){l+=a;continue}const m=yield this.uploadChunk(e,t.resourceUrl,()=>o.createReadStream(f,{start:c,end:p,autoClose:false}),c,p,u,d,r);if(!m){i=false;l+=a;s.warning(`Aborting upload for ${t.file} due to failure`);h=true}}yield c.cleanup();return{isSuccess:i,successfulUploadSize:u-l,totalSize:r}}})}uploadChunk(e,t,r,i,o,a,c,d){return n(this,void 0,void 0,function*(){const f=l.getUploadHeaders("application/octet-stream",true,c,d,o-i+1,l.getContentRange(i,o,a));const h=()=>n(this,void 0,void 0,function*(){const n=this.uploadHttpManager.getClient(e);return yield n.sendStream("PUT",t,r(),f)});let p=0;const m=u.getRetryLimit();const g=e=>{p++;if(p>m){if(e){l.displayHttpDiagnostics(e)}s.info(`Retry limit has been reached for chunk at offset ${i} to ${t}`);return true}return false};const y=t=>n(this,void 0,void 0,function*(){this.uploadHttpManager.disposeAndReplaceClient(e);if(t){s.info(`Backoff due to too many requests, retry #${p}. Waiting for ${t} milliseconds before continuing the upload`);yield l.sleep(t)}else{const e=l.getExponentialRetryTimeInMilliseconds(p);s.info(`Exponential backoff for retry #${p}. Waiting for ${e} milliseconds before continuing the upload at offset ${i}`);yield l.sleep(e)}s.info(`Finished backoff for retry #${p}, continuing with upload`);return});while(p<=m){let r;try{r=yield h()}catch(t){s.info(`An error has been caught http-client index ${e}, retrying the upload`);console.log(t);if(g()){return false}yield y();continue}yield r.readBody();if(l.isSuccessStatusCode(r.message.statusCode)){return true}else if(l.isRetryableStatusCode(r.message.statusCode)){s.info(`A ${r.message.statusCode} status code has been received, will attempt to retry the upload`);if(g(r)){return false}l.isThrottledStatusCode(r.message.statusCode)?yield y(l.tryGetRetryAfterValueTimeInMilliseconds(r.message.headers)):yield y()}else{s.error(`Unexpected response. Unable to upload chunk to ${t}`);l.displayHttpDiagnostics(r);return false}}return false})}patchArtifactSize(e,t){return n(this,void 0,void 0,function*(){const r=new f.URL(l.getArtifactUrl());r.searchParams.append("artifactName",t);const i={Size:e};const o=JSON.stringify(i,null,2);s.debug(`URL is ${r.toString()}`);const a=this.uploadHttpManager.getClient(0);const c=l.getUploadHeaders("application/json",false);const u=new Map([[m.HttpCodes.NotFound,`An Artifact with the name ${t} was not found`]]);const d=yield w.retryHttpClientRequest("Finalize artifact upload",()=>n(this,void 0,void 0,function*(){return a.patch(r.toString(),o,c)}),u);yield d.readBody();s.debug(`Artifact ${t} has been successfully uploaded, total size in bytes: ${e}`)})}}t.UploadHttpClient=UploadHttpClient},183:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(5747));const o=r(2186);const s=r(5622);const a=r(6327);function getUploadSpecification(e,t,r){a.checkArtifactName(e);const n=[];if(!i.existsSync(t)){throw new Error(`Provided rootDirectory ${t} does not exist`)}if(!i.lstatSync(t).isDirectory()){throw new Error(`Provided rootDirectory ${t} is not a valid directory`)}t=s.normalize(t);t=s.resolve(t);for(let c of r){if(!i.existsSync(c)){throw new Error(`File ${c} does not exist`)}if(!i.lstatSync(c).isDirectory()){c=s.normalize(c);c=s.resolve(c);if(!c.startsWith(t)){throw new Error(`The rootDirectory: ${t} is not a parent directory of the file: ${c}`)}const r=c.replace(t,"");a.checkArtifactFilePath(r);n.push({absoluteFilePath:c,uploadFilePath:s.join(e,r)})}else{o.debug(`Removing ${c} from rawSearchResults because it is a directory`)}}return n}t.getUploadSpecification=getUploadSpecification},6327:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:true});const i=r(2186);const o=r(5747);const s=r(9925);const a=r(3702);const c=r(2222);function getExponentialRetryTimeInMilliseconds(e){if(e<0){throw new Error("RetryCount should not be negative")}else if(e===0){return c.getInitialRetryIntervalInMilliseconds()}const t=c.getInitialRetryIntervalInMilliseconds()*c.getRetryMultiplier()*e;const r=t*c.getRetryMultiplier();return Math.random()*(r-t)+t}t.getExponentialRetryTimeInMilliseconds=getExponentialRetryTimeInMilliseconds;function parseEnvNumber(e){const t=Number(process.env[e]);if(Number.isNaN(t)||t<0){return undefined}return t}t.parseEnvNumber=parseEnvNumber;function getApiVersion(){return"6.0-preview"}t.getApiVersion=getApiVersion;function isSuccessStatusCode(e){if(!e){return false}return e>=200&&e<300}t.isSuccessStatusCode=isSuccessStatusCode;function isForbiddenStatusCode(e){if(!e){return false}return e===s.HttpCodes.Forbidden}t.isForbiddenStatusCode=isForbiddenStatusCode;function isRetryableStatusCode(e){if(!e){return false}const t=[s.HttpCodes.BadGateway,s.HttpCodes.ServiceUnavailable,s.HttpCodes.GatewayTimeout,s.HttpCodes.TooManyRequests,413];return t.includes(e)}t.isRetryableStatusCode=isRetryableStatusCode;function isThrottledStatusCode(e){if(!e){return false}return e===s.HttpCodes.TooManyRequests}t.isThrottledStatusCode=isThrottledStatusCode;function tryGetRetryAfterValueTimeInMilliseconds(e){if(e["retry-after"]){const t=Number(e["retry-after"]);if(!isNaN(t)){i.info(`Retry-After header is present with a value of ${t}`);return t*1e3}i.info(`Returned retry-after header value: ${t} is non-numeric and cannot be used`);return undefined}i.info(`No retry-after header was found. Dumping all headers for diagnostic purposes`);console.log(e);return undefined}t.tryGetRetryAfterValueTimeInMilliseconds=tryGetRetryAfterValueTimeInMilliseconds;function getContentRange(e,t,r){return`bytes ${e}-${t}/${r}`}t.getContentRange=getContentRange;function getDownloadHeaders(e,t,r){const n={};if(e){n["Content-Type"]=e}if(t){n["Connection"]="Keep-Alive";n["Keep-Alive"]="10"}if(r){n["Accept-Encoding"]="gzip";n["Accept"]=`application/octet-stream;api-version=${getApiVersion()}`}else{n["Accept"]=`application/json;api-version=${getApiVersion()}`}return n}t.getDownloadHeaders=getDownloadHeaders;function getUploadHeaders(e,t,r,n,i,o){const s={};s["Accept"]=`application/json;api-version=${getApiVersion()}`;if(e){s["Content-Type"]=e}if(t){s["Connection"]="Keep-Alive";s["Keep-Alive"]="10"}if(r){s["Content-Encoding"]="gzip";s["x-tfs-filelength"]=n}if(i){s["Content-Length"]=i}if(o){s["Content-Range"]=o}return s}t.getUploadHeaders=getUploadHeaders;function createHttpClient(e){return new s.HttpClient(e,[new a.BearerCredentialHandler(c.getRuntimeToken())])}t.createHttpClient=createHttpClient;function getArtifactUrl(){const e=`${c.getRuntimeUrl()}_apis/pipelines/workflows/${c.getWorkFlowRunId()}/artifacts?api-version=${getApiVersion()}`;i.debug(`Artifact Url: ${e}`);return e}t.getArtifactUrl=getArtifactUrl;function displayHttpDiagnostics(e){i.info(`##### Begin Diagnostic HTTP information #####\nStatus Code: ${e.message.statusCode}\nStatus Message: ${e.message.statusMessage}\nHeader Information: ${JSON.stringify(e.message.headers,undefined,2)}\n###### End Diagnostic HTTP information ######`)}t.displayHttpDiagnostics=displayHttpDiagnostics;const l=['"',":","<",">","|","*","?"];const u=[...l,"\\","/"];function checkArtifactName(e){if(!e){throw new Error(`Artifact name: ${e}, is incorrectly provided`)}for(const t of u){if(e.includes(t)){throw new Error(`Artifact name is not valid: ${e}. Contains character: "${t}". Invalid artifact name characters include: ${u.toString()}.`)}}}t.checkArtifactName=checkArtifactName;function checkArtifactFilePath(e){if(!e){throw new Error(`Artifact path: ${e}, is incorrectly provided`)}for(const t of l){if(e.includes(t)){throw new Error(`Artifact path is not valid: ${e}. Contains character: "${t}". Invalid characters include: ${l.toString()}.`)}}}t.checkArtifactFilePath=checkArtifactFilePath;function createDirectoriesForArtifact(e){return n(this,void 0,void 0,function*(){for(const t of e){yield o.promises.mkdir(t,{recursive:true})}})}t.createDirectoriesForArtifact=createDirectoriesForArtifact;function createEmptyFilesForArtifact(e){return n(this,void 0,void 0,function*(){for(const t of e){yield(yield o.promises.open(t,"w")).close()}})}t.createEmptyFilesForArtifact=createEmptyFilesForArtifact;function getFileSize(e){return n(this,void 0,void 0,function*(){const t=yield o.promises.stat(e);i.debug(`${e} size:(${t.size}) blksize:(${t.blksize}) blocks:(${t.blocks})`);return t.size})}t.getFileSize=getFileSize;function rmFile(e){return n(this,void 0,void 0,function*(){yield o.promises.unlink(e)})}t.rmFile=rmFile;function getProperRetention(e,t){if(e<0){throw new Error("Invalid retention, minimum value is 1.")}let r=e;if(t){const e=parseInt(t);if(!isNaN(e)&&e<r){i.warning(`Retention days is greater than the max value allowed by the repository setting, reduce retention to ${e} days`);r=e}}return r}t.getProperRetention=getProperRetention;function sleep(e){return n(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(t,e))})}t.sleep=sleep},7351:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(2087));const o=r(5278);function issueCommand(e,t,r){const n=new Command(e,t,r);process.stdout.write(n.toString()+i.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const s="::";class Command{constructor(e,t,r){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=r}toString(){let e=s+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const r in this.properties){if(this.properties.hasOwnProperty(r)){const n=this.properties[r];if(n){if(t){t=false}else{e+=","}e+=`${r}=${escapeProperty(n)}`}}}}e+=`${s}${escapeData(this.message)}`;return e}}function escapeData(e){return o.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return o.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},2186:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const o=r(7351);const s=r(717);const a=r(5278);const c=i(r(2087));const l=i(r(5622));var u;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(u=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const r=a.toCommandValue(t);process.env[e]=r;const n=process.env["GITHUB_ENV"]||"";if(n){const t="_GitHubActionsFileCommandDelimeter_";const n=`${e}<<${t}${c.EOL}${r}${c.EOL}${t}`;s.issueCommand("ENV",n)}else{o.issueCommand("set-env",{name:e},r)}}t.exportVariable=exportVariable;function setSecret(e){o.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){s.issueCommand("PATH",e)}else{o.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${l.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r){throw new Error(`Input required and not supplied: ${e}`)}return r.trim()}t.getInput=getInput;function setOutput(e,t){o.issueCommand("set-output",{name:e},t)}t.setOutput=setOutput;function setCommandEcho(e){o.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=u.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){o.issueCommand("debug",{},e)}t.debug=debug;function error(e){o.issue("error",e instanceof Error?e.toString():e)}t.error=error;function warning(e){o.issue("warning",e instanceof Error?e.toString():e)}t.warning=warning;function info(e){process.stdout.write(e+c.EOL)}t.info=info;function startGroup(e){o.issue("group",e)}t.startGroup=startGroup;function endGroup(){o.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return n(this,void 0,void 0,function*(){startGroup(e);let r;try{r=yield t()}finally{endGroup()}return r})}t.group=group;function saveState(e,t){o.issueCommand("save-state",{name:e},t)}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState},717:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const i=n(r(5747));const o=n(r(2087));const s=r(5278);function issueCommand(e,t){const r=process.env[`GITHUB_${e}`];if(!r){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!i.existsSync(r)){throw new Error(`Missing file at path: ${r}`)}i.appendFileSync(r,`${s.toCommandValue(t)}${o.EOL}`,{encoding:"utf8"})}t.issueCommand=issueCommand},5278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue},4087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Context=void 0;const n=r(5747);const i=r(2087);class Context{constructor(){this.payload={};if(process.env.GITHUB_EVENT_PATH){if(n.existsSync(process.env.GITHUB_EVENT_PATH)){this.payload=JSON.parse(n.readFileSync(process.env.GITHUB_EVENT_PATH,{encoding:"utf8"}))}else{const e=process.env.GITHUB_EVENT_PATH;process.stdout.write(`GITHUB_EVENT_PATH ${e} does not exist${i.EOL}`)}}this.eventName=process.env.GITHUB_EVENT_NAME;this.sha=process.env.GITHUB_SHA;this.ref=process.env.GITHUB_REF;this.workflow=process.env.GITHUB_WORKFLOW;this.action=process.env.GITHUB_ACTION;this.actor=process.env.GITHUB_ACTOR;this.job=process.env.GITHUB_JOB;this.runNumber=parseInt(process.env.GITHUB_RUN_NUMBER,10);this.runId=parseInt(process.env.GITHUB_RUN_ID,10)}get issue(){const e=this.payload;return Object.assign(Object.assign({},this.repo),{number:(e.issue||e.pull_request||e).number})}get repo(){if(process.env.GITHUB_REPOSITORY){const[e,t]=process.env.GITHUB_REPOSITORY.split("/");return{owner:e,repo:t}}if(this.payload.repository){return{owner:this.payload.repository.owner.login,repo:this.payload.repository.name}}throw new Error("context.repo requires a GITHUB_REPOSITORY environment variable like 'owner/repo'")}}t.Context=Context},5438:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.getOctokit=t.context=void 0;const s=o(r(4087));const a=r(3030);t.context=new s.Context;function getOctokit(e,t){return new a.GitHub(a.getOctokitOptions(e,t))}t.getOctokit=getOctokit},7914:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.getApiBaseUrl=t.getProxyAgent=t.getAuthString=void 0;const s=o(r(9925));function getAuthString(e,t){if(!e&&!t.auth){throw new Error("Parameter token or opts.auth is required")}else if(e&&t.auth){throw new Error("Parameters token and opts.auth may not both be specified")}return typeof t.auth==="string"?t.auth:`token ${e}`}t.getAuthString=getAuthString;function getProxyAgent(e){const t=new s.HttpClient;return t.getAgent(e)}t.getProxyAgent=getProxyAgent;function getApiBaseUrl(){return process.env["GITHUB_API_URL"]||"https://api.github.com"}t.getApiBaseUrl=getApiBaseUrl},3030:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.getOctokitOptions=t.GitHub=t.context=void 0;const s=o(r(4087));const a=o(r(7914));const c=r(6762);const l=r(3044);const u=r(4193);t.context=new s.Context;const d=a.getApiBaseUrl();const f={baseUrl:d,request:{agent:a.getProxyAgent(d)}};t.GitHub=c.Octokit.plugin(l.restEndpointMethods,u.paginateRest).defaults(f);function getOctokitOptions(e,t){const r=Object.assign({},t||{});const n=a.getAuthString(e,r);if(n){r.auth=n}return r}t.getOctokitOptions=getOctokitOptions},3702:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});class BasicCredentialHandler{constructor(e,t){this.username=e;this.password=t}prepareRequest(e){e.headers["Authorization"]="Basic "+Buffer.from(this.username+":"+this.password).toString("base64")}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(e){this.token=e}prepareRequest(e){e.headers["Authorization"]="Bearer "+this.token}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(e){this.token=e}prepareRequest(e){e.headers["Authorization"]="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(e){return false}handleAuthentication(e,t,r){return null}}t.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},9925:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(8605);const i=r(7211);const o=r(6443);let s;var a;(function(e){e[e["OK"]=200]="OK";e[e["MultipleChoices"]=300]="MultipleChoices";e[e["MovedPermanently"]=301]="MovedPermanently";e[e["ResourceMoved"]=302]="ResourceMoved";e[e["SeeOther"]=303]="SeeOther";e[e["NotModified"]=304]="NotModified";e[e["UseProxy"]=305]="UseProxy";e[e["SwitchProxy"]=306]="SwitchProxy";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";e[e["BadRequest"]=400]="BadRequest";e[e["Unauthorized"]=401]="Unauthorized";e[e["PaymentRequired"]=402]="PaymentRequired";e[e["Forbidden"]=403]="Forbidden";e[e["NotFound"]=404]="NotFound";e[e["MethodNotAllowed"]=405]="MethodNotAllowed";e[e["NotAcceptable"]=406]="NotAcceptable";e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";e[e["RequestTimeout"]=408]="RequestTimeout";e[e["Conflict"]=409]="Conflict";e[e["Gone"]=410]="Gone";e[e["TooManyRequests"]=429]="TooManyRequests";e[e["InternalServerError"]=500]="InternalServerError";e[e["NotImplemented"]=501]="NotImplemented";e[e["BadGateway"]=502]="BadGateway";e[e["ServiceUnavailable"]=503]="ServiceUnavailable";e[e["GatewayTimeout"]=504]="GatewayTimeout"})(a=t.HttpCodes||(t.HttpCodes={}));var c;(function(e){e["Accept"]="accept";e["ContentType"]="content-type"})(c=t.Headers||(t.Headers={}));var l;(function(e){e["ApplicationJson"]="application/json"})(l=t.MediaTypes||(t.MediaTypes={}));function getProxyUrl(e){let t=o.getProxyUrl(new URL(e));return t?t.href:""}t.getProxyUrl=getProxyUrl;const u=[a.MovedPermanently,a.ResourceMoved,a.SeeOther,a.TemporaryRedirect,a.PermanentRedirect];const d=[a.BadGateway,a.ServiceUnavailable,a.GatewayTimeout];const f=["OPTIONS","GET","DELETE","HEAD"];const h=10;const p=5;class HttpClientError extends Error{constructor(e,t){super(e);this.name="HttpClientError";this.statusCode=t;Object.setPrototypeOf(this,HttpClientError.prototype)}}t.HttpClientError=HttpClientError;class HttpClientResponse{constructor(e){this.message=e}readBody(){return new Promise(async(e,t)=>{let r=Buffer.alloc(0);this.message.on("data",e=>{r=Buffer.concat([r,e])});this.message.on("end",()=>{e(r.toString())})})}}t.HttpClientResponse=HttpClientResponse;function isHttps(e){let t=new URL(e);return t.protocol==="https:"}t.isHttps=isHttps;class HttpClient{constructor(e,t,r){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=e;this.handlers=t||[];this.requestOptions=r;if(r){if(r.ignoreSslError!=null){this._ignoreSslError=r.ignoreSslError}this._socketTimeout=r.socketTimeout;if(r.allowRedirects!=null){this._allowRedirects=r.allowRedirects}if(r.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=r.allowRedirectDowngrade}if(r.maxRedirects!=null){this._maxRedirects=Math.max(r.maxRedirects,0)}if(r.keepAlive!=null){this._keepAlive=r.keepAlive}if(r.allowRetries!=null){this._allowRetries=r.allowRetries}if(r.maxRetries!=null){this._maxRetries=r.maxRetries}}}options(e,t){return this.request("OPTIONS",e,null,t||{})}get(e,t){return this.request("GET",e,null,t||{})}del(e,t){return this.request("DELETE",e,null,t||{})}post(e,t,r){return this.request("POST",e,t,r||{})}patch(e,t,r){return this.request("PATCH",e,t,r||{})}put(e,t,r){return this.request("PUT",e,t,r||{})}head(e,t){return this.request("HEAD",e,null,t||{})}sendStream(e,t,r,n){return this.request(e,t,r,n)}async getJson(e,t={}){t[c.Accept]=this._getExistingOrDefaultHeader(t,c.Accept,l.ApplicationJson);let r=await this.get(e,t);return this._processResponse(r,this.requestOptions)}async postJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[c.Accept]=this._getExistingOrDefaultHeader(r,c.Accept,l.ApplicationJson);r[c.ContentType]=this._getExistingOrDefaultHeader(r,c.ContentType,l.ApplicationJson);let i=await this.post(e,n,r);return this._processResponse(i,this.requestOptions)}async putJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[c.Accept]=this._getExistingOrDefaultHeader(r,c.Accept,l.ApplicationJson);r[c.ContentType]=this._getExistingOrDefaultHeader(r,c.ContentType,l.ApplicationJson);let i=await this.put(e,n,r);return this._processResponse(i,this.requestOptions)}async patchJson(e,t,r={}){let n=JSON.stringify(t,null,2);r[c.Accept]=this._getExistingOrDefaultHeader(r,c.Accept,l.ApplicationJson);r[c.ContentType]=this._getExistingOrDefaultHeader(r,c.ContentType,l.ApplicationJson);let i=await this.patch(e,n,r);return this._processResponse(i,this.requestOptions)}async request(e,t,r,n){if(this._disposed){throw new Error("Client has already been disposed.")}let i=new URL(t);let o=this._prepareRequest(e,i,n);let s=this._allowRetries&&f.indexOf(e)!=-1?this._maxRetries+1:1;let c=0;let l;while(c<s){l=await this.requestRaw(o,r);if(l&&l.message&&l.message.statusCode===a.Unauthorized){let e;for(let t=0;t<this.handlers.length;t++){if(this.handlers[t].canHandleAuthentication(l)){e=this.handlers[t];break}}if(e){return e.handleAuthentication(this,o,r)}else{return l}}let t=this._maxRedirects;while(u.indexOf(l.message.statusCode)!=-1&&this._allowRedirects&&t>0){const s=l.message.headers["location"];if(!s){break}let a=new URL(s);if(i.protocol=="https:"&&i.protocol!=a.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}await l.readBody();if(a.hostname!==i.hostname){for(let e in n){if(e.toLowerCase()==="authorization"){delete n[e]}}}o=this._prepareRequest(e,a,n);l=await this.requestRaw(o,r);t--}if(d.indexOf(l.message.statusCode)==-1){return l}c+=1;if(c<s){await l.readBody();await this._performExponentialBackoff(c)}}return l}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(e,t){return new Promise((r,n)=>{let i=function(e,t){if(e){n(e)}r(t)};this.requestRawWithCallback(e,t,i)})}requestRawWithCallback(e,t,r){let n;if(typeof t==="string"){e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8")}let i=false;let o=(e,t)=>{if(!i){i=true;r(e,t)}};let s=e.httpModule.request(e.options,e=>{let t=new HttpClientResponse(e);o(null,t)});s.on("socket",e=>{n=e});s.setTimeout(this._socketTimeout||3*6e4,()=>{if(n){n.end()}o(new Error("Request timeout: "+e.options.path),null)});s.on("error",function(e){o(e,null)});if(t&&typeof t==="string"){s.write(t,"utf8")}if(t&&typeof t!=="string"){t.on("close",function(){s.end()});t.pipe(s)}else{s.end()}}getAgent(e){let t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,r){const o={};o.parsedUrl=t;const s=o.parsedUrl.protocol==="https:";o.httpModule=s?i:n;const a=s?443:80;o.options={};o.options.host=o.parsedUrl.hostname;o.options.port=o.parsedUrl.port?parseInt(o.parsedUrl.port):a;o.options.path=(o.parsedUrl.pathname||"")+(o.parsedUrl.search||"");o.options.method=e;o.options.headers=this._mergeHeaders(r);if(this.userAgent!=null){o.options.headers["user-agent"]=this.userAgent}o.options.agent=this._getAgent(o.parsedUrl);if(this.handlers){this.handlers.forEach(e=>{e.prepareRequest(o.options)})}return o}_mergeHeaders(e){const t=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{});if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},t(this.requestOptions.headers),t(e))}return t(e||{})}_getExistingOrDefaultHeader(e,t,r){const n=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{});let i;if(this.requestOptions&&this.requestOptions.headers){i=n(this.requestOptions.headers)[t]}return e[t]||i||r}_getAgent(e){let t;let a=o.getProxyUrl(e);let c=a&&a.hostname;if(this._keepAlive&&c){t=this._proxyAgent}if(this._keepAlive&&!c){t=this._agent}if(!!t){return t}const l=e.protocol==="https:";let u=100;if(!!this.requestOptions){u=this.requestOptions.maxSockets||n.globalAgent.maxSockets}if(c){if(!s){s=r(4294)}const e={maxSockets:u,keepAlive:this._keepAlive,proxy:{proxyAuth:`${a.username}:${a.password}`,host:a.hostname,port:a.port}};let n;const i=a.protocol==="https:";if(l){n=i?s.httpsOverHttps:s.httpsOverHttp}else{n=i?s.httpOverHttps:s.httpOverHttp}t=n(e);this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:u};t=l?new i.Agent(e):new n.Agent(e);this._agent=t}if(!t){t=l?i.globalAgent:n.globalAgent}if(l&&this._ignoreSslError){t.options=Object.assign(t.options||{},{rejectUnauthorized:false})}return t}_performExponentialBackoff(e){e=Math.min(h,e);const t=p*Math.pow(2,e);return new Promise(e=>setTimeout(()=>e(),t))}static dateTimeDeserializer(e,t){if(typeof t==="string"){let e=new Date(t);if(!isNaN(e.valueOf())){return e}}return t}async _processResponse(e,t){return new Promise(async(r,n)=>{const i=e.message.statusCode;const o={statusCode:i,result:null,headers:{}};if(i==a.NotFound){r(o)}let s;let c;try{c=await e.readBody();if(c&&c.length>0){if(t&&t.deserializeDates){s=JSON.parse(c,HttpClient.dateTimeDeserializer)}else{s=JSON.parse(c)}o.result=s}o.headers=e.message.headers}catch(e){}if(i>299){let e;if(s&&s.message){e=s.message}else if(c&&c.length>0){e=c}else{e="Failed request: ("+i+")"}let t=new HttpClientError(e,i);t.result=o.result;n(t)}else{r(o)}})}}t.HttpClient=HttpClient},6443:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function getProxyUrl(e){let t=e.protocol==="https:";let r;if(checkBypass(e)){return r}let n;if(t){n=process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{n=process.env["http_proxy"]||process.env["HTTP_PROXY"]}if(n){r=new URL(n)}return r}t.getProxyUrl=getProxyUrl;function checkBypass(e){if(!e.hostname){return false}let t=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!t){return false}let r;if(e.port){r=Number(e.port)}else if(e.protocol==="http:"){r=80}else if(e.protocol==="https:"){r=443}let n=[e.hostname.toUpperCase()];if(typeof r==="number"){n.push(`${n[0]}:${r}`)}for(let e of t.split(",").map(e=>e.trim().toUpperCase()).filter(e=>e)){if(n.some(t=>t===e)){return true}}return false}t.checkBypass=checkBypass},1962:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};var i;Object.defineProperty(t,"__esModule",{value:true});const o=r(2357);const s=r(5747);const a=r(5622);i=s.promises,t.chmod=i.chmod,t.copyFile=i.copyFile,t.lstat=i.lstat,t.mkdir=i.mkdir,t.readdir=i.readdir,t.readlink=i.readlink,t.rename=i.rename,t.rmdir=i.rmdir,t.stat=i.stat,t.symlink=i.symlink,t.unlink=i.unlink;t.IS_WINDOWS=process.platform==="win32";function exists(e){return n(this,void 0,void 0,function*(){try{yield t.stat(e)}catch(e){if(e.code==="ENOENT"){return false}throw e}return true})}t.exists=exists;function isDirectory(e,r=false){return n(this,void 0,void 0,function*(){const n=r?yield t.stat(e):yield t.lstat(e);return n.isDirectory()})}t.isDirectory=isDirectory;function isRooted(e){e=normalizeSeparators(e);if(!e){throw new Error('isRooted() parameter "p" cannot be empty')}if(t.IS_WINDOWS){return e.startsWith("\\")||/^[A-Z]:/i.test(e)}return e.startsWith("/")}t.isRooted=isRooted;function mkdirP(e,r=1e3,i=1){return n(this,void 0,void 0,function*(){o.ok(e,"a path argument must be provided");e=a.resolve(e);if(i>=r)return t.mkdir(e);try{yield t.mkdir(e);return}catch(n){switch(n.code){case"ENOENT":{yield mkdirP(a.dirname(e),r,i+1);yield t.mkdir(e);return}default:{let r;try{r=yield t.stat(e)}catch(e){throw n}if(!r.isDirectory())throw n}}}})}t.mkdirP=mkdirP;function tryGetExecutablePath(e,r){return n(this,void 0,void 0,function*(){let n=undefined;try{n=yield t.stat(e)}catch(t){if(t.code!=="ENOENT"){console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${t}`)}}if(n&&n.isFile()){if(t.IS_WINDOWS){const t=a.extname(e).toUpperCase();if(r.some(e=>e.toUpperCase()===t)){return e}}else{if(isUnixExecutable(n)){return e}}}const i=e;for(const o of r){e=i+o;n=undefined;try{n=yield t.stat(e)}catch(t){if(t.code!=="ENOENT"){console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${t}`)}}if(n&&n.isFile()){if(t.IS_WINDOWS){try{const r=a.dirname(e);const n=a.basename(e).toUpperCase();for(const i of yield t.readdir(r)){if(n===i.toUpperCase()){e=a.join(r,i);break}}}catch(t){console.log(`Unexpected error attempting to determine the actual case of the file '${e}': ${t}`)}return e}else{if(isUnixExecutable(n)){return e}}}}return""})}t.tryGetExecutablePath=tryGetExecutablePath;function normalizeSeparators(e){e=e||"";if(t.IS_WINDOWS){e=e.replace(/\//g,"\\");return e.replace(/\\\\+/g,"\\")}return e.replace(/\/\/+/g,"/")}function isUnixExecutable(e){return(e.mode&1)>0||(e.mode&8)>0&&e.gid===process.getgid()||(e.mode&64)>0&&e.uid===process.getuid()}},7436:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:true});const i=r(3129);const o=r(5622);const s=r(1669);const a=r(1962);const c=s.promisify(i.exec);function cp(e,t,r={}){return n(this,void 0,void 0,function*(){const{force:n,recursive:i}=readCopyOptions(r);const s=(yield a.exists(t))?yield a.stat(t):null;if(s&&s.isFile()&&!n){return}const c=s&&s.isDirectory()?o.join(t,o.basename(e)):t;if(!(yield a.exists(e))){throw new Error(`no such file or directory: ${e}`)}const l=yield a.stat(e);if(l.isDirectory()){if(!i){throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`)}else{yield cpDirRecursive(e,c,0,n)}}else{if(o.relative(e,c)===""){throw new Error(`'${c}' and '${e}' are the same file`)}yield copyFile(e,c,n)}})}t.cp=cp;function mv(e,t,r={}){return n(this,void 0,void 0,function*(){if(yield a.exists(t)){let n=true;if(yield a.isDirectory(t)){t=o.join(t,o.basename(e));n=yield a.exists(t)}if(n){if(r.force==null||r.force){yield rmRF(t)}else{throw new Error("Destination already exists")}}}yield mkdirP(o.dirname(t));yield a.rename(e,t)})}t.mv=mv;function rmRF(e){return n(this,void 0,void 0,function*(){if(a.IS_WINDOWS){try{if(yield a.isDirectory(e,true)){yield c(`rd /s /q "${e}"`)}else{yield c(`del /f /a "${e}"`)}}catch(e){if(e.code!=="ENOENT")throw e}try{yield a.unlink(e)}catch(e){if(e.code!=="ENOENT")throw e}}else{let t=false;try{t=yield a.isDirectory(e)}catch(e){if(e.code!=="ENOENT")throw e;return}if(t){yield c(`rm -rf "${e}"`)}else{yield a.unlink(e)}}})}t.rmRF=rmRF;function mkdirP(e){return n(this,void 0,void 0,function*(){yield a.mkdirP(e)})}t.mkdirP=mkdirP;function which(e,t){return n(this,void 0,void 0,function*(){if(!e){throw new Error("parameter 'tool' is required")}if(t){const t=yield which(e,false);if(!t){if(a.IS_WINDOWS){throw new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`)}else{throw new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`)}}}try{const t=[];if(a.IS_WINDOWS&&process.env.PATHEXT){for(const e of process.env.PATHEXT.split(o.delimiter)){if(e){t.push(e)}}}if(a.isRooted(e)){const r=yield a.tryGetExecutablePath(e,t);if(r){return r}return""}if(e.includes("/")||a.IS_WINDOWS&&e.includes("\\")){return""}const r=[];if(process.env.PATH){for(const e of process.env.PATH.split(o.delimiter)){if(e){r.push(e)}}}for(const n of r){const r=yield a.tryGetExecutablePath(n+o.sep+e,t);if(r){return r}}return""}catch(e){throw new Error(`which failed with message ${e.message}`)}})}t.which=which;function readCopyOptions(e){const t=e.force==null?true:e.force;const r=Boolean(e.recursive);return{force:t,recursive:r}}function cpDirRecursive(e,t,r,i){return n(this,void 0,void 0,function*(){if(r>=255)return;r++;yield mkdirP(t);const n=yield a.readdir(e);for(const o of n){const n=`${e}/${o}`;const s=`${t}/${o}`;const c=yield a.lstat(n);if(c.isDirectory()){yield cpDirRecursive(n,s,r,i)}else{yield copyFile(n,s,i)}}yield a.chmod(t,(yield a.stat(e)).mode)})}function copyFile(e,t,r){return n(this,void 0,void 0,function*(){if((yield a.lstat(e)).isSymbolicLink()){try{yield a.lstat(t);yield a.unlink(t)}catch(e){if(e.code==="EPERM"){yield a.chmod(t,"0666");yield a.unlink(t)}}const r=yield a.readlink(e);yield a.symlink(r,t,a.IS_WINDOWS?"junction":null)}else if(!(yield a.exists(t))||r){yield a.copyFile(e,t)}})}},334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});async function auth(e){const t=e.split(/\./).length===3?"app":/^v\d+\./.test(e)?"installation":"oauth";return{type:"token",token:e,tokenType:t}}function withAuthorizationPrefix(e){if(e.split(/\./).length===3){return`bearer ${e}`}return`token ${e}`}async function hook(e,t,r,n){const i=t.endpoint.merge(r,n);i.headers.authorization=withAuthorizationPrefix(e);return t(i)}const r=function createTokenAuth(e){if(!e){throw new Error("[@octokit/auth-token] No token passed to createTokenAuth")}if(typeof e!=="string"){throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string")}e=e.replace(/^(token|bearer) +/i,"");return Object.assign(auth.bind(null,e),{hook:hook.bind(null,e)})};t.createTokenAuth=r},6762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(5030);var i=r(3682);var o=r(6234);var s=r(8467);var a=r(334);function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var i,o;for(o=0;o<n.length;o++){i=n[o];if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function _objectWithoutProperties(e,t){if(e==null)return{};var r=_objectWithoutPropertiesLoose(e,t);var n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++){n=o[i];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}const c="3.2.4";class Octokit{constructor(e={}){const t=new i.Collection;const r={baseUrl:o.request.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};r.headers["user-agent"]=[e.userAgent,`octokit-core.js/${c} ${n.getUserAgent()}`].filter(Boolean).join(" ");if(e.baseUrl){r.baseUrl=e.baseUrl}if(e.previews){r.mediaType.previews=e.previews}if(e.timeZone){r.headers["time-zone"]=e.timeZone}this.request=o.request.defaults(r);this.graphql=s.withCustomRequest(this.request).defaults(r);this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log);this.hook=t;if(!e.authStrategy){if(!e.auth){this.auth=(async()=>({type:"unauthenticated"}))}else{const r=a.createTokenAuth(e.auth);t.wrap("request",r.hook);this.auth=r}}else{const{authStrategy:r}=e,n=_objectWithoutProperties(e,["authStrategy"]);const i=r(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:n},e.auth));t.wrap("request",i.hook);this.auth=i}const l=this.constructor;l.plugins.forEach(t=>{Object.assign(this,t(this,e))})}static defaults(e){const t=class extends(this){constructor(...t){const r=t[0]||{};if(typeof e==="function"){super(e(r));return}super(Object.assign({},e,r,r.userAgent&&e.userAgent?{userAgent:`${r.userAgent} ${e.userAgent}`}:null))}};return t}static plugin(...e){var t;const r=this.plugins;const n=(t=class extends(this){},t.plugins=r.concat(e.filter(e=>!r.includes(e))),t);return n}}Octokit.VERSION=c;Octokit.plugins=[];t.Octokit=Octokit},9440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(3287);var i=r(5030);function lowercaseKeys(e){if(!e){return{}}return Object.keys(e).reduce((t,r)=>{t[r.toLowerCase()]=e[r];return t},{})}function mergeDeep(e,t){const r=Object.assign({},e);Object.keys(t).forEach(i=>{if(n.isPlainObject(t[i])){if(!(i in e))Object.assign(r,{[i]:t[i]});else r[i]=mergeDeep(e[i],t[i])}else{Object.assign(r,{[i]:t[i]})}});return r}function removeUndefinedProperties(e){for(const t in e){if(e[t]===undefined){delete e[t]}}return e}function merge(e,t,r){if(typeof t==="string"){let[e,n]=t.split(" ");r=Object.assign(n?{method:e,url:n}:{url:e},r)}else{r=Object.assign({},t)}r.headers=lowercaseKeys(r.headers);removeUndefinedProperties(r);removeUndefinedProperties(r.headers);const n=mergeDeep(e||{},r);if(e&&e.mediaType.previews.length){n.mediaType.previews=e.mediaType.previews.filter(e=>!n.mediaType.previews.includes(e)).concat(n.mediaType.previews)}n.mediaType.previews=n.mediaType.previews.map(e=>e.replace(/-preview/,""));return n}function addQueryParameters(e,t){const r=/\?/.test(e)?"&":"?";const n=Object.keys(t);if(n.length===0){return e}return e+r+n.map(e=>{if(e==="q"){return"q="+t.q.split("+").map(encodeURIComponent).join("+")}return`${e}=${encodeURIComponent(t[e])}`}).join("&")}const o=/\{[^}]+\}/g;function removeNonChars(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function extractUrlVariableNames(e){const t=e.match(o);if(!t){return[]}return t.map(removeNonChars).reduce((e,t)=>e.concat(t),[])}function omit(e,t){return Object.keys(e).filter(e=>!t.includes(e)).reduce((t,r)=>{t[r]=e[r];return t},{})}function encodeReserved(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){if(!/%[0-9A-Fa-f]/.test(e)){e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")}return e}).join("")}function encodeUnreserved(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function encodeValue(e,t,r){t=e==="+"||e==="#"?encodeReserved(t):encodeUnreserved(t);if(r){return encodeUnreserved(r)+"="+t}else{return t}}function isDefined(e){return e!==undefined&&e!==null}function isKeyOperator(e){return e===";"||e==="&"||e==="?"}function getValues(e,t,r,n){var i=e[r],o=[];if(isDefined(i)&&i!==""){if(typeof i==="string"||typeof i==="number"||typeof i==="boolean"){i=i.toString();if(n&&n!=="*"){i=i.substring(0,parseInt(n,10))}o.push(encodeValue(t,i,isKeyOperator(t)?r:""))}else{if(n==="*"){if(Array.isArray(i)){i.filter(isDefined).forEach(function(e){o.push(encodeValue(t,e,isKeyOperator(t)?r:""))})}else{Object.keys(i).forEach(function(e){if(isDefined(i[e])){o.push(encodeValue(t,i[e],e))}})}}else{const e=[];if(Array.isArray(i)){i.filter(isDefined).forEach(function(r){e.push(encodeValue(t,r))})}else{Object.keys(i).forEach(function(r){if(isDefined(i[r])){e.push(encodeUnreserved(r));e.push(encodeValue(t,i[r].toString()))}})}if(isKeyOperator(t)){o.push(encodeUnreserved(r)+"="+e.join(","))}else if(e.length!==0){o.push(e.join(","))}}}}else{if(t===";"){if(isDefined(i)){o.push(encodeUnreserved(r))}}else if(i===""&&(t==="&"||t==="?")){o.push(encodeUnreserved(r)+"=")}else if(i===""){o.push("")}}return o}function parseUrl(e){return{expand:expand.bind(null,e)}}function expand(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(e,n,i){if(n){let e="";const i=[];if(r.indexOf(n.charAt(0))!==-1){e=n.charAt(0);n=n.substr(1)}n.split(/,/g).forEach(function(r){var n=/([^:\*]*)(?::(\d+)|(\*))?/.exec(r);i.push(getValues(t,e,n[1],n[2]||n[3]))});if(e&&e!=="+"){var o=",";if(e==="?"){o="&"}else if(e!=="#"){o=e}return(i.length!==0?e:"")+i.join(o)}else{return i.join(",")}}else{return encodeReserved(i)}})}function parse(e){let t=e.method.toUpperCase();let r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}");let n=Object.assign({},e.headers);let i;let o=omit(e,["method","baseUrl","url","headers","request","mediaType"]);const s=extractUrlVariableNames(r);r=parseUrl(r).expand(o);if(!/^http/.test(r)){r=e.baseUrl+r}const a=Object.keys(e).filter(e=>s.includes(e)).concat("baseUrl");const c=omit(o,a);const l=/application\/octet-stream/i.test(n.accept);if(!l){if(e.mediaType.format){n.accept=n.accept.split(/,/).map(t=>t.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")}if(e.mediaType.previews.length){const t=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=t.concat(e.mediaType.previews).map(t=>{const r=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${t}-preview${r}`}).join(",")}}if(["GET","HEAD"].includes(t)){r=addQueryParameters(r,c)}else{if("data"in c){i=c.data}else{if(Object.keys(c).length){i=c}else{n["content-length"]=0}}}if(!n["content-type"]&&typeof i!=="undefined"){n["content-type"]="application/json; charset=utf-8"}if(["PATCH","PUT"].includes(t)&&typeof i==="undefined"){i=""}return Object.assign({method:t,url:r,headers:n},typeof i!=="undefined"?{body:i}:null,e.request?{request:e.request}:null)}function endpointWithDefaults(e,t,r){return parse(merge(e,t,r))}function withDefaults(e,t){const r=merge(e,t);const n=endpointWithDefaults.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:withDefaults.bind(null,r),merge:merge.bind(null,r),parse:parse})}const s="6.0.10";const a=`octokit-endpoint.js/${s} ${i.getUserAgent()}`;const c={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":a},mediaType:{format:"",previews:[]}};const l=withDefaults(null,c);t.endpoint=l},8467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(6234);var i=r(5030);const o="4.5.8";class GraphqlError extends Error{constructor(e,t){const r=t.data.errors[0].message;super(r);Object.assign(this,t.data);Object.assign(this,{headers:t.headers});this.name="GraphqlError";this.request=e;if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}}const s=["method","baseUrl","url","headers","request","query","mediaType"];const a=/\/api\/v3\/?$/;function graphql(e,t,r){if(typeof t==="string"&&r&&"query"in r){return Promise.reject(new Error(`[@octokit/graphql] "query" cannot be used as variable name`))}const n=typeof t==="string"?Object.assign({query:t},r):t;const i=Object.keys(n).reduce((e,t)=>{if(s.includes(t)){e[t]=n[t];return e}if(!e.variables){e.variables={}}e.variables[t]=n[t];return e},{});const o=n.baseUrl||e.endpoint.DEFAULTS.baseUrl;if(a.test(o)){i.url=o.replace(a,"/api/graphql")}return e(i).then(e=>{if(e.data.errors){const t={};for(const r of Object.keys(e.headers)){t[r]=e.headers[r]}throw new GraphqlError(i,{headers:t,data:e.data})}return e.data.data})}function withDefaults(e,t){const r=e.defaults(t);const i=(e,t)=>{return graphql(r,e,t)};return Object.assign(i,{defaults:withDefaults.bind(null,r),endpoint:n.request.endpoint})}const c=withDefaults(n.request,{headers:{"user-agent":`octokit-graphql.js/${o} ${i.getUserAgent()}`},method:"POST",url:"/graphql"});function withCustomRequest(e){return withDefaults(e,{method:"POST",url:"/graphql"})}t.graphql=c;t.withCustomRequest=withCustomRequest},4193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const r="2.7.0";function normalizePaginatedListResponse(e){const t="total_count"in e.data&&!("url"in e.data);if(!t)return e;const r=e.data.incomplete_results;const n=e.data.repository_selection;const i=e.data.total_count;delete e.data.incomplete_results;delete e.data.repository_selection;delete e.data.total_count;const o=Object.keys(e.data)[0];const s=e.data[o];e.data=s;if(typeof r!=="undefined"){e.data.incomplete_results=r}if(typeof n!=="undefined"){e.data.repository_selection=n}e.data.total_count=i;return e}function iterator(e,t,r){const n=typeof t==="function"?t.endpoint(r):e.request.endpoint(t,r);const i=typeof t==="function"?t:e.request;const o=n.method;const s=n.headers;let a=n.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!a)return{done:true};const e=await i({method:o,url:a,headers:s});const t=normalizePaginatedListResponse(e);a=((t.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1];return{value:t}}})}}function paginate(e,t,r,n){if(typeof r==="function"){n=r;r=undefined}return gather(e,[],iterator(e,t,r)[Symbol.asyncIterator](),n)}function gather(e,t,r,n){return r.next().then(i=>{if(i.done){return t}let o=false;function done(){o=true}t=t.concat(n?n(i.value,done):i.value.data);if(o){return t}return gather(e,t,r,n)})}const n=Object.assign(paginate,{iterator:iterator});function paginateRest(e){return{paginate:Object.assign(paginate.bind(null,e),{iterator:iterator.bind(null,e)})}}paginateRest.VERSION=r;t.composePaginateRest=n;t.paginateRest=paginateRest},3044:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const r={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct",{mediaType:{previews:["scarlet-witch"]}}],getConductCode:["GET /codes_of_conduct/{key}",{mediaType:{previews:["scarlet-witch"]}}],getForRepo:["GET /repos/{owner}/{repo}/community/code_of_conduct",{mediaType:{previews:["scarlet-witch"]}}]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits"]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline",{mediaType:{previews:["mockingbird"]}}],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],listForAuthenticatedUser:["GET /user/migrations",{mediaType:{previews:["wyandotte"]}}],listForOrg:["GET /orgs/{org}/migrations",{mediaType:{previews:["wyandotte"]}}],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}",{mediaType:{previews:["giant-sentry-fist"]}}],checkBlockedUser:["GET /orgs/{org}/blocks/{username}",{mediaType:{previews:["giant-sentry-fist"]}}],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks",{mediaType:{previews:["giant-sentry-fist"]}}],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}",{mediaType:{previews:["giant-sentry-fist"]}}],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],createCard:["POST /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],createColumn:["POST /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],createForAuthenticatedUser:["POST /user/projects",{mediaType:{previews:["inertia"]}}],createForOrg:["POST /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],createForRepo:["POST /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],delete:["DELETE /projects/{project_id}",{mediaType:{previews:["inertia"]}}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],deleteColumn:["DELETE /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],get:["GET /projects/{project_id}",{mediaType:{previews:["inertia"]}}],getCard:["GET /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],getColumn:["GET /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{mediaType:{previews:["inertia"]}}],listCards:["GET /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],listCollaborators:["GET /projects/{project_id}/collaborators",{mediaType:{previews:["inertia"]}}],listColumns:["GET /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],listForOrg:["GET /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],listForRepo:["GET /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],listForUser:["GET /users/{username}/projects",{mediaType:{previews:["inertia"]}}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{mediaType:{previews:["inertia"]}}],moveColumn:["POST /projects/columns/{column_id}/moves",{mediaType:{previews:["inertia"]}}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],update:["PATCH /projects/{project_id}",{mediaType:{previews:["inertia"]}}],updateCard:["PATCH /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],updateColumn:["PATCH /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch",{mediaType:{previews:["lydian"]}}],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteLegacy:["DELETE /reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}},{deprecated:"octokit.reactions.deleteLegacy() is deprecated, see https://docs.github.com/v3/reactions/#delete-a-reaction-legacy"}],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate",{mediaType:{previews:["baptiste"]}}],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head",{mediaType:{previews:["groot"]}}],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls",{mediaType:{previews:["groot"]}}],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits",{mediaType:{previews:["cloak"]}}],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{mediaType:{previews:["inertia"]}}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails"],block:["PUT /user/blocks/{username}",{mediaType:{previews:["giant-sentry-fist"]}}],checkBlocked:["GET /user/blocks/{username}",{mediaType:{previews:["giant-sentry-fist"]}}],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{mediaType:{previews:["giant-sentry-fist"]}}],listEmailsForAuthenticated:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}",{mediaType:{previews:["giant-sentry-fist"]}}],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}};const n="4.4.3";function endpointsToMethods(e,t){const r={};for(const[n,i]of Object.entries(t)){for(const[t,o]of Object.entries(i)){const[i,s,a]=o;const[c,l]=i.split(/ /);const u=Object.assign({method:c,url:l},s);if(!r[n]){r[n]={}}const d=r[n];if(a){d[t]=decorate(e,n,t,u,a);continue}d[t]=e.request.defaults(u)}}return r}function decorate(e,t,r,n,i){const o=e.request.defaults(n);function withDecorations(...n){let s=o.endpoint.merge(...n);if(i.mapToData){s=Object.assign({},s,{data:s[i.mapToData],[i.mapToData]:undefined});return o(s)}if(i.renamed){const[n,o]=i.renamed;e.log.warn(`octokit.${t}.${r}() has been renamed to octokit.${n}.${o}()`)}if(i.deprecated){e.log.warn(i.deprecated)}if(i.renamedParameters){const s=o.endpoint.merge(...n);for(const[n,o]of Object.entries(i.renamedParameters)){if(n in s){e.log.warn(`"${n}" parameter is deprecated for "octokit.${t}.${r}()". Use "${o}" instead`);if(!(o in s)){s[o]=s[n]}delete s[n]}}return o(s)}return o(...n)}return Object.assign(withDecorations,o)}function restEndpointMethods(e){return endpointsToMethods(e,r)}restEndpointMethods.VERSION=n;t.restEndpointMethods=restEndpointMethods},537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var n=r(8932);var i=_interopDefault(r(1223));const o=i(e=>console.warn(e));class RequestError extends Error{constructor(e,t,r){super(e);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}this.name="HttpError";this.status=t;Object.defineProperty(this,"code",{get(){o(new n.Deprecation("[@octokit/request-error] `error.code` is deprecated, use `error.status`."));return t}});this.headers=r.headers||{};const i=Object.assign({},r.request);if(r.request.headers.authorization){i.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})}i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]");this.request=i}}t.RequestError=RequestError},6234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var n=r(9440);var i=r(5030);var o=r(3287);var s=_interopDefault(r(467));var a=r(537);const c="5.4.12";function getBufferResponse(e){return e.arrayBuffer()}function fetchWrapper(e){if(o.isPlainObject(e.body)||Array.isArray(e.body)){e.body=JSON.stringify(e.body)}let t={};let r;let n;const i=e.request&&e.request.fetch||s;return i(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(i=>{n=i.url;r=i.status;for(const e of i.headers){t[e[0]]=e[1]}if(r===204||r===205){return}if(e.method==="HEAD"){if(r<400){return}throw new a.RequestError(i.statusText,r,{headers:t,request:e})}if(r===304){throw new a.RequestError("Not modified",r,{headers:t,request:e})}if(r>=400){return i.text().then(n=>{const i=new a.RequestError(n,r,{headers:t,request:e});try{let e=JSON.parse(i.message);Object.assign(i,e);let t=e.errors;i.message=i.message+": "+t.map(JSON.stringify).join(", ")}catch(e){}throw i})}const o=i.headers.get("content-type");if(/application\/json/.test(o)){return i.json()}if(!o||/^text\/|charset=utf-8$/.test(o)){return i.text()}return getBufferResponse(i)}).then(e=>{return{status:r,url:n,headers:t,data:e}}).catch(r=>{if(r instanceof a.RequestError){throw r}throw new a.RequestError(r.message,500,{headers:t,request:e})})}function withDefaults(e,t){const r=e.defaults(t);const n=function(e,t){const n=r.merge(e,t);if(!n.request||!n.request.hook){return fetchWrapper(r.parse(n))}const i=(e,t)=>{return fetchWrapper(r.parse(r.merge(e,t)))};Object.assign(i,{endpoint:r,defaults:withDefaults.bind(null,r)});return n.request.hook(i,n)};return Object.assign(n,{endpoint:r,defaults:withDefaults.bind(null,r)})}const l=withDefaults(n.endpoint,{headers:{"user-agent":`octokit-request.js/${c} ${i.getUserAgent()}`}});t.request=l},9690:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=r(8614);const o=n(r(6570));function isAgentBase(e){return Boolean(e)&&typeof e.addRequest==="function"}function isHttpAgent(e){return Boolean(e)&&typeof e.addRequest==="function"}function isSecureEndpoint(){const{stack:e}=new Error;if(typeof e!=="string")return false;return e.split("\n").some(e=>e.indexOf("(https.js:")!==-1)}function createAgent(e,t){return new createAgent.Agent(e,t)}(function(e){class Agent extends i.EventEmitter{constructor(e,t){super();this.promisifiedCallback=undefined;let r=t;if(typeof e==="function"){this.callback=e}else if(e){r=e}this.timeout=null;if(r&&typeof r.timeout==="number"){this.timeout=r.timeout}this.options=r||{};this.maxFreeSockets=1;this.maxSockets=1;this.sockets=[];this.requests=[]}get defaultPort(){if(typeof this.explicitDefaultPort==="number"){return this.explicitDefaultPort}else{return isSecureEndpoint()?443:80}}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){if(typeof this.explicitProtocol==="string"){return this.explicitProtocol}else{return isSecureEndpoint()?"https:":"http:"}}set protocol(e){this.explicitProtocol=e}callback(e,t,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const r=Object.assign({},t);if(typeof r.secureEndpoint!=="boolean"){r.secureEndpoint=isSecureEndpoint()}if(r.host==null){r.host="localhost"}if(r.port==null){r.port=r.secureEndpoint?443:80}const n=Object.assign(Object.assign({},this.options),r);if(n.host&&n.path){delete n.path}delete n.agent;delete n.hostname;delete n._defaultAgent;delete n.defaultPort;delete n.createConnection;e._last=true;e.shouldKeepAlive=false;let i=false;let s=null;const a=this.timeout;const c=this.freeSocket;function onerror(t){if(e._hadError)return;e.emit("error",t);e._hadError=true}function ontimeout(){s=null;i=true;const e=new Error(`A "socket" was not created for HTTP request before ${a}ms`);e.code="ETIMEOUT";onerror(e)}function callbackError(e){if(i)return;if(s!==null){clearTimeout(s);s=null}onerror(e)}function onsocket(t){let r;function onfree(){c(r,n)}if(i)return;if(s!=null){clearTimeout(s);s=null}if(isAgentBase(t)||isHttpAgent(t)){t.addRequest(e,n);return}if(t){r=t;r.on("free",onfree);e.onSocket(r);return}const o=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);onerror(o)}if(typeof this.callback!=="function"){onerror(new Error("`callback` is not defined"));return}if(!this.promisifiedCallback){if(this.callback.length>=3){this.promisifiedCallback=o.default(this.callback)}else{this.promisifiedCallback=this.callback}}if(typeof a==="number"&&a>0){s=setTimeout(ontimeout,a)}if("port"in n&&typeof n.port!=="number"){n.port=Number(n.port)}try{Promise.resolve(this.promisifiedCallback(e,n)).then(onsocket,callbackError)}catch(e){Promise.reject(e).catch(callbackError)}}freeSocket(e,t){e.destroy()}destroy(){}}e.Agent=Agent})(createAgent||(createAgent={}));createAgent.prototype=createAgent.Agent.prototype;e.exports=createAgent},6570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function promisify(e){return function(t,r){return new Promise((n,i)=>{e.call(this,t,r,(e,t)=>{if(e){i(e)}else{n(t)}})})}}t.default=promisify},9417:e=>{"use strict";e.exports=balanced;function balanced(e,t,r){if(e instanceof RegExp)e=maybeMatch(e,r);if(t instanceof RegExp)t=maybeMatch(t,r);var n=range(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function maybeMatch(e,t){var r=t.match(e);return r?r[0]:null}balanced.range=range;function range(e,t,r){var n,i,o,s,a;var c=r.indexOf(e);var l=r.indexOf(t,c+1);var u=c;if(c>=0&&l>0){n=[];o=r.length;while(u>=0&&!a){if(u==c){n.push(u);c=r.indexOf(e,u+1)}else if(n.length==1){a=[n.pop(),l]}else{i=n.pop();if(i<o){o=i;s=l}l=r.indexOf(t,u+1)}u=c<l&&c>=0?c:l}if(n.length){a=[o,s]}}return a}},3682:(e,t,r)=>{var n=r(4670);var i=r(5549);var o=r(6819);var s=Function.bind;var a=s.bind(s);function bindApi(e,t,r){var n=a(o,null).apply(null,r?[t,r]:[t]);e.api={remove:n};e.remove=n;["before","error","after","wrap"].forEach(function(n){var o=r?[t,n,r]:[t,n];e[n]=e.api[n]=a(i,null).apply(null,o)})}function HookSingular(){var e="h";var t={registry:{}};var r=n.bind(null,t,e);bindApi(r,t,e);return r}function HookCollection(){var e={registry:{}};var t=n.bind(null,e);bindApi(t,e);return t}var c=false;function Hook(){if(!c){console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4');c=true}return HookCollection()}Hook.Singular=HookSingular.bind();Hook.Collection=HookCollection.bind();e.exports=Hook;e.exports.Hook=Hook;e.exports.Singular=Hook.Singular;e.exports.Collection=Hook.Collection},5549:e=>{e.exports=addHook;function addHook(e,t,r,n){var i=n;if(!e.registry[r]){e.registry[r]=[]}if(t==="before"){n=function(e,t){return Promise.resolve().then(i.bind(null,t)).then(e.bind(null,t))}}if(t==="after"){n=function(e,t){var r;return Promise.resolve().then(e.bind(null,t)).then(function(e){r=e;return i(r,t)}).then(function(){return r})}}if(t==="error"){n=function(e,t){return Promise.resolve().then(e.bind(null,t)).catch(function(e){return i(e,t)})}}e.registry[r].push({hook:n,orig:i})}},4670:e=>{e.exports=register;function register(e,t,r,n){if(typeof r!=="function"){throw new Error("method for before hook must be a function")}if(!n){n={}}if(Array.isArray(t)){return t.reverse().reduce(function(t,r){return register.bind(null,e,r,t,n)},r)()}return Promise.resolve().then(function(){if(!e.registry[t]){return r(n)}return e.registry[t].reduce(function(e,t){return t.hook.bind(null,e,n)},r)()})}},6819:e=>{e.exports=removeHook;function removeHook(e,t,r){if(!e.registry[t]){return}var n=e.registry[t].map(function(e){return e.orig}).indexOf(r);if(n===-1){return}e.registry[t].splice(n,1)}},3664:(e,t,r)=>{"use strict";const{Buffer:n}=r(4293);const i=Symbol.for("BufferList");function BufferList(e){if(!(this instanceof BufferList)){return new BufferList(e)}BufferList._init.call(this,e)}BufferList._init=function _init(e){Object.defineProperty(this,i,{value:true});this._bufs=[];this.length=0;if(e){this.append(e)}};BufferList.prototype._new=function _new(e){return new BufferList(e)};BufferList.prototype._offset=function _offset(e){if(e===0){return[0,0]}let t=0;for(let r=0;r<this._bufs.length;r++){const n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1){return[r,e-t]}t=n}};BufferList.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let e=0;e<t;e++){r+=this._bufs[e].length}return r};BufferList.prototype.get=function get(e){if(e>this.length||e<0){return undefined}const t=this._offset(e);return this._bufs[t[0]][t[1]]};BufferList.prototype.slice=function slice(e,t){if(typeof e==="number"&&e<0){e+=this.length}if(typeof t==="number"&&t<0){t+=this.length}return this.copy(null,0,e,t)};BufferList.prototype.copy=function copy(e,t,r,i){if(typeof r!=="number"||r<0){r=0}if(typeof i!=="number"||i>this.length){i=this.length}if(r>=this.length){return e||n.alloc(0)}if(i<=0){return e||n.alloc(0)}const copy=!!e;const o=this._offset(r);const s=i-r;let a=s;let c=copy&&t||0;let l=o[1];if(r===0&&i===this.length){if(!copy){return this._bufs.length===1?this._bufs[0]:n.concat(this._bufs,this.length)}for(let t=0;t<this._bufs.length;t++){this._bufs[t].copy(e,c);c+=this._bufs[t].length}return e}if(a<=this._bufs[o[0]].length-l){return copy?this._bufs[o[0]].copy(e,t,l,l+a):this._bufs[o[0]].slice(l,l+a)}if(!copy){e=n.allocUnsafe(s)}for(let t=o[0];t<this._bufs.length;t++){const r=this._bufs[t].length-l;if(a>r){this._bufs[t].copy(e,c,l);c+=r}else{this._bufs[t].copy(e,c,l,l+a);c+=r;break}a-=r;if(l){l=0}}if(e.length>c)return e.slice(0,c);return e};BufferList.prototype.shallowSlice=function shallowSlice(e,t){e=e||0;t=typeof t!=="number"?this.length:t;if(e<0){e+=this.length}if(t<0){t+=this.length}if(e===t){return this._new()}const r=this._offset(e);const n=this._offset(t);const i=this._bufs.slice(r[0],n[0]+1);if(n[1]===0){i.pop()}else{i[i.length-1]=i[i.length-1].slice(0,n[1])}if(r[1]!==0){i[0]=i[0].slice(r[1])}return this._new(i)};BufferList.prototype.toString=function toString(e,t,r){return this.slice(t,r).toString(e)};BufferList.prototype.consume=function consume(e){e=Math.trunc(e);if(Number.isNaN(e)||e<=0)return this;while(this._bufs.length){if(e>=this._bufs[0].length){e-=this._bufs[0].length;this.length-=this._bufs[0].length;this._bufs.shift()}else{this._bufs[0]=this._bufs[0].slice(e);this.length-=e;break}}return this};BufferList.prototype.duplicate=function duplicate(){const e=this._new();for(let t=0;t<this._bufs.length;t++){e.append(this._bufs[t])}return e};BufferList.prototype.append=function append(e){if(e==null){return this}if(e.buffer){this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength))}else if(Array.isArray(e)){for(let t=0;t<e.length;t++){this.append(e[t])}}else if(this._isBufferList(e)){for(let t=0;t<e._bufs.length;t++){this.append(e._bufs[t])}}else{if(typeof e==="number"){e=e.toString()}this._appendBuffer(n.from(e))}return this};BufferList.prototype._appendBuffer=function appendBuffer(e){this._bufs.push(e);this.length+=e.length};BufferList.prototype.indexOf=function(e,t,r){if(r===undefined&&typeof t==="string"){r=t;t=undefined}if(typeof e==="function"||Array.isArray(e)){throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.')}else if(typeof e==="number"){e=n.from([e])}else if(typeof e==="string"){e=n.from(e,r)}else if(this._isBufferList(e)){e=e.slice()}else if(Array.isArray(e.buffer)){e=n.from(e.buffer,e.byteOffset,e.byteLength)}else if(!n.isBuffer(e)){e=n.from(e)}t=Number(t||0);if(isNaN(t)){t=0}if(t<0){t=this.length+t}if(t<0){t=0}if(e.length===0){return t>this.length?this.length:t}const i=this._offset(t);let o=i[0];let s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];while(s<t.length){const r=t.length-s;if(r>=e.length){const r=t.indexOf(e,s);if(r!==-1){return this._reverseOffset([o,r])}s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e)){return t}s++}}s=0}return-1};BufferList.prototype._match=function(e,t){if(this.length-e<t.length){return false}for(let r=0;r<t.length;r++){if(this.get(e+r)!==t[r]){return false}}return true};(function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e){(function(t){if(e[t]===null){BufferList.prototype[t]=function(e,r){return this.slice(e,e+r)[t](0,r)}}else{BufferList.prototype[t]=function(r){return this.slice(r,r+e[t])[t](0)}}})(t)}})();BufferList.prototype._isBufferList=function _isBufferList(e){return e instanceof BufferList||BufferList.isBufferList(e)};BufferList.isBufferList=function isBufferList(e){return e!=null&&e[i]};e.exports=BufferList},336:(e,t,r)=>{"use strict";const n=r(1642).Duplex;const i=r(4124);const o=r(3664);function BufferListStream(e){if(!(this instanceof BufferListStream)){return new BufferListStream(e)}if(typeof e==="function"){this._callback=e;const t=function piper(e){if(this._callback){this._callback(e);this._callback=null}}.bind(this);this.on("pipe",function onPipe(e){e.on("error",t)});this.on("unpipe",function onUnpipe(e){e.removeListener("error",t)});e=null}o._init.call(this,e);n.call(this)}i(BufferListStream,n);Object.assign(BufferListStream.prototype,o.prototype);BufferListStream.prototype._new=function _new(e){return new BufferListStream(e)};BufferListStream.prototype._write=function _write(e,t,r){this._appendBuffer(e);if(typeof r==="function"){r()}};BufferListStream.prototype._read=function _read(e){if(!this.length){return this.push(null)}e=Math.min(e,this.length);this.push(this.slice(0,e));this.consume(e)};BufferListStream.prototype.end=function end(e){n.prototype.end.call(this,e);if(this._callback){this._callback(null,this.slice());this._callback=null}};BufferListStream.prototype._destroy=function _destroy(e,t){this._bufs.length=0;this.length=0;t(e)};BufferListStream.prototype._isBufferList=function _isBufferList(e){return e instanceof BufferListStream||e instanceof o||BufferListStream.isBufferList(e)};BufferListStream.isBufferList=o.isBufferList;e.exports=BufferListStream;e.exports.BufferListStream=BufferListStream;e.exports.BufferList=o},3717:(e,t,r)=>{var n=r(6891);var i=r(9417);e.exports=expandTop;var o="\0SLASH"+Math.random()+"\0";var s="\0OPEN"+Math.random()+"\0";var a="\0CLOSE"+Math.random()+"\0";var c="\0COMMA"+Math.random()+"\0";var l="\0PERIOD"+Math.random()+"\0";function numeric(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function escapeBraces(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}function unescapeBraces(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function parseCommaParts(e){if(!e)return[""];var t=[];var r=i("{","}",e);if(!r)return e.split(",");var n=r.pre;var o=r.body;var s=r.post;var a=n.split(",");a[a.length-1]+="{"+o+"}";var c=parseCommaParts(s);if(s.length){a[a.length-1]+=c.shift();a.push.apply(a,c)}t.push.apply(t,a);return t}function expandTop(e){if(!e)return[];if(e.substr(0,2)==="{}"){e="\\{\\}"+e.substr(2)}return expand(escapeBraces(e),true).map(unescapeBraces)}function identity(e){return e}function embrace(e){return"{"+e+"}"}function isPadded(e){return/^-?0\d/.test(e)}function lte(e,t){return e<=t}function gte(e,t){return e>=t}function expand(e,t){var r=[];var o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body);var c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body);var l=s||c;var u=o.body.indexOf(",")>=0;if(!l&&!u){if(o.post.match(/,.*\}/)){e=o.pre+"{"+o.body+a+o.post;return expand(e)}return[e]}var d;if(l){d=o.body.split(/\.\./)}else{d=parseCommaParts(o.body);if(d.length===1){d=expand(d[0],false).map(embrace);if(d.length===1){var f=o.post.length?expand(o.post,false):[""];return f.map(function(e){return o.pre+d[0]+e})}}}var h=o.pre;var f=o.post.length?expand(o.post,false):[""];var p;if(l){var m=numeric(d[0]);var g=numeric(d[1]);var y=Math.max(d[0].length,d[1].length);var w=d.length==3?Math.abs(numeric(d[2])):1;var _=lte;var b=g<m;if(b){w*=-1;_=gte}var v=d.some(isPadded);p=[];for(var E=m;_(E,g);E+=w){var k;if(c){k=String.fromCharCode(E);if(k==="\\")k=""}else{k=String(E);if(v){var T=y-k.length;if(T>0){var S=new Array(T+1).join("0");if(E<0)k="-"+S+k.slice(1);else k=S+k}}}p.push(k)}}else{p=n(d,function(e){return expand(e,false)})}for(var C=0;C<p.length;C++){for(var P=0;P<f.length;P++){var O=h+p[C]+f[P];if(!t||l||O)r.push(O)}}return r}},4794:(e,t,r)=>{var n=r(4293).Buffer;var i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(typeof Int32Array!=="undefined"){i=new Int32Array(i)}function ensureBuffer(e){if(n.isBuffer(e)){return e}var t=typeof n.alloc==="function"&&typeof n.from==="function";if(typeof e==="number"){return t?n.alloc(e):new n(e)}else if(typeof e==="string"){return t?n.from(e):new n(e)}else{throw new Error("input must be buffer, number, or string, received "+typeof e)}}function bufferizeInt(e){var t=ensureBuffer(4);t.writeInt32BE(e,0);return t}function _crc32(e,t){e=ensureBuffer(e);if(n.isBuffer(t)){t=t.readUInt32BE(0)}var r=~~t^-1;for(var o=0;o<e.length;o++){r=i[(r^e[o])&255]^r>>>8}return r^-1}function crc32(){return bufferizeInt(_crc32.apply(null,arguments))}crc32.signed=function(){return _crc32.apply(null,arguments)};crc32.unsigned=function(){return _crc32.apply(null,arguments)>>>0};e.exports=crc32},9051:(e,t,r)=>{"use strict";const n=r(5747);const i=r(5622);const o=n.lchown?"lchown":"chown";const s=n.lchownSync?"lchownSync":"chownSync";const a=n.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/);const c=(e,t,r)=>{try{return n[s](e,t,r)}catch(e){if(e.code!=="ENOENT")throw e}};const l=(e,t,r)=>{try{return n.chownSync(e,t,r)}catch(e){if(e.code!=="ENOENT")throw e}};const u=a?(e,t,r,i)=>o=>{if(!o||o.code!=="EISDIR")i(o);else n.chown(e,t,r,i)}:(e,t,r,n)=>n;const d=a?(e,t,r)=>{try{return c(e,t,r)}catch(n){if(n.code!=="EISDIR")throw n;l(e,t,r)}}:(e,t,r)=>c(e,t,r);const f=process.version;let h=(e,t,r)=>n.readdir(e,t,r);let p=(e,t)=>n.readdirSync(e,t);if(/^v4\./.test(f))h=((e,t,r)=>n.readdir(e,r));const m=(e,t,r,i)=>{n[o](e,t,r,u(e,t,r,e=>{i(e&&e.code!=="ENOENT"?e:null)}))};const g=(e,t,r,o,s)=>{if(typeof t==="string")return n.lstat(i.resolve(e,t),(n,i)=>{if(n)return s(n.code!=="ENOENT"?n:null);i.name=t;g(e,i,r,o,s)});if(t.isDirectory()){y(i.resolve(e,t.name),r,o,n=>{if(n)return s(n);const a=i.resolve(e,t.name);m(a,r,o,s)})}else{const n=i.resolve(e,t.name);m(n,r,o,s)}};const y=(e,t,r,n)=>{h(e,{withFileTypes:true},(i,o)=>{if(i){if(i.code==="ENOENT")return n();else if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return m(e,t,r,n);let s=o.length;let a=null;const c=i=>{if(a)return;if(i)return n(a=i);if(--s===0)return m(e,t,r,n)};o.forEach(n=>g(e,n,t,r,c))})};const w=(e,t,r,o)=>{if(typeof t==="string"){try{const r=n.lstatSync(i.resolve(e,t));r.name=t;t=r}catch(e){if(e.code==="ENOENT")return;else throw e}}if(t.isDirectory())_(i.resolve(e,t.name),r,o);d(i.resolve(e,t.name),r,o)};const _=(e,t,r)=>{let n;try{n=p(e,{withFileTypes:true})}catch(n){if(n.code==="ENOENT")return;else if(n.code==="ENOTDIR"||n.code==="ENOTSUP")return d(e,t,r);else throw n}if(n&&n.length)n.forEach(n=>w(e,n,t,r));return d(e,t,r)};e.exports=y;y.sync=_},6891:e=>{e.exports=function(e,r){var n=[];for(var i=0;i<e.length;i++){var o=r(e[i],i);if(t(o))n.push.apply(n,o);else n.push(o)}return n};var t=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},8222:(e,t,r)=>{t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.destroy=(()=>{let e=false;return()=>{if(!e){e=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0;let i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{if(e==="%%"){return}n++;if(e==="%c"){i=n}});t.splice(i,0,r)}t.log=console.debug||console.log||(()=>{});function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){let e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=r(6243)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},6243:(e,t,r)=>{function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=r(900);createDebug.destroy=destroy;Object.keys(e).forEach(t=>{createDebug[t]=e[t]});createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let t;let r=null;function debug(...e){if(!debug.enabled){return}const r=debug;const n=Number(new Date);const i=n-(t||n);r.diff=i;r.prev=t;r.curr=n;t=n;e[0]=createDebug.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,n)=>{if(t==="%%"){return"%"}o++;const i=createDebug.formatters[n];if(typeof i==="function"){const n=e[o];t=i.call(r,n);e.splice(o,1);o--}return t});createDebug.formatArgs.call(r,e);const s=r.log||createDebug.log;s.apply(r,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>r===null?createDebug.enabled(e):r,set:e=>{r=e}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(e,t){const r=createDebug(this.namespace+(typeof t==="undefined"?":":t)+e);r.log=this.log;return r}function enable(e){createDebug.save(e);createDebug.names=[];createDebug.skips=[];let t;const r=(typeof e==="string"?e:"").split(/[\s,]+/);const n=r.length;for(t=0;t<n;t++){if(!r[t]){continue}e=r[t].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}}function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(e=>"-"+e)].join(",");createDebug.enable("");return e}function enabled(e){if(e[e.length-1]==="*"){return true}let t;let r;for(t=0,r=createDebug.skips.length;t<r;t++){if(createDebug.skips[t].test(e)){return false}}for(t=0,r=createDebug.names.length;t<r;t++){if(createDebug.names[t].test(e)){return true}}return false}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},8237:(e,t,r)=>{if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=r(8222)}else{e.exports=r(5332)}},5332:(e,t,r)=>{const n=r(3867);const i=r(1669);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");t.colors=[6,2,3,4,5,1];try{const e=r(132);if(e&&(e.stderr||e).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>{return/^debug_/i.test(e)}).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>{return t.toUpperCase()});let n=process.env[t];if(/^(yes|on|true|enabled)$/i.test(n)){n=true}else if(/^(no|off|false|disabled)$/i.test(n)){n=false}else if(n==="null"){n=null}else{n=Number(n)}e[r]=n;return e},{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)}function formatArgs(t){const{namespace:r,useColors:n}=this;if(n){const n=this.color;const i="[3"+(n<8?n:"8;5;"+n);const o=`  ${i};1m${r} [0m`;t[0]=o+t[0].split("\n").join("\n"+o);t.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+r+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...e){return process.stderr.write(i.format(...e)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++){e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}}e.exports=r(6243)(t);const{formatters:o}=e.exports;o.o=function(e){this.inspectOpts.colors=this.useColors;return i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")};o.O=function(e){this.inspectOpts.colors=this.useColors;return i.inspect(e,this.inspectOpts)}},8932:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});class Deprecation extends Error{constructor(e){super(e);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}this.name="Deprecation"}}t.Deprecation=Deprecation},1205:(e,t,r)=>{var n=r(1223);var i=function(){};var o=function(e){return e.setHeader&&typeof e.abort==="function"};var s=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3};var a=function(e,t,r){if(typeof t==="function")return a(e,null,t);if(!t)t={};r=n(r||i);var c=e._writableState;var l=e._readableState;var u=t.readable||t.readable!==false&&e.readable;var d=t.writable||t.writable!==false&&e.writable;var f=false;var h=function(){if(!e.writable)p()};var p=function(){d=false;if(!u)r.call(e)};var m=function(){u=false;if(!d)r.call(e)};var g=function(t){r.call(e,t?new Error("exited with error code: "+t):null)};var y=function(t){r.call(e,t)};var w=function(){process.nextTick(_)};var _=function(){if(f)return;if(u&&!(l&&(l.ended&&!l.destroyed)))return r.call(e,new Error("premature close"));if(d&&!(c&&(c.ended&&!c.destroyed)))return r.call(e,new Error("premature close"))};var b=function(){e.req.on("finish",p)};if(o(e)){e.on("complete",p);e.on("abort",w);if(e.req)b();else e.on("request",b)}else if(d&&!c){e.on("end",h);e.on("close",h)}if(s(e))e.on("exit",g);e.on("end",m);e.on("finish",p);if(t.error!==false)e.on("error",y);e.on("close",w);return function(){f=true;e.removeListener("complete",p);e.removeListener("abort",w);e.removeListener("request",b);if(e.req)e.req.removeListener("finish",p);e.removeListener("end",h);e.removeListener("close",h);e.removeListener("finish",p);e.removeListener("exit",g);e.removeListener("end",m);e.removeListener("error",y);e.removeListener("close",w)}};e.exports=a},460:(e,t,r)=>{const n=r(8237)("extract-zip");const{createWriteStream:i,promises:o}=r(5747);const s=r(1766);const a=r(5622);const{promisify:c}=r(1669);const l=r(2413);const u=r(8781);const d=c(u.open);const f=c(l.pipeline);class Extractor{constructor(e,t){this.zipPath=e;this.opts=t}async extract(){n("opening",this.zipPath,"with opts",this.opts);this.zipfile=await d(this.zipPath,{lazyEntries:true});this.canceled=false;return new Promise((e,t)=>{this.zipfile.on("error",e=>{this.canceled=true;t(e)});this.zipfile.readEntry();this.zipfile.on("close",()=>{if(!this.canceled){n("zip extraction complete");e()}});this.zipfile.on("entry",async e=>{if(this.canceled){n("skipping entry",e.fileName,{cancelled:this.canceled});return}n("zipfile entry",e.fileName);if(e.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}const r=a.dirname(a.join(this.opts.dir,e.fileName));try{await o.mkdir(r,{recursive:true});const i=await o.realpath(r);const s=a.relative(this.opts.dir,i);if(s.split(a.sep).includes("..")){throw new Error(`Out of bound path "${i}" found while processing file ${e.fileName}`)}await this.extractEntry(e);n("finished processing",e.fileName);this.zipfile.readEntry()}catch(e){this.canceled=true;this.zipfile.close();t(e)}})})}async extractEntry(e){if(this.canceled){n("skipping entry extraction",e.fileName,{cancelled:this.canceled});return}if(this.opts.onEntry){this.opts.onEntry(e,this.zipfile)}const t=a.join(this.opts.dir,e.fileName);const r=e.externalFileAttributes>>16&65535;const l=61440;const u=16384;const d=40960;const h=(r&l)===d;let p=(r&l)===u;if(!p&&e.fileName.endsWith("/")){p=true}const m=e.versionMadeBy>>8;if(!p)p=m===0&&e.externalFileAttributes===16;n("extracting entry",{filename:e.fileName,isDir:p,isSymlink:h});const g=this.getExtractedMode(r,p)&511;const y=p?t:a.dirname(t);const w={recursive:true};if(p){w.mode=g}n("mkdir",{dir:y,...w});await o.mkdir(y,w);if(p)return;n("opening read stream",t);const _=await c(this.zipfile.openReadStream.bind(this.zipfile))(e);if(h){const e=await s(_);n("creating symlink",e,t);await o.symlink(e,t)}else{await f(_,i(t,{mode:g}))}}getExtractedMode(e,t){let r=e;if(r===0){if(t){if(this.opts.defaultDirMode){r=parseInt(this.opts.defaultDirMode,10)}if(!r){r=493}}else{if(this.opts.defaultFileMode){r=parseInt(this.opts.defaultFileMode,10)}if(!r){r=420}}}return r}}e.exports=async function(e,t){n("creating target directory",t.dir);if(!a.isAbsolute(t.dir)){throw new Error("Target directory is expected to be absolute")}await o.mkdir(t.dir,{recursive:true});t.dir=await o.realpath(t.dir);return new Extractor(e,t).extract()}},5010:(e,t,r)=>{var n=r(5747);var i=r(1669);var o=r(2413);var s=o.Readable;var a=o.Writable;var c=o.PassThrough;var l=r(4833);var u=r(8614).EventEmitter;t.createFromBuffer=createFromBuffer;t.createFromFd=createFromFd;t.BufferSlicer=BufferSlicer;t.FdSlicer=FdSlicer;i.inherits(FdSlicer,u);function FdSlicer(e,t){t=t||{};u.call(this);this.fd=e;this.pend=new l;this.pend.max=1;this.refCount=0;this.autoClose=!!t.autoClose}FdSlicer.prototype.read=function(e,t,r,i,o){var s=this;s.pend.go(function(a){n.read(s.fd,e,t,r,i,function(e,t,r){a();o(e,t,r)})})};FdSlicer.prototype.write=function(e,t,r,i,o){var s=this;s.pend.go(function(a){n.write(s.fd,e,t,r,i,function(e,t,r){a();o(e,t,r)})})};FdSlicer.prototype.createReadStream=function(e){return new ReadStream(this,e)};FdSlicer.prototype.createWriteStream=function(e){return new WriteStream(this,e)};FdSlicer.prototype.ref=function(){this.refCount+=1};FdSlicer.prototype.unref=function(){var e=this;e.refCount-=1;if(e.refCount>0)return;if(e.refCount<0)throw new Error("invalid unref");if(e.autoClose){n.close(e.fd,onCloseDone)}function onCloseDone(t){if(t){e.emit("error",t)}else{e.emit("close")}}};i.inherits(ReadStream,s);function ReadStream(e,t){t=t||{};s.call(this,t);this.context=e;this.context.ref();this.start=t.start||0;this.endOffset=t.end;this.pos=this.start;this.destroyed=false}ReadStream.prototype._read=function(e){var t=this;if(t.destroyed)return;var r=Math.min(t._readableState.highWaterMark,e);if(t.endOffset!=null){r=Math.min(r,t.endOffset-t.pos)}if(r<=0){t.destroyed=true;t.push(null);t.context.unref();return}t.context.pend.go(function(e){if(t.destroyed)return e();var i=new Buffer(r);n.read(t.context.fd,i,0,r,t.pos,function(r,n){if(r){t.destroy(r)}else if(n===0){t.destroyed=true;t.push(null);t.context.unref()}else{t.pos+=n;t.push(i.slice(0,n))}e()})})};ReadStream.prototype.destroy=function(e){if(this.destroyed)return;e=e||new Error("stream destroyed");this.destroyed=true;this.emit("error",e);this.context.unref()};i.inherits(WriteStream,a);function WriteStream(e,t){t=t||{};a.call(this,t);this.context=e;this.context.ref();this.start=t.start||0;this.endOffset=t.end==null?Infinity:+t.end;this.bytesWritten=0;this.pos=this.start;this.destroyed=false;this.on("finish",this.destroy.bind(this))}WriteStream.prototype._write=function(e,t,r){var i=this;if(i.destroyed)return;if(i.pos+e.length>i.endOffset){var o=new Error("maximum file length exceeded");o.code="ETOOBIG";i.destroy();r(o);return}i.context.pend.go(function(t){if(i.destroyed)return t();n.write(i.context.fd,e,0,e.length,i.pos,function(e,n){if(e){i.destroy();t();r(e)}else{i.bytesWritten+=n;i.pos+=n;i.emit("progress");t();r()}})})};WriteStream.prototype.destroy=function(){if(this.destroyed)return;this.destroyed=true;this.context.unref()};i.inherits(BufferSlicer,u);function BufferSlicer(e,t){u.call(this);t=t||{};this.refCount=0;this.buffer=e;this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}BufferSlicer.prototype.read=function(e,t,r,n,i){var o=n+r;var s=o-this.buffer.length;var a=s>0?s:r;this.buffer.copy(e,t,n,o);setImmediate(function(){i(null,a)})};BufferSlicer.prototype.write=function(e,t,r,n,i){e.copy(this.buffer,n,t,t+r);setImmediate(function(){i(null,r,e)})};BufferSlicer.prototype.createReadStream=function(e){e=e||{};var t=new c(e);t.destroyed=false;t.start=e.start||0;t.endOffset=e.end;t.pos=t.endOffset||this.buffer.length;var r=this.buffer.slice(t.start,t.pos);var n=0;while(true){var i=n+this.maxChunkSize;if(i>=r.length){if(n<r.length){t.write(r.slice(n,r.length))}break}t.write(r.slice(n,i));n=i}t.end();t.destroy=function(){t.destroyed=true};return t};BufferSlicer.prototype.createWriteStream=function(e){var t=this;e=e||{};var r=new a(e);r.start=e.start||0;r.endOffset=e.end==null?this.buffer.length:+e.end;r.bytesWritten=0;r.pos=r.start;r.destroyed=false;r._write=function(e,n,i){if(r.destroyed)return;var o=r.pos+e.length;if(o>r.endOffset){var s=new Error("maximum file length exceeded");s.code="ETOOBIG";r.destroyed=true;i(s);return}e.copy(t.buffer,r.pos,0,e.length);r.bytesWritten+=e.length;r.pos=o;r.emit("progress");i()};r.destroy=function(){r.destroyed=true};return r};BufferSlicer.prototype.ref=function(){this.refCount+=1};BufferSlicer.prototype.unref=function(){this.refCount-=1;if(this.refCount<0){throw new Error("invalid unref")}};function createFromBuffer(e,t){return new BufferSlicer(e,t)}function createFromFd(e,t){return new FdSlicer(e,t)}},9486:(e,t,r)=>{"use strict";const n=r(5622);const i=r(3447);const o=r(6978);const s=Symbol("findUp.stop");e.exports=(async(e,t={})=>{let r=n.resolve(t.cwd||"");const{root:o}=n.parse(r);const a=[].concat(e);const c=async t=>{if(typeof e!=="function"){return i(a,t)}const r=await e(t.cwd);if(typeof r==="string"){return i([r],t)}return r};while(true){const e=await c({...t,cwd:r});if(e===s){return}if(e){return n.resolve(r,e)}if(r===o){return}r=n.dirname(r)}});e.exports.sync=((e,t={})=>{let r=n.resolve(t.cwd||"");const{root:o}=n.parse(r);const a=[].concat(e);const c=t=>{if(typeof e!=="function"){return i.sync(a,t)}const r=e(t.cwd);if(typeof r==="string"){return i.sync([r],t)}return r};while(true){const e=c({...t,cwd:r});if(e===s){return}if(e){return n.resolve(r,e)}if(r===o){return}r=n.dirname(r)}});e.exports.exists=o;e.exports.sync.exists=o.sync;e.exports.stop=s},3186:(e,t,r)=>{e.exports=r(5747).constants||r(7619)},6863:(e,t,r)=>{e.exports=realpath;realpath.realpath=realpath;realpath.sync=realpathSync;realpath.realpathSync=realpathSync;realpath.monkeypatch=monkeypatch;realpath.unmonkeypatch=unmonkeypatch;var n=r(5747);var i=n.realpath;var o=n.realpathSync;var s=process.version;var a=/^v[0-5]\./.test(s);var c=r(1734);function newError(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function realpath(e,t,r){if(a){return i(e,t,r)}if(typeof t==="function"){r=t;t=null}i(e,t,function(n,i){if(newError(n)){c.realpath(e,t,r)}else{r(n,i)}})}function realpathSync(e,t){if(a){return o(e,t)}try{return o(e,t)}catch(r){if(newError(r)){return c.realpathSync(e,t)}else{throw r}}}function monkeypatch(){n.realpath=realpath;n.realpathSync=realpathSync}function unmonkeypatch(){n.realpath=i;n.realpathSync=o}},1734:(e,t,r)=>{var n=r(5622);var i=process.platform==="win32";var o=r(5747);var s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function rethrow(){var e;if(s){var t=new Error;e=debugCallback}else e=missingCallback;return e;function debugCallback(e){if(e){t.message=e.message;e=t;missingCallback(e)}}function missingCallback(e){if(e){if(process.throwDeprecation)throw e;else if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);if(process.traceDeprecation)console.trace(t);else console.error(t)}}}}function maybeCallback(e){return typeof e==="function"?e:rethrow()}var a=n.normalize;if(i){var c=/(.*?)(?:[\/\\]+|$)/g}else{var c=/(.*?)(?:[\/]+|$)/g}if(i){var l=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/}else{var l=/^[\/]*/}t.realpathSync=function realpathSync(e,t){e=n.resolve(e);if(t&&Object.prototype.hasOwnProperty.call(t,e)){return t[e]}var r=e,s={},a={};var u;var d;var f;var h;start();function start(){var t=l.exec(e);u=t[0].length;d=t[0];f=t[0];h="";if(i&&!a[f]){o.lstatSync(f);a[f]=true}}while(u<e.length){c.lastIndex=u;var p=c.exec(e);h=d;d+=p[0];f=h+p[1];u=c.lastIndex;if(a[f]||t&&t[f]===f){continue}var m;if(t&&Object.prototype.hasOwnProperty.call(t,f)){m=t[f]}else{var g=o.lstatSync(f);if(!g.isSymbolicLink()){a[f]=true;if(t)t[f]=f;continue}var y=null;if(!i){var w=g.dev.toString(32)+":"+g.ino.toString(32);if(s.hasOwnProperty(w)){y=s[w]}}if(y===null){o.statSync(f);y=o.readlinkSync(f)}m=n.resolve(h,y);if(t)t[f]=m;if(!i)s[w]=y}e=n.resolve(m,e.slice(u));start()}if(t)t[r]=e;return e};t.realpath=function realpath(e,t,r){if(typeof r!=="function"){r=maybeCallback(t);t=null}e=n.resolve(e);if(t&&Object.prototype.hasOwnProperty.call(t,e)){return process.nextTick(r.bind(null,null,t[e]))}var s=e,a={},u={};var d;var f;var h;var p;start();function start(){var t=l.exec(e);d=t[0].length;f=t[0];h=t[0];p="";if(i&&!u[h]){o.lstat(h,function(e){if(e)return r(e);u[h]=true;LOOP()})}else{process.nextTick(LOOP)}}function LOOP(){if(d>=e.length){if(t)t[s]=e;return r(null,e)}c.lastIndex=d;var n=c.exec(e);p=f;f+=n[0];h=p+n[1];d=c.lastIndex;if(u[h]||t&&t[h]===h){return process.nextTick(LOOP)}if(t&&Object.prototype.hasOwnProperty.call(t,h)){return gotResolvedLink(t[h])}return o.lstat(h,gotStat)}function gotStat(e,n){if(e)return r(e);if(!n.isSymbolicLink()){u[h]=true;if(t)t[h]=h;return process.nextTick(LOOP)}if(!i){var s=n.dev.toString(32)+":"+n.ino.toString(32);if(a.hasOwnProperty(s)){return gotTarget(null,a[s],h)}}o.stat(h,function(e){if(e)return r(e);o.readlink(h,function(e,t){if(!i)a[s]=t;gotTarget(e,t)})})}function gotTarget(e,i,o){if(e)return r(e);var s=n.resolve(p,i);if(t)t[o]=s;gotResolvedLink(s)}function gotResolvedLink(t){e=n.resolve(t,e.slice(d));start()}}},1585:(e,t,r)=>{"use strict";const{PassThrough:n}=r(2413);e.exports=(e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const i=r==="buffer";let o=false;if(t){o=!(r||i)}else{r=r||"utf8"}if(i){r=null}const s=new n({objectMode:o});if(r){s.setEncoding(r)}let a=0;const c=[];s.on("data",e=>{c.push(e);if(o){a=c.length}else{a+=e.length}});s.getBufferedValue=(()=>{if(t){return c}return i?Buffer.concat(c,a):c.join("")});s.getBufferedLength=(()=>a);return s})},1766:(e,t,r)=>{"use strict";const{constants:n}=r(4293);const i=r(8341);const o=r(1585);class MaxBufferError extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function getStream(e,t){if(!e){return Promise.reject(new Error("Expected a stream"))}t={maxBuffer:Infinity,...t};const{maxBuffer:r}=t;let s;await new Promise((a,c)=>{const l=e=>{if(e&&s.getBufferedLength()<=n.MAX_LENGTH){e.bufferedData=s.getBufferedValue()}c(e)};s=i(e,o(t),e=>{if(e){l(e);return}a()});s.on("data",()=>{if(s.getBufferedLength()>r){l(new MaxBufferError)}})});return s.getBufferedValue()}e.exports=getStream;e.exports.default=getStream;e.exports.buffer=((e,t)=>getStream(e,{...t,encoding:"buffer"}));e.exports.array=((e,t)=>getStream(e,{...t,array:true}));e.exports.MaxBufferError=MaxBufferError},7625:(e,t,r)=>{t.alphasort=alphasort;t.alphasorti=alphasorti;t.setopts=setopts;t.ownProp=ownProp;t.makeAbs=makeAbs;t.finish=finish;t.mark=mark;t.isIgnored=isIgnored;t.childrenIgnored=childrenIgnored;function ownProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var n=r(5622);var i=r(3973);var o=r(8714);var s=i.Minimatch;function alphasorti(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function alphasort(e,t){return e.localeCompare(t)}function setupIgnores(e,t){e.ignore=t.ignore||[];if(!Array.isArray(e.ignore))e.ignore=[e.ignore];if(e.ignore.length){e.ignore=e.ignore.map(ignoreMap)}}function ignoreMap(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new s(r,{dot:true})}return{matcher:new s(e,{dot:true}),gmatcher:t}}function setopts(e,t,r){if(!r)r={};if(r.matchBase&&-1===t.indexOf("/")){if(r.noglobstar){throw new Error("base matching requires globstar")}t="**/"+t}e.silent=!!r.silent;e.pattern=t;e.strict=r.strict!==false;e.realpath=!!r.realpath;e.realpathCache=r.realpathCache||Object.create(null);e.follow=!!r.follow;e.dot=!!r.dot;e.mark=!!r.mark;e.nodir=!!r.nodir;if(e.nodir)e.mark=true;e.sync=!!r.sync;e.nounique=!!r.nounique;e.nonull=!!r.nonull;e.nosort=!!r.nosort;e.nocase=!!r.nocase;e.stat=!!r.stat;e.noprocess=!!r.noprocess;e.absolute=!!r.absolute;e.maxLength=r.maxLength||Infinity;e.cache=r.cache||Object.create(null);e.statCache=r.statCache||Object.create(null);e.symlinks=r.symlinks||Object.create(null);setupIgnores(e,r);e.changedCwd=false;var i=process.cwd();if(!ownProp(r,"cwd"))e.cwd=i;else{e.cwd=n.resolve(r.cwd);e.changedCwd=e.cwd!==i}e.root=r.root||n.resolve(e.cwd,"/");e.root=n.resolve(e.root);if(process.platform==="win32")e.root=e.root.replace(/\\/g,"/");e.cwdAbs=o(e.cwd)?e.cwd:makeAbs(e,e.cwd);if(process.platform==="win32")e.cwdAbs=e.cwdAbs.replace(/\\/g,"/");e.nomount=!!r.nomount;r.nonegate=true;r.nocomment=true;e.minimatch=new s(t,r);e.options=e.minimatch.options}function finish(e){var t=e.nounique;var r=t?[]:Object.create(null);for(var n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(!o||Object.keys(o).length===0){if(e.nonull){var s=e.minimatch.globSet[n];if(t)r.push(s);else r[s]=true}}else{var a=Object.keys(o);if(t)r.push.apply(r,a);else a.forEach(function(e){r[e]=true})}}if(!t)r=Object.keys(r);if(!e.nosort)r=r.sort(e.nocase?alphasorti:alphasort);if(e.mark){for(var n=0;n<r.length;n++){r[n]=e._mark(r[n])}if(e.nodir){r=r.filter(function(t){var r=!/\/$/.test(t);var n=e.cache[t]||e.cache[makeAbs(e,t)];if(r&&n)r=n!=="DIR"&&!Array.isArray(n);return r})}}if(e.ignore.length)r=r.filter(function(t){return!isIgnored(e,t)});e.found=r}function mark(e,t){var r=makeAbs(e,t);var n=e.cache[r];var i=t;if(n){var o=n==="DIR"||Array.isArray(n);var s=t.slice(-1)==="/";if(o&&!s)i+="/";else if(!o&&s)i=i.slice(0,-1);if(i!==t){var a=makeAbs(e,i);e.statCache[a]=e.statCache[r];e.cache[a]=e.cache[r]}}return i}function makeAbs(e,t){var r=t;if(t.charAt(0)==="/"){r=n.join(e.root,t)}else if(o(t)||t===""){r=t}else if(e.changedCwd){r=n.resolve(e.cwd,t)}else{r=n.resolve(t)}if(process.platform==="win32")r=r.replace(/\\/g,"/");return r}function isIgnored(e,t){if(!e.ignore.length)return false;return e.ignore.some(function(e){return e.matcher.match(t)||!!(e.gmatcher&&e.gmatcher.match(t))})}function childrenIgnored(e,t){if(!e.ignore.length)return false;return e.ignore.some(function(e){return!!(e.gmatcher&&e.gmatcher.match(t))})}},1957:(e,t,r)=>{e.exports=glob;var n=r(5747);var i=r(6863);var o=r(3973);var s=o.Minimatch;var a=r(4124);var c=r(8614).EventEmitter;var l=r(5622);var u=r(2357);var d=r(8714);var f=r(9010);var h=r(7625);var p=h.alphasort;var m=h.alphasorti;var g=h.setopts;var y=h.ownProp;var w=r(2492);var _=r(1669);var b=h.childrenIgnored;var v=h.isIgnored;var E=r(1223);function glob(e,t,r){if(typeof t==="function")r=t,t={};if(!t)t={};if(t.sync){if(r)throw new TypeError("callback provided to sync glob");return f(e,t)}return new Glob(e,t,r)}glob.sync=f;var k=glob.GlobSync=f.GlobSync;glob.glob=glob;function extend(e,t){if(t===null||typeof t!=="object"){return e}var r=Object.keys(t);var n=r.length;while(n--){e[r[n]]=t[r[n]]}return e}glob.hasMagic=function(e,t){var r=extend({},t);r.noprocess=true;var n=new Glob(e,r);var i=n.minimatch.set;if(!e)return false;if(i.length>1)return true;for(var o=0;o<i[0].length;o++){if(typeof i[0][o]!=="string")return true}return false};glob.Glob=Glob;a(Glob,c);function Glob(e,t,r){if(typeof t==="function"){r=t;t=null}if(t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new k(e,t)}if(!(this instanceof Glob))return new Glob(e,t,r);g(this,e,t);this._didRealPath=false;var n=this.minimatch.set.length;this.matches=new Array(n);if(typeof r==="function"){r=E(r);this.on("error",r);this.on("end",function(e){r(null,e)})}var i=this;this._processing=0;this._emitQueue=[];this._processQueue=[];this.paused=false;if(this.noprocess)return this;if(n===0)return done();var o=true;for(var s=0;s<n;s++){this._process(this.minimatch.set[s],s,false,done)}o=false;function done(){--i._processing;if(i._processing<=0){if(o){process.nextTick(function(){i._finish()})}else{i._finish()}}}}Glob.prototype._finish=function(){u(this instanceof Glob);if(this.aborted)return;if(this.realpath&&!this._didRealpath)return this._realpath();h.finish(this);this.emit("end",this.found)};Glob.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=true;var e=this.matches.length;if(e===0)return this._finish();var t=this;for(var r=0;r<this.matches.length;r++)this._realpathSet(r,next);function next(){if(--e===0)t._finish()}};Glob.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r);var o=this;var s=n.length;if(s===0)return t();var a=this.matches[e]=Object.create(null);n.forEach(function(r,n){r=o._makeAbs(r);i.realpath(r,o.realpathCache,function(n,i){if(!n)a[i]=true;else if(n.syscall==="stat")a[r]=true;else o.emit("error",n);if(--s===0){o.matches[e]=a;t()}})})};Glob.prototype._mark=function(e){return h.mark(this,e)};Glob.prototype._makeAbs=function(e){return h.makeAbs(this,e)};Glob.prototype.abort=function(){this.aborted=true;this.emit("abort")};Glob.prototype.pause=function(){if(!this.paused){this.paused=true;this.emit("pause")}};Glob.prototype.resume=function(){if(this.paused){this.emit("resume");this.paused=false;if(this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--;this._process(i[0],i[1],i[2],i[3])}}}};Glob.prototype._process=function(e,t,r,n){u(this instanceof Glob);u(typeof n==="function");if(this.aborted)return;this._processing++;if(this.paused){this._processQueue.push([e,t,r,n]);return}var i=0;while(typeof e[i]==="string"){i++}var s;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:s=null;break;default:s=e.slice(0,i).join("/");break}var a=e.slice(i);var c;if(s===null)c=".";else if(d(s)||d(e.join("/"))){if(!s||!d(s))s="/"+s;c=s}else c=s;var l=this._makeAbs(c);if(b(this,c))return n();var f=a[0]===o.GLOBSTAR;if(f)this._processGlobStar(s,c,l,a,t,r,n);else this._processReaddir(s,c,l,a,t,r,n)};Glob.prototype._processReaddir=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(c,l){return a._processReaddir2(e,t,r,n,i,o,l,s)})};Glob.prototype._processReaddir2=function(e,t,r,n,i,o,s,a){if(!s)return a();var c=n[0];var u=!!this.minimatch.negate;var d=c._glob;var f=this.dot||d.charAt(0)===".";var h=[];for(var p=0;p<s.length;p++){var m=s[p];if(m.charAt(0)!=="."||f){var g;if(u&&!e){g=!m.match(c)}else{g=m.match(c)}if(g)h.push(m)}}var y=h.length;if(y===0)return a();if(n.length===1&&!this.mark&&!this.stat){if(!this.matches[i])this.matches[i]=Object.create(null);for(var p=0;p<y;p++){var m=h[p];if(e){if(e!=="/")m=e+"/"+m;else m=e+m}if(m.charAt(0)==="/"&&!this.nomount){m=l.join(this.root,m)}this._emitMatch(i,m)}return a()}n.shift();for(var p=0;p<y;p++){var m=h[p];var w;if(e){if(e!=="/")m=e+"/"+m;else m=e+m}this._process([m].concat(n),i,o,a)}a()};Glob.prototype._emitMatch=function(e,t){if(this.aborted)return;if(v(this,t))return;if(this.paused){this._emitQueue.push([e,t]);return}var r=d(t)?t:this._makeAbs(t);if(this.mark)t=this._mark(t);if(this.absolute)t=r;if(this.matches[e][t])return;if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=true;var i=this.statCache[r];if(i)this.emit("stat",t,i);this.emit("match",t)};Glob.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,false,t);var r="lstat\0"+e;var i=this;var o=w(r,lstatcb_);if(o)n.lstat(e,o);function lstatcb_(r,n){if(r&&r.code==="ENOENT")return t();var o=n&&n.isSymbolicLink();i.symlinks[e]=o;if(!o&&n&&!n.isDirectory()){i.cache[e]="FILE";t()}else i._readdir(e,false,t)}};Glob.prototype._readdir=function(e,t,r){if(this.aborted)return;r=w("readdir\0"+e+"\0"+t,r);if(!r)return;if(t&&!y(this.symlinks,e))return this._readdirInGlobStar(e,r);if(y(this.cache,e)){var i=this.cache[e];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var o=this;n.readdir(e,readdirCb(this,e,r))};function readdirCb(e,t,r){return function(n,i){if(n)e._readdirError(t,n,r);else e._readdirEntries(t,i,r)}}Glob.prototype._readdirEntries=function(e,t,r){if(this.aborted)return;if(!this.mark&&!this.stat){for(var n=0;n<t.length;n++){var i=t[n];if(e==="/")i=e+i;else i=e+"/"+i;this.cache[i]=true}}this.cache[e]=t;return r(null,t)};Glob.prototype._readdirError=function(e,t,r){if(this.aborted)return;switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);this.cache[n]="FILE";if(n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd;i.code=t.code;this.emit("error",i);this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=false;break;default:this.cache[this._makeAbs(e)]=false;if(this.strict){this.emit("error",t);this.abort()}if(!this.silent)console.error("glob error",t);break}return r()};Glob.prototype._processGlobStar=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(c,l){a._processGlobStar2(e,t,r,n,i,o,l,s)})};Glob.prototype._processGlobStar2=function(e,t,r,n,i,o,s,a){if(!s)return a();var c=n.slice(1);var l=e?[e]:[];var u=l.concat(c);this._process(u,i,false,a);var d=this.symlinks[r];var f=s.length;if(d&&o)return a();for(var h=0;h<f;h++){var p=s[h];if(p.charAt(0)==="."&&!this.dot)continue;var m=l.concat(s[h],c);this._process(m,i,true,a);var g=l.concat(s[h],n);this._process(g,i,true,a)}a()};Glob.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,o){n._processSimple2(e,t,i,o,r)})};Glob.prototype._processSimple2=function(e,t,r,n,i){if(!this.matches[t])this.matches[t]=Object.create(null);if(!n)return i();if(e&&d(e)&&!this.nomount){var o=/[\/\\]$/.test(e);if(e.charAt(0)==="/"){e=l.join(this.root,e)}else{e=l.resolve(this.root,e);if(o)e+="/"}}if(process.platform==="win32")e=e.replace(/\\/g,"/");this._emitMatch(t,e);i()};Glob.prototype._stat=function(e,t){var r=this._makeAbs(e);var i=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&y(this.cache,r)){var o=this.cache[r];if(Array.isArray(o))o="DIR";if(!i||o==="DIR")return t(null,o);if(i&&o==="FILE")return t()}var s;var a=this.statCache[r];if(a!==undefined){if(a===false)return t(null,a);else{var c=a.isDirectory()?"DIR":"FILE";if(i&&c==="FILE")return t();else return t(null,c,a)}}var l=this;var u=w("stat\0"+r,lstatcb_);if(u)n.lstat(r,u);function lstatcb_(i,o){if(o&&o.isSymbolicLink()){return n.stat(r,function(n,i){if(n)l._stat2(e,r,null,o,t);else l._stat2(e,r,n,i,t)})}else{l._stat2(e,r,i,o,t)}}};Glob.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR")){this.statCache[t]=false;return i()}var o=e.slice(-1)==="/";this.statCache[t]=n;if(t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,false,n);var s=true;if(n)s=n.isDirectory()?"DIR":"FILE";this.cache[t]=this.cache[t]||s;if(o&&s==="FILE")return i();return i(null,s,n)}},9010:(e,t,r)=>{e.exports=globSync;globSync.GlobSync=GlobSync;var n=r(5747);var i=r(6863);var o=r(3973);var s=o.Minimatch;var a=r(1957).Glob;var c=r(1669);var l=r(5622);var u=r(2357);var d=r(8714);var f=r(7625);var h=f.alphasort;var p=f.alphasorti;var m=f.setopts;var g=f.ownProp;var y=f.childrenIgnored;var w=f.isIgnored;function globSync(e,t){if(typeof t==="function"||arguments.length===3)throw new TypeError("callback provided to sync glob\n"+"See: https://github.com/isaacs/node-glob/issues/167");return new GlobSync(e,t).found}function GlobSync(e,t){if(!e)throw new Error("must provide pattern");if(typeof t==="function"||arguments.length===3)throw new TypeError("callback provided to sync glob\n"+"See: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof GlobSync))return new GlobSync(e,t);m(this,e,t);if(this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++){this._process(this.minimatch.set[n],n,false)}this._finish()}GlobSync.prototype._finish=function(){u(this instanceof GlobSync);if(this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var o in t){try{o=e._makeAbs(o);var s=i.realpathSync(o,e.realpathCache);n[s]=true}catch(t){if(t.syscall==="stat")n[e._makeAbs(o)]=true;else throw t}}})}f.finish(this)};GlobSync.prototype._process=function(e,t,r){u(this instanceof GlobSync);var n=0;while(typeof e[n]==="string"){n++}var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var s=e.slice(n);var a;if(i===null)a=".";else if(d(i)||d(e.join("/"))){if(!i||!d(i))i="/"+i;a=i}else a=i;var c=this._makeAbs(a);if(y(this,a))return;var l=s[0]===o.GLOBSTAR;if(l)this._processGlobStar(i,a,c,s,t,r);else this._processReaddir(i,a,c,s,t,r)};GlobSync.prototype._processReaddir=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!s)return;var a=n[0];var c=!!this.minimatch.negate;var u=a._glob;var d=this.dot||u.charAt(0)===".";var f=[];for(var h=0;h<s.length;h++){var p=s[h];if(p.charAt(0)!=="."||d){var m;if(c&&!e){m=!p.match(a)}else{m=p.match(a)}if(m)f.push(p)}}var g=f.length;if(g===0)return;if(n.length===1&&!this.mark&&!this.stat){if(!this.matches[i])this.matches[i]=Object.create(null);for(var h=0;h<g;h++){var p=f[h];if(e){if(e.slice(-1)!=="/")p=e+"/"+p;else p=e+p}if(p.charAt(0)==="/"&&!this.nomount){p=l.join(this.root,p)}this._emitMatch(i,p)}return}n.shift();for(var h=0;h<g;h++){var p=f[h];var y;if(e)y=[e,p];else y=[p];this._process(y.concat(n),i,o)}};GlobSync.prototype._emitMatch=function(e,t){if(w(this,t))return;var r=this._makeAbs(t);if(this.mark)t=this._mark(t);if(this.absolute){t=r}if(this.matches[e][t])return;if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=true;if(this.stat)this._stat(t)};GlobSync.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,false);var t;var r;var i;try{r=n.lstatSync(e)}catch(e){if(e.code==="ENOENT"){return null}}var o=r&&r.isSymbolicLink();this.symlinks[e]=o;if(!o&&r&&!r.isDirectory())this.cache[e]="FILE";else t=this._readdir(e,false);return t};GlobSync.prototype._readdir=function(e,t){var r;if(t&&!g(this.symlinks,e))return this._readdirInGlobStar(e);if(g(this.cache,e)){var i=this.cache[e];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(e,n.readdirSync(e))}catch(t){this._readdirError(e,t);return null}};GlobSync.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat){for(var r=0;r<t.length;r++){var n=t[r];if(e==="/")n=e+n;else n=e+"/"+n;this.cache[n]=true}}this.cache[e]=t;return t};GlobSync.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);this.cache[r]="FILE";if(r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);n.path=this.cwd;n.code=t.code;throw n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=false;break;default:this.cache[this._makeAbs(e)]=false;if(this.strict)throw t;if(!this.silent)console.error("glob error",t);break}};GlobSync.prototype._processGlobStar=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!s)return;var a=n.slice(1);var c=e?[e]:[];var l=c.concat(a);this._process(l,i,false);var u=s.length;var d=this.symlinks[r];if(d&&o)return;for(var f=0;f<u;f++){var h=s[f];if(h.charAt(0)==="."&&!this.dot)continue;var p=c.concat(s[f],a);this._process(p,i,true);var m=c.concat(s[f],n);this._process(m,i,true)}};GlobSync.prototype._processSimple=function(e,t){var r=this._stat(e);if(!this.matches[t])this.matches[t]=Object.create(null);if(!r)return;if(e&&d(e)&&!this.nomount){var n=/[\/\\]$/.test(e);if(e.charAt(0)==="/"){e=l.join(this.root,e)}else{e=l.resolve(this.root,e);if(n)e+="/"}}if(process.platform==="win32")e=e.replace(/\\/g,"/");this._emitMatch(t,e)};GlobSync.prototype._stat=function(e){var t=this._makeAbs(e);var r=e.slice(-1)==="/";if(e.length>this.maxLength)return false;if(!this.stat&&g(this.cache,t)){var i=this.cache[t];if(Array.isArray(i))i="DIR";if(!r||i==="DIR")return i;if(r&&i==="FILE")return false}var o;var s=this.statCache[t];if(!s){var a;try{a=n.lstatSync(t)}catch(e){if(e&&(e.code==="ENOENT"||e.code==="ENOTDIR")){this.statCache[t]=false;return false}}if(a&&a.isSymbolicLink()){try{s=n.statSync(t)}catch(e){s=a}}else{s=a}}this.statCache[t]=s;var i=true;if(s)i=s.isDirectory()?"DIR":"FILE";this.cache[t]=this.cache[t]||i;if(r&&i==="FILE")return false;return i};GlobSync.prototype._mark=function(e){return f.mark(this,e)};GlobSync.prototype._makeAbs=function(e){return f.makeAbs(this,e)}},3436:(e,t,r)=>{var n=r(1631);var i=r(4016);var o=r(8835);var s=r(2357);var a=r(9690);var c=r(1669).inherits;var l=r(8237)("https-proxy-agent");e.exports=HttpsProxyAgent;function HttpsProxyAgent(e){if(!(this instanceof HttpsProxyAgent))return new HttpsProxyAgent(e);if("string"==typeof e)e=o.parse(e);if(!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");l("creating new HttpsProxyAgent instance: %o",e);a.call(this,e);var t=Object.assign({},e);this.secureProxy=t.protocol?/^https:?$/i.test(t.protocol):false;t.host=t.hostname||t.host;t.port=+t.port||(this.secureProxy?443:80);if(this.secureProxy&&!("ALPNProtocols"in t)){t.ALPNProtocols=["http 1.1"]}if(t.host&&t.path){delete t.path;delete t.pathname}this.proxy=t}c(HttpsProxyAgent,a);HttpsProxyAgent.prototype.callback=function connect(e,t,r){var o=this.proxy;var a;if(this.secureProxy){a=i.connect(o)}else{a=n.connect(o)}var c=[];var u=0;function read(){var e=a.read();if(e)ondata(e);else a.once("readable",read)}function cleanup(){a.removeListener("end",onend);a.removeListener("error",onerror);a.removeListener("close",onclose);a.removeListener("readable",read)}function onclose(e){l("onclose had error %o",e)}function onend(){l("onend")}function onerror(e){cleanup();r(e)}function ondata(o){c.push(o);u+=o.length;var s=Buffer.concat(c,u);var d=s.toString("ascii");if(!~d.indexOf("\r\n\r\n")){l("have not received end of HTTP headers yet...");read();return}var f=d.substring(0,d.indexOf("\r\n"));var h=+f.split(" ")[1];l("got proxy server response: %o",f);if(200==h){var p=a;c=s=null;if(t.secureEndpoint){l("upgrading proxy-connected socket to TLS connection: %o",t.host);t.socket=a;t.servername=t.servername||t.host;t.host=null;t.hostname=null;t.port=null;p=i.connect(t)}cleanup();e.once("socket",resume);r(null,p)}else{cleanup();a.destroy();a=new n.Socket;a.readable=true;c=s;e.once("socket",onsocket);r(null,a)}}function onsocket(e){l("replaying proxy buffer for failed request");s(e.listenerCount("data")>0);e.push(c);c=null}a.on("error",onerror);a.on("close",onclose);a.on("end",onend);read();var d=t.host+":"+t.port;var f="CONNECT "+d+" HTTP/1.1\r\n";var h=Object.assign({},o.headers);if(o.auth){h["Proxy-Authorization"]="Basic "+Buffer.from(o.auth).toString("base64")}var p=t.host;if(!isDefaultPort(t.port,t.secureEndpoint)){p+=":"+t.port}h["Host"]=p;h["Connection"]="close";Object.keys(h).forEach(function(e){f+=e+": "+h[e]+"\r\n"});a.write(f+"\r\n")};function resume(e){e.resume()}function isDefaultPort(e,t){return Boolean(!t&&e===80||t&&e===443)}},2492:(e,t,r)=>{var n=r(2940);var i=Object.create(null);var o=r(1223);e.exports=n(inflight);function inflight(e,t){if(i[e]){i[e].push(t);return null}else{i[e]=[t];return makeres(e)}}function makeres(e){return o(function RES(){var t=i[e];var r=t.length;var n=slice(arguments);try{for(var o=0;o<r;o++){t[o].apply(null,n)}}finally{if(t.length>r){t.splice(0,r);process.nextTick(function(){RES.apply(null,n)})}else{delete i[e]}}})}function slice(e){var t=e.length;var r=[];for(var n=0;n<t;n++)r[n]=e[n];return r}},4124:(e,t,r)=>{try{var n=r(1669);if(typeof n.inherits!=="function")throw"";e.exports=n.inherits}catch(t){e.exports=r(8544)}},8544:e=>{if(typeof Object.create==="function"){e.exports=function inherits(e,t){if(t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function inherits(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}}}},3287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}function isPlainObject(e){var t,r;if(isObject(e)===false)return false;t=e.constructor;if(t===undefined)return true;r=t.prototype;if(isObject(r)===false)return false;if(r.hasOwnProperty("isPrototypeOf")===false){return false}return true}t.isPlainObject=isPlainObject},3447:(e,t,r)=>{"use strict";const n=r(5622);const i=r(5747);const{promisify:o}=r(1669);const s=r(104);const a=o(i.stat);const c=o(i.lstat);const l={directory:"isDirectory",file:"isFile"};function checkType({type:e}){if(e in l){return}throw new Error(`Invalid type specified: ${e}`)}const u=(e,t)=>e===undefined||t[l[e]]();e.exports=(async(e,t)=>{t={cwd:process.cwd(),type:"file",allowSymlinks:true,...t};checkType(t);const r=t.allowSymlinks?a:c;return s(e,async e=>{try{const i=await r(n.resolve(t.cwd,e));return u(t.type,i)}catch(e){return false}},t)});e.exports.sync=((e,t)=>{t={cwd:process.cwd(),allowSymlinks:true,type:"file",...t};checkType(t);const r=t.allowSymlinks?i.statSync:i.lstatSync;for(const i of e){try{const e=r(n.resolve(t.cwd,i));if(u(t.type,e)){return i}}catch(e){}}})},3973:(e,t,r)=>{e.exports=minimatch;minimatch.Minimatch=Minimatch;var n={sep:"/"};try{n=r(5622)}catch(e){}var i=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={};var o=r(3717);var s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};var a="[^/]";var c=a+"*?";var l="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";var u="(?:(?!(?:\\/|^)\\.).)*?";var d=charSet("().*{}+?[]^$\\!");function charSet(e){return e.split("").reduce(function(e,t){e[t]=true;return e},{})}var f=/\/+/;minimatch.filter=filter;function filter(e,t){t=t||{};return function(r,n,i){return minimatch(r,e,t)}}function ext(e,t){e=e||{};t=t||{};var r={};Object.keys(t).forEach(function(e){r[e]=t[e]});Object.keys(e).forEach(function(t){r[t]=e[t]});return r}minimatch.defaults=function(e){if(!e||!Object.keys(e).length)return minimatch;var t=minimatch;var r=function minimatch(r,n,i){return t.minimatch(r,n,ext(e,i))};r.Minimatch=function Minimatch(r,n){return new t.Minimatch(r,ext(e,n))};return r};Minimatch.defaults=function(e){if(!e||!Object.keys(e).length)return Minimatch;return minimatch.defaults(e).Minimatch};function minimatch(e,t,r){if(typeof t!=="string"){throw new TypeError("glob pattern string required")}if(!r)r={};if(!r.nocomment&&t.charAt(0)==="#"){return false}if(t.trim()==="")return e==="";return new Minimatch(t,r).match(e)}function Minimatch(e,t){if(!(this instanceof Minimatch)){return new Minimatch(e,t)}if(typeof e!=="string"){throw new TypeError("glob pattern string required")}if(!t)t={};e=e.trim();if(n.sep!=="/"){e=e.split(n.sep).join("/")}this.options=t;this.set=[];this.pattern=e;this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.make()}Minimatch.prototype.debug=function(){};Minimatch.prototype.make=make;function make(){if(this._made)return;var e=this.pattern;var t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=true;return}if(!e){this.empty=true;return}this.parseNegate();var r=this.globSet=this.braceExpand();if(t.debug)this.debug=console.error;this.debug(this.pattern,r);r=this.globParts=r.map(function(e){return e.split(f)});this.debug(this.pattern,r);r=r.map(function(e,t,r){return e.map(this.parse,this)},this);this.debug(this.pattern,r);r=r.filter(function(e){return e.indexOf(false)===-1});this.debug(this.pattern,r);this.set=r}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var e=this.pattern;var t=false;var r=this.options;var n=0;if(r.nonegate)return;for(var i=0,o=e.length;i<o&&e.charAt(i)==="!";i++){t=!t;n++}if(n)this.pattern=e.substr(n);this.negate=t}minimatch.braceExpand=function(e,t){return braceExpand(e,t)};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(e,t){if(!t){if(this instanceof Minimatch){t=this.options}else{t={}}}e=typeof e==="undefined"?this.pattern:e;if(typeof e==="undefined"){throw new TypeError("undefined pattern")}if(t.nobrace||!e.match(/\{.*\}/)){return[e]}return o(e)}Minimatch.prototype.parse=parse;var h={};function parse(e,t){if(e.length>1024*64){throw new TypeError("pattern is too long")}var r=this.options;if(!r.noglobstar&&e==="**")return i;if(e==="")return"";var n="";var o=!!r.nocase;var l=false;var u=[];var f=[];var p;var m=false;var g=-1;var y=-1;var w=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";var _=this;function clearStateChar(){if(p){switch(p){case"*":n+=c;o=true;break;case"?":n+=a;o=true;break;default:n+="\\"+p;break}_.debug("clearStateChar %j %j",p,n);p=false}}for(var b=0,v=e.length,E;b<v&&(E=e.charAt(b));b++){this.debug("%s\t%s %s %j",e,b,n,E);if(l&&d[E]){n+="\\"+E;l=false;continue}switch(E){case"/":return false;case"\\":clearStateChar();l=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",e,b,n,E);if(m){this.debug("  in class");if(E==="!"&&b===y+1)E="^";n+=E;continue}_.debug("call clearStateChar %j",p);clearStateChar();p=E;if(r.noext)clearStateChar();continue;case"(":if(m){n+="(";continue}if(!p){n+="\\(";continue}u.push({type:p,start:b-1,reStart:n.length,open:s[p].open,close:s[p].close});n+=p==="!"?"(?:(?!(?:":"(?:";this.debug("plType %j %j",p,n);p=false;continue;case")":if(m||!u.length){n+="\\)";continue}clearStateChar();o=true;var k=u.pop();n+=k.close;if(k.type==="!"){f.push(k)}k.reEnd=n.length;continue;case"|":if(m||!u.length||l){n+="\\|";l=false;continue}clearStateChar();n+="|";continue;case"[":clearStateChar();if(m){n+="\\"+E;continue}m=true;y=b;g=n.length;n+=E;continue;case"]":if(b===y+1||!m){n+="\\"+E;l=false;continue}if(m){var T=e.substring(y+1,b);try{RegExp("["+T+"]")}catch(e){var S=this.parse(T,h);n=n.substr(0,g)+"\\["+S[0]+"\\]";o=o||S[1];m=false;continue}}o=true;m=false;n+=E;continue;default:clearStateChar();if(l){l=false}else if(d[E]&&!(E==="^"&&m)){n+="\\"}n+=E}}if(m){T=e.substr(y+1);S=this.parse(T,h);n=n.substr(0,g)+"\\["+S[0];o=o||S[1]}for(k=u.pop();k;k=u.pop()){var C=n.slice(k.reStart+k.open.length);this.debug("setting tail",n,k);C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,r){if(!r){r="\\"}return t+t+r+"|"});this.debug("tail=%j\n   %s",C,C,k,n);var P=k.type==="*"?c:k.type==="?"?a:"\\"+k.type;o=true;n=n.slice(0,k.reStart)+P+"\\("+C}clearStateChar();if(l){n+="\\\\"}var O=false;switch(n.charAt(0)){case".":case"[":case"(":O=true}for(var x=f.length-1;x>-1;x--){var A=f[x];var R=n.slice(0,A.reStart);var M=n.slice(A.reStart,A.reEnd-8);var F=n.slice(A.reEnd-8,A.reEnd);var I=n.slice(A.reEnd);F+=I;var L=R.split("(").length-1;var D=I;for(b=0;b<L;b++){D=D.replace(/\)[+*?]?/,"")}I=D;var N="";if(I===""&&t!==h){N="$"}var B=R+M+I+N+F;n=B}if(n!==""&&o){n="(?=.)"+n}if(O){n=w+n}if(t===h){return[n,o]}if(!o){return globUnescape(e)}var j=r.nocase?"i":"";try{var G=new RegExp("^"+n+"$",j)}catch(e){return new RegExp("$.")}G._glob=e;G._src=n;return G}minimatch.makeRe=function(e,t){return new Minimatch(e,t||{}).makeRe()};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===false)return this.regexp;var e=this.set;if(!e.length){this.regexp=false;return this.regexp}var t=this.options;var r=t.noglobstar?c:t.dot?l:u;var n=t.nocase?"i":"";var o=e.map(function(e){return e.map(function(e){return e===i?r:typeof e==="string"?regExpEscape(e):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$";if(this.negate)o="^(?!"+o+").*$";try{this.regexp=new RegExp(o,n)}catch(e){this.regexp=false}return this.regexp}minimatch.match=function(e,t,r){r=r||{};var n=new Minimatch(t,r);e=e.filter(function(e){return n.match(e)});if(n.options.nonull&&!e.length){e.push(t)}return e};Minimatch.prototype.match=match;function match(e,t){this.debug("match",e,this.pattern);if(this.comment)return false;if(this.empty)return e==="";if(e==="/"&&t)return true;var r=this.options;if(n.sep!=="/"){e=e.split(n.sep).join("/")}e=e.split(f);this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var o;var s;for(s=e.length-1;s>=0;s--){o=e[s];if(o)break}for(s=0;s<i.length;s++){var a=i[s];var c=e;if(r.matchBase&&a.length===1){c=[o]}var l=this.matchOne(c,a,t);if(l){if(r.flipNegate)return true;return!this.negate}}if(r.flipNegate)return false;return this.negate}Minimatch.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t});this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l=t[s];var u=e[o];this.debug(t,l,u);if(l===false)return false;if(l===i){this.debug("GLOBSTAR",[t,l,u]);var d=o;var f=s+1;if(f===c){this.debug("** at the end");for(;o<a;o++){if(e[o]==="."||e[o]===".."||!n.dot&&e[o].charAt(0)===".")return false}return true}while(d<a){var h=e[d];this.debug("\nglobstar while",e,d,t,f,h);if(this.matchOne(e.slice(d),t.slice(f),r)){this.debug("globstar found match!",d,a,h);return true}else{if(h==="."||h===".."||!n.dot&&h.charAt(0)==="."){this.debug("dot detected!",e,d,t,f);break}this.debug("globstar swallow a segment, and continue");d++}}if(r){this.debug("\n>>> no match, partial?",e,d,t,f);if(d===a)return true}return false}var p;if(typeof l==="string"){if(n.nocase){p=u.toLowerCase()===l.toLowerCase()}else{p=u===l}this.debug("string match",l,u,p)}else{p=u.match(l);this.debug("pattern match",l,u,p)}if(!p)return false}if(o===a&&s===c){return true}else if(o===a){return r}else if(s===c){var m=o===a-1&&e[o]==="";return m}throw new Error("wtf?")};function globUnescape(e){return e.replace(/\\(.)/g,"$1")}function regExpEscape(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},7614:(e,t,r)=>{var n=r(5622);var i=r(5747);var o=parseInt("0777",8);e.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP;function mkdirP(e,t,r,s){if(typeof t==="function"){r=t;t={}}else if(!t||typeof t!=="object"){t={mode:t}}var a=t.mode;var c=t.fs||i;if(a===undefined){a=o&~process.umask()}if(!s)s=null;var l=r||function(){};e=n.resolve(e);c.mkdir(e,a,function(r){if(!r){s=s||e;return l(null,s)}switch(r.code){case"ENOENT":mkdirP(n.dirname(e),t,function(r,n){if(r)l(r,n);else mkdirP(e,t,l,n)});break;default:c.stat(e,function(e,t){if(e||!t.isDirectory())l(r,s);else l(null,s)});break}})}mkdirP.sync=function sync(e,t,r){if(!t||typeof t!=="object"){t={mode:t}}var s=t.mode;var a=t.fs||i;if(s===undefined){s=o&~process.umask()}if(!r)r=null;e=n.resolve(e);try{a.mkdirSync(e,s);r=r||e}catch(i){switch(i.code){case"ENOENT":r=sync(n.dirname(e),t,r);sync(e,t,r);break;default:var c;try{c=a.statSync(e)}catch(e){throw i}if(!c.isDirectory())throw i;break}}return r}},900:e=>{var t=1e3;var r=t*60;var n=r*60;var i=n*24;var o=i*7;var s=i*365.25;e.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0){return parse(e)}else if(r==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a){return}var c=parseFloat(a[1]);var l=(a[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return undefined}}function fmtShort(e){var o=Math.abs(e);if(o>=i){return Math.round(e/i)+"d"}if(o>=n){return Math.round(e/n)+"h"}if(o>=r){return Math.round(e/r)+"m"}if(o>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var o=Math.abs(e);if(o>=i){return plural(e,o,i,"day")}if(o>=n){return plural(e,o,n,"hour")}if(o>=r){return plural(e,o,r,"minute")}if(o>=t){return plural(e,o,t,"second")}return e+" ms"}function plural(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}},467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var n=_interopDefault(r(2413));var i=_interopDefault(r(8605));var o=_interopDefault(r(8835));var s=_interopDefault(r(7211));var a=_interopDefault(r(8761));const c=n.Readable;const l=Symbol("buffer");const u=Symbol("type");class Blob{constructor(){this[u]="";const e=arguments[0];const t=arguments[1];const r=[];let n=0;if(e){const t=e;const i=Number(t.length);for(let e=0;e<i;e++){const i=t[e];let o;if(i instanceof Buffer){o=i}else if(ArrayBuffer.isView(i)){o=Buffer.from(i.buffer,i.byteOffset,i.byteLength)}else if(i instanceof ArrayBuffer){o=Buffer.from(i)}else if(i instanceof Blob){o=i[l]}else{o=Buffer.from(typeof i==="string"?i:String(i))}n+=o.length;r.push(o)}}this[l]=Buffer.concat(r);let i=t&&t.type!==undefined&&String(t.type).toLowerCase();if(i&&!/[^\u0020-\u007E]/.test(i)){this[u]=i}}get size(){return this[l].length}get type(){return this[u]}text(){return Promise.resolve(this[l].toString())}arrayBuffer(){const e=this[l];const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new c;e._read=function(){};e.push(this[l]);e.push(null);return e}toString(){return"[object Blob]"}slice(){const e=this.size;const t=arguments[0];const r=arguments[1];let n,i;if(t===undefined){n=0}else if(t<0){n=Math.max(e+t,0)}else{n=Math.min(t,e)}if(r===undefined){i=e}else if(r<0){i=Math.max(e+r,0)}else{i=Math.min(r,e)}const o=Math.max(i-n,0);const s=this[l];const a=s.slice(n,n+o);const c=new Blob([],{type:arguments[2]});c[l]=a;return c}}Object.defineProperties(Blob.prototype,{size:{enumerable:true},type:{enumerable:true},slice:{enumerable:true}});Object.defineProperty(Blob.prototype,Symbol.toStringTag,{value:"Blob",writable:false,enumerable:false,configurable:true});function FetchError(e,t,r){Error.call(this,e);this.message=e;this.type=t;if(r){this.code=this.errno=r.code}Error.captureStackTrace(this,this.constructor)}FetchError.prototype=Object.create(Error.prototype);FetchError.prototype.constructor=FetchError;FetchError.prototype.name="FetchError";let d;try{d=r(2877).convert}catch(e){}const f=Symbol("Body internals");const h=n.PassThrough;function Body(e){var t=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=r.size;let o=i===undefined?0:i;var s=r.timeout;let a=s===undefined?0:s;if(e==null){e=null}else if(isURLSearchParams(e)){e=Buffer.from(e.toString())}else if(isBlob(e))   ;else if(Buffer.isBuffer(e))   ;else if(Object.prototype.toString.call(e)==="[object ArrayBuffer]"){e=Buffer.from(e)}else if(ArrayBuffer.isView(e)){e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(e instanceof n)   ;else{e=Buffer.from(String(e))}this[f]={body:e,disturbed:false,error:null};this.size=o;this.timeout=a;if(e instanceof n){e.on("error",function(e){const r=e.name==="AbortError"?e:new FetchError(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[f].error=r})}}Body.prototype={get body(){return this[f].body},get bodyUsed(){return this[f].disturbed},arrayBuffer(){return consumeBody.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return consumeBody.call(this).then(function(t){return Object.assign(new Blob([],{type:e.toLowerCase()}),{[l]:t})})},json(){var e=this;return consumeBody.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(t){return Body.Promise.reject(new FetchError(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}})},text(){return consumeBody.call(this).then(function(e){return e.toString()})},buffer(){return consumeBody.call(this)},textConverted(){var e=this;return consumeBody.call(this).then(function(t){return convertBody(t,e.headers)})}};Object.defineProperties(Body.prototype,{body:{enumerable:true},bodyUsed:{enumerable:true},arrayBuffer:{enumerable:true},blob:{enumerable:true},json:{enumerable:true},text:{enumerable:true}});Body.mixIn=function(e){for(const t of Object.getOwnPropertyNames(Body.prototype)){if(!(t in e)){const r=Object.getOwnPropertyDescriptor(Body.prototype,t);Object.defineProperty(e,t,r)}}};function consumeBody(){var e=this;if(this[f].disturbed){return Body.Promise.reject(new TypeError(`body used already for: ${this.url}`))}this[f].disturbed=true;if(this[f].error){return Body.Promise.reject(this[f].error)}let t=this.body;if(t===null){return Body.Promise.resolve(Buffer.alloc(0))}if(isBlob(t)){t=t.stream()}if(Buffer.isBuffer(t)){return Body.Promise.resolve(t)}if(!(t instanceof n)){return Body.Promise.resolve(Buffer.alloc(0))}let r=[];let i=0;let o=false;return new Body.Promise(function(n,s){let a;if(e.timeout){a=setTimeout(function(){o=true;s(new FetchError(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)}t.on("error",function(t){if(t.name==="AbortError"){o=true;s(t)}else{s(new FetchError(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))}});t.on("data",function(t){if(o||t===null){return}if(e.size&&i+t.length>e.size){o=true;s(new FetchError(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}i+=t.length;r.push(t)});t.on("end",function(){if(o){return}clearTimeout(a);try{n(Buffer.concat(r,i))}catch(t){s(new FetchError(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}})})}function convertBody(e,t){if(typeof d!=="function"){throw new Error("The package `encoding` must be installed to use the textConverted() function")}const r=t.get("content-type");let n="utf-8";let i,o;if(r){i=/charset=([^;]*)/i.exec(r)}o=e.slice(0,1024).toString();if(!i&&o){i=/<meta.+?charset=(['"])(.+?)\1/i.exec(o)}if(!i&&o){i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o);if(!i){i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(o);if(i){i.pop()}}if(i){i=/charset=(.*)/i.exec(i.pop())}}if(!i&&o){i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o)}if(i){n=i.pop();if(n==="gb2312"||n==="gbk"){n="gb18030"}}return d(e,"UTF-8",n).toString()}function isURLSearchParams(e){if(typeof e!=="object"||typeof e.append!=="function"||typeof e.delete!=="function"||typeof e.get!=="function"||typeof e.getAll!=="function"||typeof e.has!=="function"||typeof e.set!=="function"){return false}return e.constructor.name==="URLSearchParams"||Object.prototype.toString.call(e)==="[object URLSearchParams]"||typeof e.sort==="function"}function isBlob(e){return typeof e==="object"&&typeof e.arrayBuffer==="function"&&typeof e.type==="string"&&typeof e.stream==="function"&&typeof e.constructor==="function"&&typeof e.constructor.name==="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function clone(e){let t,r;let i=e.body;if(e.bodyUsed){throw new Error("cannot clone body after it is used")}if(i instanceof n&&typeof i.getBoundary!=="function"){t=new h;r=new h;i.pipe(t);i.pipe(r);e[f].body=t;i=r}return i}function extractContentType(e){if(e===null){return null}else if(typeof e==="string"){return"text/plain;charset=UTF-8"}else if(isURLSearchParams(e)){return"application/x-www-form-urlencoded;charset=UTF-8"}else if(isBlob(e)){return e.type||null}else if(Buffer.isBuffer(e)){return null}else if(Object.prototype.toString.call(e)==="[object ArrayBuffer]"){return null}else if(ArrayBuffer.isView(e)){return null}else if(typeof e.getBoundary==="function"){return`multipart/form-data;boundary=${e.getBoundary()}`}else if(e instanceof n){return null}else{return"text/plain;charset=UTF-8"}}function getTotalBytes(e){const t=e.body;if(t===null){return 0}else if(isBlob(t)){return t.size}else if(Buffer.isBuffer(t)){return t.length}else if(t&&typeof t.getLengthSync==="function"){if(t._lengthRetrievers&&t._lengthRetrievers.length==0||t.hasKnownLength&&t.hasKnownLength()){return t.getLengthSync()}return null}else{return null}}function writeToStream(e,t){const r=t.body;if(r===null){e.end()}else if(isBlob(r)){r.stream().pipe(e)}else if(Buffer.isBuffer(r)){e.write(r);e.end()}else{r.pipe(e)}}Body.Promise=global.Promise;const p=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/;const m=/[^\t\x20-\x7e\x80-\xff]/;function validateName(e){e=`${e}`;if(p.test(e)||e===""){throw new TypeError(`${e} is not a legal HTTP header name`)}}function validateValue(e){e=`${e}`;if(m.test(e)){throw new TypeError(`${e} is not a legal HTTP header value`)}}function find(e,t){t=t.toLowerCase();for(const r in e){if(r.toLowerCase()===t){return r}}return undefined}const g=Symbol("map");class Headers{constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;this[g]=Object.create(null);if(e instanceof Headers){const t=e.raw();const r=Object.keys(t);for(const e of r){for(const r of t[e]){this.append(e,r)}}return}if(e==null)   ;else if(typeof e==="object"){const t=e[Symbol.iterator];if(t!=null){if(typeof t!=="function"){throw new TypeError("Header pairs must be iterable")}const r=[];for(const t of e){if(typeof t!=="object"||typeof t[Symbol.iterator]!=="function"){throw new TypeError("Each header pair must be iterable")}r.push(Array.from(t))}for(const e of r){if(e.length!==2){throw new TypeError("Each header pair must be a name/value tuple")}this.append(e[0],e[1])}}else{for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}}else{throw new TypeError("Provided initializer must be an object")}}get(e){e=`${e}`;validateName(e);const t=find(this[g],e);if(t===undefined){return null}return this[g][t].join(", ")}forEach(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;let r=getHeaders(this);let n=0;while(n<r.length){var i=r[n];const o=i[0],s=i[1];e.call(t,s,o,this);r=getHeaders(this);n++}}set(e,t){e=`${e}`;t=`${t}`;validateName(e);validateValue(t);const r=find(this[g],e);this[g][r!==undefined?r:e]=[t]}append(e,t){e=`${e}`;t=`${t}`;validateName(e);validateValue(t);const r=find(this[g],e);if(r!==undefined){this[g][r].push(t)}else{this[g][e]=[t]}}has(e){e=`${e}`;validateName(e);return find(this[g],e)!==undefined}delete(e){e=`${e}`;validateName(e);const t=find(this[g],e);if(t!==undefined){delete this[g][t]}}raw(){return this[g]}keys(){return createHeadersIterator(this,"key")}values(){return createHeadersIterator(this,"value")}[Symbol.iterator](){return createHeadersIterator(this,"key+value")}}Headers.prototype.entries=Headers.prototype[Symbol.iterator];Object.defineProperty(Headers.prototype,Symbol.toStringTag,{value:"Headers",writable:false,enumerable:false,configurable:true});Object.defineProperties(Headers.prototype,{get:{enumerable:true},forEach:{enumerable:true},set:{enumerable:true},append:{enumerable:true},has:{enumerable:true},delete:{enumerable:true},keys:{enumerable:true},values:{enumerable:true},entries:{enumerable:true}});function getHeaders(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"key+value";const r=Object.keys(e[g]).sort();return r.map(t==="key"?function(e){return e.toLowerCase()}:t==="value"?function(t){return e[g][t].join(", ")}:function(t){return[t.toLowerCase(),e[g][t].join(", ")]})}const y=Symbol("internal");function createHeadersIterator(e,t){const r=Object.create(w);r[y]={target:e,kind:t,index:0};return r}const w=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==w){throw new TypeError("Value of `this` is not a HeadersIterator")}var e=this[y];const t=e.target,r=e.kind,n=e.index;const i=getHeaders(t,r);const o=i.length;if(n>=o){return{value:undefined,done:true}}this[y].index=n+1;return{value:i[n],done:false}}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(w,Symbol.toStringTag,{value:"HeadersIterator",writable:false,enumerable:false,configurable:true});function exportNodeCompatibleHeaders(e){const t=Object.assign({__proto__:null},e[g]);const r=find(e[g],"Host");if(r!==undefined){t[r]=t[r][0]}return t}function createHeadersLenient(e){const t=new Headers;for(const r of Object.keys(e)){if(p.test(r)){continue}if(Array.isArray(e[r])){for(const n of e[r]){if(m.test(n)){continue}if(t[g][r]===undefined){t[g][r]=[n]}else{t[g][r].push(n)}}}else if(!m.test(e[r])){t[g][r]=[e[r]]}}return t}const _=Symbol("Response internals");const b=i.STATUS_CODES;class Response{constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Body.call(this,e,t);const r=t.status||200;const n=new Headers(t.headers);if(e!=null&&!n.has("Content-Type")){const t=extractContentType(e);if(t){n.append("Content-Type",t)}}this[_]={url:t.url,status:r,statusText:t.statusText||b[r],headers:n,counter:t.counter}}get url(){return this[_].url||""}get status(){return this[_].status}get ok(){return this[_].status>=200&&this[_].status<300}get redirected(){return this[_].counter>0}get statusText(){return this[_].statusText}get headers(){return this[_].headers}clone(){return new Response(clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}Body.mixIn(Response.prototype);Object.defineProperties(Response.prototype,{url:{enumerable:true},status:{enumerable:true},ok:{enumerable:true},redirected:{enumerable:true},statusText:{enumerable:true},headers:{enumerable:true},clone:{enumerable:true}});Object.defineProperty(Response.prototype,Symbol.toStringTag,{value:"Response",writable:false,enumerable:false,configurable:true});const v=Symbol("Request internals");const E=o.parse;const k=o.format;const T="destroy"in n.Readable.prototype;function isRequest(e){return typeof e==="object"&&typeof e[v]==="object"}function isAbortSignal(e){const t=e&&typeof e==="object"&&Object.getPrototypeOf(e);return!!(t&&t.constructor.name==="AbortSignal")}class Request{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let r;if(!isRequest(e)){if(e&&e.href){r=E(e.href)}else{r=E(`${e}`)}e={}}else{r=E(e.url)}let n=t.method||e.method||"GET";n=n.toUpperCase();if((t.body!=null||isRequest(e)&&e.body!==null)&&(n==="GET"||n==="HEAD")){throw new TypeError("Request with GET/HEAD method cannot have body")}let i=t.body!=null?t.body:isRequest(e)&&e.body!==null?clone(e):null;Body.call(this,i,{timeout:t.timeout||e.timeout||0,size:t.size||e.size||0});const o=new Headers(t.headers||e.headers||{});if(i!=null&&!o.has("Content-Type")){const e=extractContentType(i);if(e){o.append("Content-Type",e)}}let s=isRequest(e)?e.signal:null;if("signal"in t)s=t.signal;if(s!=null&&!isAbortSignal(s)){throw new TypeError("Expected signal to be an instanceof AbortSignal")}this[v]={method:n,redirect:t.redirect||e.redirect||"follow",headers:o,parsedURL:r,signal:s};this.follow=t.follow!==undefined?t.follow:e.follow!==undefined?e.follow:20;this.compress=t.compress!==undefined?t.compress:e.compress!==undefined?e.compress:true;this.counter=t.counter||e.counter||0;this.agent=t.agent||e.agent}get method(){return this[v].method}get url(){return k(this[v].parsedURL)}get headers(){return this[v].headers}get redirect(){return this[v].redirect}get signal(){return this[v].signal}clone(){return new Request(this)}}Body.mixIn(Request.prototype);Object.defineProperty(Request.prototype,Symbol.toStringTag,{value:"Request",writable:false,enumerable:false,configurable:true});Object.defineProperties(Request.prototype,{method:{enumerable:true},url:{enumerable:true},headers:{enumerable:true},redirect:{enumerable:true},clone:{enumerable:true},signal:{enumerable:true}});function getNodeRequestOptions(e){const t=e[v].parsedURL;const r=new Headers(e[v].headers);if(!r.has("Accept")){r.set("Accept","*/*")}if(!t.protocol||!t.hostname){throw new TypeError("Only absolute URLs are supported")}if(!/^https?:$/.test(t.protocol)){throw new TypeError("Only HTTP(S) protocols are supported")}if(e.signal&&e.body instanceof n.Readable&&!T){throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8")}let i=null;if(e.body==null&&/^(POST|PUT)$/i.test(e.method)){i="0"}if(e.body!=null){const t=getTotalBytes(e);if(typeof t==="number"){i=String(t)}}if(i){r.set("Content-Length",i)}if(!r.has("User-Agent")){r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)")}if(e.compress&&!r.has("Accept-Encoding")){r.set("Accept-Encoding","gzip,deflate")}let o=e.agent;if(typeof o==="function"){o=o(t)}if(!r.has("Connection")&&!o){r.set("Connection","close")}return Object.assign({},t,{method:e.method,headers:exportNodeCompatibleHeaders(r),agent:o})}function AbortError(e){Error.call(this,e);this.type="aborted";this.message=e;Error.captureStackTrace(this,this.constructor)}AbortError.prototype=Object.create(Error.prototype);AbortError.prototype.constructor=AbortError;AbortError.prototype.name="AbortError";const S=n.PassThrough;const C=o.resolve;function fetch(e,t){if(!fetch.Promise){throw new Error("native promise missing, set fetch.Promise to your favorite alternative")}Body.Promise=fetch.Promise;return new fetch.Promise(function(r,o){const c=new Request(e,t);const l=getNodeRequestOptions(c);const u=(l.protocol==="https:"?s:i).request;const d=c.signal;let f=null;const h=function abort(){let e=new AbortError("The user aborted a request.");o(e);if(c.body&&c.body instanceof n.Readable){c.body.destroy(e)}if(!f||!f.body)return;f.body.emit("error",e)};if(d&&d.aborted){h();return}const p=function abortAndFinalize(){h();finalize()};const m=u(l);let g;if(d){d.addEventListener("abort",p)}function finalize(){m.abort();if(d)d.removeEventListener("abort",p);clearTimeout(g)}if(c.timeout){m.once("socket",function(e){g=setTimeout(function(){o(new FetchError(`network timeout at: ${c.url}`,"request-timeout"));finalize()},c.timeout)})}m.on("error",function(e){o(new FetchError(`request to ${c.url} failed, reason: ${e.message}`,"system",e));finalize()});m.on("response",function(e){clearTimeout(g);const t=createHeadersLenient(e.headers);if(fetch.isRedirect(e.statusCode)){const n=t.get("Location");const i=n===null?null:C(c.url,n);switch(c.redirect){case"error":o(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${c.url}`,"no-redirect"));finalize();return;case"manual":if(i!==null){try{t.set("Location",i)}catch(e){o(e)}}break;case"follow":if(i===null){break}if(c.counter>=c.follow){o(new FetchError(`maximum redirect reached at: ${c.url}`,"max-redirect"));finalize();return}const n={headers:new Headers(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body,signal:c.signal,timeout:c.timeout,size:c.size};if(e.statusCode!==303&&c.body&&getTotalBytes(c)===null){o(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect"));finalize();return}if(e.statusCode===303||(e.statusCode===301||e.statusCode===302)&&c.method==="POST"){n.method="GET";n.body=undefined;n.headers.delete("content-length")}r(fetch(new Request(i,n)));finalize();return}}e.once("end",function(){if(d)d.removeEventListener("abort",p)});let n=e.pipe(new S);const i={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:c.size,timeout:c.timeout,counter:c.counter};const s=t.get("Content-Encoding");if(!c.compress||c.method==="HEAD"||s===null||e.statusCode===204||e.statusCode===304){f=new Response(n,i);r(f);return}const l={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if(s=="gzip"||s=="x-gzip"){n=n.pipe(a.createGunzip(l));f=new Response(n,i);r(f);return}if(s=="deflate"||s=="x-deflate"){const t=e.pipe(new S);t.once("data",function(e){if((e[0]&15)===8){n=n.pipe(a.createInflate())}else{n=n.pipe(a.createInflateRaw())}f=new Response(n,i);r(f)});return}if(s=="br"&&typeof a.createBrotliDecompress==="function"){n=n.pipe(a.createBrotliDecompress());f=new Response(n,i);r(f);return}f=new Response(n,i);r(f)});writeToStream(m,c)})}fetch.isRedirect=function(e){return e===301||e===302||e===303||e===307||e===308};fetch.Promise=global.Promise;e.exports=t=fetch;Object.defineProperty(t,"__esModule",{value:true});t.default=t;t.Headers=Headers;t.Request=Request;t.Response=Response;t.FetchError=FetchError},1223:(e,t,r)=>{var n=r(2940);e.exports=n(once);e.exports.strict=n(onceStrict);once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:true});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:true})});function once(e){var t=function(){if(t.called)return t.value;t.called=true;return t.value=e.apply(this,arguments)};t.called=false;return t}function onceStrict(e){var t=function(){if(t.called)throw new Error(t.onceError);t.called=true;return t.value=e.apply(this,arguments)};var r=e.name||"Function wrapped with `once`";t.onceError=r+" shouldn't be called more than once";t.called=false;return t}},7684:(e,t,r)=>{"use strict";const n=r(746);const i=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0)){return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"))}const t=[];let r=0;const i=()=>{r--;if(t.length>0){t.shift()()}};const o=(e,t,...o)=>{r++;const s=n(e,...o);t(s);s.then(i,i)};const s=(n,i,...s)=>{if(r<e){o(n,i,...s)}else{t.push(o.bind(null,n,i,...s))}};const a=(e,...t)=>new Promise(r=>s(e,r,...t));Object.defineProperties(a,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}});return a};e.exports=i;e.exports.default=i},104:(e,t,r)=>{"use strict";const n=r(7684);class EndError extends Error{constructor(e){super();this.value=e}}const i=async(e,t)=>t(await e);const o=async e=>{const t=await Promise.all(e);if(t[1]===true){throw new EndError(t[0])}return false};const s=async(e,t,r)=>{r={concurrency:Infinity,preserveOrder:true,...r};const s=n(r.concurrency);const a=[...e].map(e=>[e,s(i,e,t)]);const c=n(r.preserveOrder?1:Infinity);try{await Promise.all(a.map(e=>c(o,e)))}catch(e){if(e instanceof EndError){return e.value}throw e}};e.exports=s;e.exports.default=s},746:e=>{"use strict";const t=(e,...t)=>new Promise(r=>{r(e(...t))});e.exports=t;e.exports.default=t},6978:(e,t,r)=>{"use strict";const n=r(5747);const{promisify:i}=r(1669);const o=i(n.access);e.exports=(async e=>{try{await o(e);return true}catch(e){return false}});e.exports.sync=(e=>{try{n.accessSync(e);return true}catch(e){return false}})},8714:e=>{"use strict";function posix(e){return e.charAt(0)==="/"}function win32(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;var r=t.exec(e);var n=r[1]||"";var i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}e.exports=process.platform==="win32"?win32:posix;e.exports.posix=posix;e.exports.win32=win32},4833:e=>{e.exports=Pend;function Pend(){this.pending=0;this.max=Infinity;this.listeners=[];this.waiting=[];this.error=null}Pend.prototype.go=function(e){if(this.pending<this.max){pendGo(this,e)}else{this.waiting.push(e)}};Pend.prototype.wait=function(e){if(this.pending===0){e(this.error)}else{this.listeners.push(e)}};Pend.prototype.hold=function(){return pendHold(this)};function pendHold(e){e.pending+=1;var t=false;return onCb;function onCb(r){if(t)throw new Error("callback called twice");t=true;e.error=e.error||r;e.pending-=1;if(e.waiting.length>0&&e.pending<e.max){pendGo(e,e.waiting.shift())}else if(e.pending===0){var n=e.listeners;e.listeners=[];n.forEach(cbListener)}}function cbListener(t){t(e.error)}}function pendGo(e,t){t(pendHold(e))}},8098:(e,t,r)=>{"use strict";const n=r(5622);const i=r(9486);const o=async e=>{const t=await i("package.json",{cwd:e});return t&&n.dirname(t)};e.exports=o;e.exports.default=o;e.exports.sync=(e=>{const t=i.sync("package.json",{cwd:e});return t&&n.dirname(t)})},892:(e,t,r)=>{e.exports=r(2679)},2679:(e,t)=>{t=e.exports=ProgressBar;function ProgressBar(e,t){this.stream=t.stream||process.stderr;if(typeof t=="number"){var r=t;t={};t.total=r}else{t=t||{};if("string"!=typeof e)throw new Error("format required");if("number"!=typeof t.total)throw new Error("total required")}this.fmt=e;this.curr=t.curr||0;this.total=t.total;this.width=t.width||this.total;this.clear=t.clear;this.chars={complete:t.complete||"=",incomplete:t.incomplete||"-",head:t.head||(t.complete||"=")};this.renderThrottle=t.renderThrottle!==0?t.renderThrottle||16:0;this.lastRender=-Infinity;this.callback=t.callback||function(){};this.tokens={};this.lastDraw=""}ProgressBar.prototype.tick=function(e,t){if(e!==0)e=e||1;if("object"==typeof e)t=e,e=1;if(t)this.tokens=t;if(0==this.curr)this.start=new Date;this.curr+=e;this.render();if(this.curr>=this.total){this.render(undefined,true);this.complete=true;this.terminate();this.callback(this);return}};ProgressBar.prototype.render=function(e,t){t=t!==undefined?t:false;if(e)this.tokens=e;if(!this.stream.isTTY)return;var r=Date.now();var n=r-this.lastRender;if(!t&&n<this.renderThrottle){return}else{this.lastRender=r}var i=this.curr/this.total;i=Math.min(Math.max(i,0),1);var o=Math.floor(i*100);var s,a,c;var l=new Date-this.start;var u=o==100?0:l*(this.total/this.curr-1);var d=this.curr/(l/1e3);var f=this.fmt.replace(":current",this.curr).replace(":total",this.total).replace(":elapsed",isNaN(l)?"0.0":(l/1e3).toFixed(1)).replace(":eta",isNaN(u)||!isFinite(u)?"0.0":(u/1e3).toFixed(1)).replace(":percent",o.toFixed(0)+"%").replace(":rate",Math.round(d));var h=Math.max(0,this.stream.columns-f.replace(":bar","").length);if(h&&process.platform==="win32"){h=h-1}var p=Math.min(this.width,h);c=Math.round(p*i);a=Array(Math.max(0,c+1)).join(this.chars.complete);s=Array(Math.max(0,p-c+1)).join(this.chars.incomplete);if(c>0)a=a.slice(0,-1)+this.chars.head;f=f.replace(":bar",a+s);if(this.tokens)for(var m in this.tokens)f=f.replace(":"+m,this.tokens[m]);if(this.lastDraw!==f){this.stream.cursorTo(0);this.stream.write(f);this.stream.clearLine(1);this.lastDraw=f}};ProgressBar.prototype.update=function(e,t){var r=Math.floor(e*this.total);var n=r-this.curr;this.tick(n,t)};ProgressBar.prototype.interrupt=function(e){this.stream.clearLine();this.stream.cursorTo(0);this.stream.write(e);this.stream.write("\n");this.stream.write(this.lastDraw)};ProgressBar.prototype.terminate=function(){if(this.clear){if(this.stream.clearLine){this.stream.clearLine();this.stream.cursorTo(0)}}else{this.stream.write("\n")}}},3329:(e,t,r)=>{"use strict";var n=r(8835).parse;var i={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443};var o=String.prototype.endsWith||function(e){return e.length<=this.length&&this.indexOf(e,this.length-e.length)!==-1};function getProxyForUrl(e){var t=typeof e==="string"?n(e):e||{};var r=t.protocol;var o=t.host;var s=t.port;if(typeof o!=="string"||!o||typeof r!=="string"){return""}r=r.split(":",1)[0];o=o.replace(/:\d*$/,"");s=parseInt(s)||i[r]||0;if(!shouldProxy(o,s)){return""}var a=getEnv("npm_config_"+r+"_proxy")||getEnv(r+"_proxy")||getEnv("npm_config_proxy")||getEnv("all_proxy");if(a&&a.indexOf("://")===-1){a=r+"://"+a}return a}function shouldProxy(e,t){var r=(getEnv("npm_config_no_proxy")||getEnv("no_proxy")).toLowerCase();if(!r){return true}if(r==="*"){return false}return r.split(/[,\s]/).every(function(r){if(!r){return true}var n=r.match(/^(.+):(\d+)$/);var i=n?n[1]:r;var s=n?parseInt(n[2]):0;if(s&&s!==t){return true}if(!/^[.*]/.test(i)){return e!==i}if(i.charAt(0)==="*"){i=i.slice(1)}return!o.call(e,i)})}function getEnv(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.getProxyForUrl=getProxyForUrl},8341:(e,t,r)=>{var n=r(1223);var i=r(1205);var o=r(5747);var s=function(){};var a=/^v?\.0/.test(process.version);var c=function(e){return typeof e==="function"};var l=function(e){if(!a)return false;if(!o)return false;return(e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&c(e.close)};var u=function(e){return e.setHeader&&c(e.abort)};var d=function(e,t,r,o){o=n(o);var a=false;e.on("close",function(){a=true});i(e,{readable:t,writable:r},function(e){if(e)return o(e);a=true;o()});var d=false;return function(t){if(a)return;if(d)return;d=true;if(l(e))return e.close(s);if(u(e))return e.abort();if(c(e.destroy))return e.destroy();o(t||new Error("stream was destroyed"))}};var f=function(e){e()};var h=function(e,t){return e.pipe(t)};var p=function(){var e=Array.prototype.slice.call(arguments);var t=c(e[e.length-1]||s)&&e.pop()||s;if(Array.isArray(e[0]))e=e[0];if(e.length<2)throw new Error("pump requires two streams per minimum");var r;var n=e.map(function(i,o){var s=o<e.length-1;var a=o>0;return d(i,s,a,function(e){if(!r)r=e;if(e)n.forEach(f);if(s)return;n.forEach(f);t(r)})});return e.reduce(h)};e.exports=p},9014:(e,t,r)=>{const n=r(1695);e.exports=n.default},7098:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Accessibility=void 0;class Accessibility{constructor(e){this._client=e}async snapshot(e={}){const{interestingOnly:t=true,root:r=null}=e;const{nodes:n}=await this._client.send("Accessibility.getFullAXTree");let i=null;if(r){const{node:e}=await this._client.send("DOM.describeNode",{objectId:r._remoteObject.objectId});i=e.backendNodeId}const o=AXNode.createTree(n);let s=o;if(i){s=o.find(e=>e.payload.backendDOMNodeId===i);if(!s)return null}if(!t)return this.serializeTree(s)[0];const a=new Set;this.collectInterestingNodes(a,o,false);if(!a.has(s))return null;return this.serializeTree(s,a)[0]}serializeTree(e,t){const r=[];for(const n of e.children)r.push(...this.serializeTree(n,t));if(t&&!t.has(e))return r;const n=e.serialize();if(r.length)n.children=r;return[n]}collectInterestingNodes(e,t,r){if(t.isInteresting(r))e.add(t);if(t.isLeafNode())return;r=r||t.isControl();for(const n of t.children)this.collectInterestingNodes(e,n,r)}}t.Accessibility=Accessibility;class AXNode{constructor(e){this.children=[];this._richlyEditable=false;this._editable=false;this._focusable=false;this._hidden=false;this.payload=e;this._name=this.payload.name?this.payload.name.value:"";this._role=this.payload.role?this.payload.role.value:"Unknown";this._ignored=this.payload.ignored;for(const e of this.payload.properties||[]){if(e.name==="editable"){this._richlyEditable=e.value.value==="richtext";this._editable=true}if(e.name==="focusable")this._focusable=e.value.value;if(e.name==="hidden")this._hidden=e.value.value}}_isPlainTextField(){if(this._richlyEditable)return false;if(this._editable)return true;return this._role==="textbox"||this._role==="searchbox"}_isTextOnlyObject(){const e=this._role;return e==="LineBreak"||e==="text"||e==="InlineTextBox"}_hasFocusableChild(){if(this._cachedHasFocusableChild===undefined){this._cachedHasFocusableChild=false;for(const e of this.children){if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=true;break}}}return this._cachedHasFocusableChild}find(e){if(e(this))return this;for(const t of this.children){const r=t.find(e);if(r)return r}return null}isLeafNode(){if(!this.children.length)return true;if(this._isPlainTextField()||this._isTextOnlyObject())return true;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return true;default:break}if(this._hasFocusableChild())return false;if(this._focusable&&this._name)return true;if(this._role==="heading"&&this._name)return true;return false}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":case"treeitem":return true;default:return false}}isInteresting(e){const t=this._role;if(t==="Ignored"||this._hidden||this._ignored)return false;if(this._focusable||this._richlyEditable)return true;if(this.isControl())return true;if(e)return false;return this.isLeafNode()&&!!this._name}serialize(){const e=new Map;for(const t of this.payload.properties||[])e.set(t.name.toLowerCase(),t.value.value);if(this.payload.name)e.set("name",this.payload.name.value);if(this.payload.value)e.set("value",this.payload.value.value);if(this.payload.description)e.set("description",this.payload.description.value);const t={role:this._role};const r=["name","value","description","keyshortcuts","roledescription","valuetext"];const n=t=>e.get(t);for(const i of r){if(!e.has(i))continue;t[i]=n(i)}const i=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"];const o=t=>e.get(t);for(const e of i){if(e==="focused"&&this._role==="WebArea")continue;const r=o(e);if(!r)continue;t[e]=o(e)}const s=["checked","pressed"];for(const r of s){if(!e.has(r))continue;const n=e.get(r);t[r]=n==="mixed"?"mixed":n==="true"?true:false}const a=["level","valuemax","valuemin"];const c=t=>e.get(t);for(const r of a){if(!e.has(r))continue;t[r]=c(r)}const l=["autocomplete","haspopup","invalid","orientation"];const u=t=>e.get(t);for(const e of l){const r=u(e);if(!r||r==="false")continue;t[e]=u(e)}return t}static createTree(e){const t=new Map;for(const r of e)t.set(r.nodeId,new AXNode(r));for(const e of t.values()){for(const r of e.payload.childIds||[])e.children.push(t.get(r))}return t.values().next().value}}},3305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ariaHandler=void 0;async function queryAXTree(e,t,r,n){const{nodes:i}=await e.send("Accessibility.queryAXTree",{objectId:t._remoteObject.objectId,accessibleName:r,role:n});const o=i.filter(e=>e.role.value!=="text");return o}function parseAriaSelector(e){const t=e=>e.replace(/ +/g," ").trim();const r=new Set(["name","role"]);const n={};const i=/\[\s*(?<attribute>\w+)\s*=\s*"(?<value>\\.|[^"\\]*)"\s*\]/;const o=e.replace(i,(e,i,o)=>{i=i.trim();if(!r.has(i))throw new Error('Unkown aria attribute "${groups.attribute}" in selector');n[i]=t(o);return""});if(o&&!n.name)n.name=t(o);return n}const r=async(e,t)=>{const r=e.executionContext();const{name:n,role:i}=parseAriaSelector(t);const o=await queryAXTree(r._client,e,n,i);if(o.length<1){return null}return r._adoptBackendNodeId(o[0].backendDOMNodeId)};const n=async(e,t,n)=>{const i={name:"ariaQuerySelector",pptrFunction:async t=>{const n=await e._document();const i=await r(n,t);return i}};return e.waitForSelectorInPage((e,t)=>globalThis.ariaQuerySelector(t),t,n,i)};const i=async(e,t)=>{const r=e.executionContext();const{name:n,role:i}=parseAriaSelector(t);const o=await queryAXTree(r._client,e,n,i);return Promise.all(o.map(e=>r._adoptBackendNodeId(e.backendDOMNodeId)))};const o=async(e,t)=>{const r=await i(e,t);const n=e.executionContext();const o=n.evaluateHandle((...e)=>e,...r);return o};t.ariaHandler={queryOne:r,waitFor:n,queryAll:i,queryAllArray:o}},3956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BrowserContext=t.Browser=void 0;const n=r(7692);const i=r(1184);const o=r(3632);const s=r(5039);const a=r(3772);class Browser extends s.EventEmitter{constructor(e,t,r,n,i,o){super();this._ignoreHTTPSErrors=r;this._defaultViewport=n;this._process=i;this._connection=e;this._closeCallback=o||function(){};this._defaultContext=new BrowserContext(this._connection,this,null);this._contexts=new Map;for(const e of t)this._contexts.set(e,new BrowserContext(this._connection,this,e));this._targets=new Map;this._connection.on(a.ConnectionEmittedEvents.Disconnected,()=>this.emit("disconnected"));this._connection.on("Target.targetCreated",this._targetCreated.bind(this));this._connection.on("Target.targetDestroyed",this._targetDestroyed.bind(this));this._connection.on("Target.targetInfoChanged",this._targetInfoChanged.bind(this))}static async create(e,t,r,n,i,o){const s=new Browser(e,t,r,n,i,o);await e.send("Target.setDiscoverTargets",{discover:true});return s}process(){return this._process}async createIncognitoBrowserContext(){const{browserContextId:e}=await this._connection.send("Target.createBrowserContext");const t=new BrowserContext(this._connection,this,e);this._contexts.set(e,t);return t}browserContexts(){return[this._defaultContext,...Array.from(this._contexts.values())]}defaultBrowserContext(){return this._defaultContext}async _disposeContext(e){await this._connection.send("Target.disposeBrowserContext",{browserContextId:e||undefined});this._contexts.delete(e)}async _targetCreated(e){const t=e.targetInfo;const{browserContextId:r}=t;const i=r&&this._contexts.has(r)?this._contexts.get(r):this._defaultContext;const s=new o.Target(t,i,()=>this._connection.createSession(t),this._ignoreHTTPSErrors,this._defaultViewport);n.assert(!this._targets.has(e.targetInfo.targetId),"Target should not exist before targetCreated");this._targets.set(e.targetInfo.targetId,s);if(await s._initializedPromise){this.emit("targetcreated",s);i.emit("targetcreated",s)}}async _targetDestroyed(e){const t=this._targets.get(e.targetId);t._initializedCallback(false);this._targets.delete(e.targetId);t._closedCallback();if(await t._initializedPromise){this.emit("targetdestroyed",t);t.browserContext().emit("targetdestroyed",t)}}_targetInfoChanged(e){const t=this._targets.get(e.targetInfo.targetId);n.assert(t,"target should exist before targetInfoChanged");const r=t.url();const i=t._isInitialized;t._targetInfoChanged(e.targetInfo);if(i&&r!==t.url()){this.emit("targetchanged",t);t.browserContext().emit("targetchanged",t)}}wsEndpoint(){return this._connection.url()}async newPage(){return this._defaultContext.newPage()}async _createPageInContext(e){const{targetId:t}=await this._connection.send("Target.createTarget",{url:"about:blank",browserContextId:e||undefined});const r=await this._targets.get(t);n.assert(await r._initializedPromise,"Failed to create target for page");const i=await r.page();return i}targets(){return Array.from(this._targets.values()).filter(e=>e._isInitialized)}target(){return this.targets().find(e=>e.type()==="browser")}async waitForTarget(e,t={}){const{timeout:r=3e4}=t;const n=this.targets().find(e);if(n)return n;let o;const s=new Promise(e=>o=e);this.on("targetcreated",check);this.on("targetchanged",check);try{if(!r)return await s;return await i.helper.waitWithTimeout(s,"target",r)}finally{this.removeListener("targetcreated",check);this.removeListener("targetchanged",check)}function check(t){if(e(t))o(t)}}async pages(){const e=await Promise.all(this.browserContexts().map(e=>e.pages()));return e.reduce((e,t)=>e.concat(t),[])}async version(){const e=await this._getVersion();return e.product}async userAgent(){const e=await this._getVersion();return e.userAgent}async close(){await this._closeCallback.call(null);this.disconnect()}disconnect(){this._connection.dispose()}isConnected(){return!this._connection._closed}_getVersion(){return this._connection.send("Browser.getVersion")}}t.Browser=Browser;class BrowserContext extends s.EventEmitter{constructor(e,t,r){super();this._connection=e;this._browser=t;this._id=r}targets(){return this._browser.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,t={}){return this._browser.waitForTarget(t=>t.browserContext()===this&&e(t),t)}async pages(){const e=await Promise.all(this.targets().filter(e=>e.type()==="page").map(e=>e.page()));return e.filter(e=>!!e)}isIncognito(){return!!this._id}async overridePermissions(e,t){const r=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardReadWrite"],["payment-handler","paymentHandler"],["idle-detection","idleDetection"],["midi-sysex","midiSysex"]]);const n=t.map(e=>{const t=r.get(e);if(!t)throw new Error("Unknown permission: "+e);return t});await this._connection.send("Browser.grantPermissions",{origin:e,browserContextId:this._id||undefined,permissions:n})}async clearPermissionOverrides(){await this._connection.send("Browser.resetPermissions",{browserContextId:this._id||undefined})}newPage(){return this._browser._createPageInContext(this._id)}browser(){return this._browser}async close(){n.assert(this._id,"Non-incognito profiles cannot be closed!");await this._browser._disposeContext(this._id)}}t.BrowserContext=BrowserContext},6138:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.connectToBrowser=void 0;const s=r(3956);const a=r(7692);const c=r(1184);const l=r(3772);const u=r(9453);const d=r(2777);const f=async()=>{return d.isNode?(await Promise.resolve().then(()=>o(r(556)))).NodeWebSocketTransport:(await Promise.resolve().then(()=>o(r(5548)))).BrowserWebSocketTransport};t.connectToBrowser=(async e=>{const{browserWSEndpoint:t,browserURL:r,ignoreHTTPSErrors:n=false,defaultViewport:i={width:800,height:600},transport:o,slowMo:u=0}=e;a.assert(Number(!!t)+Number(!!r)+Number(!!o)===1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect");let d=null;if(o){d=new l.Connection("",o,u)}else if(t){const e=await f();const r=await e.create(t);d=new l.Connection(t,r,u)}else if(r){const e=await getWSEndpoint(r);const t=await f();const n=await t.create(e);d=new l.Connection(e,n,u)}const{browserContextIds:h}=await d.send("Target.getBrowserContexts");return s.Browser.create(d,h,n,i,null,()=>d.send("Browser.close").catch(c.debugError))});async function getWSEndpoint(e){const t=new URL("/json/version",e);const r=await u.getFetch();try{const e=await r(t.toString(),{method:"GET"});if(!e.ok){throw new Error(`HTTP ${e.statusText}`)}const n=await e.json();return n.webSocketDebuggerUrl}catch(e){e.message=`Failed to fetch browser webSocket URL from ${t}: `+e.message;throw e}}},5548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BrowserWebSocketTransport=void 0;class BrowserWebSocketTransport{constructor(e){this._ws=e;this._ws.addEventListener("message",e=>{if(this.onmessage)this.onmessage.call(null,e.data)});this._ws.addEventListener("close",()=>{if(this.onclose)this.onclose.call(null)});this._ws.addEventListener("error",()=>{});this.onmessage=null;this.onclose=null}static create(e){return new Promise((t,r)=>{const n=new WebSocket(e);n.addEventListener("open",()=>t(new BrowserWebSocketTransport(n)));n.addEventListener("error",r)})}send(e){this._ws.send(e)}close(){this._ws.close()}}t.BrowserWebSocketTransport=BrowserWebSocketTransport},3772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CDPSession=t.CDPSessionEmittedEvents=t.Connection=t.ConnectionEmittedEvents=void 0;const n=r(7692);const i=r(5490);const o=i.debug("puppeteer:protocol:SEND ►");const s=i.debug("puppeteer:protocol:RECV ◀");const a=r(5039);t.ConnectionEmittedEvents={Disconnected:Symbol("Connection.Disconnected")};class Connection extends a.EventEmitter{constructor(e,t,r=0){super();this._lastId=0;this._sessions=new Map;this._closed=false;this._callbacks=new Map;this._url=e;this._delay=r;this._transport=t;this._transport.onmessage=this._onMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}static fromSession(e){return e._connection}session(e){return this._sessions.get(e)||null}url(){return this._url}send(e,...t){const r=t.length?t[0]:undefined;const n=this._rawSend({method:e,params:r});return new Promise((t,r)=>{this._callbacks.set(n,{resolve:t,reject:r,error:new Error,method:e})})}_rawSend(e){const t=++this._lastId;const r=JSON.stringify(Object.assign({},e,{id:t}));o(r);this._transport.send(r);return t}async _onMessage(e){if(this._delay)await new Promise(e=>setTimeout(e,this._delay));s(e);const t=JSON.parse(e);if(t.method==="Target.attachedToTarget"){const e=t.params.sessionId;const r=new CDPSession(this,t.params.targetInfo.type,e);this._sessions.set(e,r)}else if(t.method==="Target.detachedFromTarget"){const e=this._sessions.get(t.params.sessionId);if(e){e._onClosed();this._sessions.delete(t.params.sessionId)}}if(t.sessionId){const e=this._sessions.get(t.sessionId);if(e)e._onMessage(t)}else if(t.id){const e=this._callbacks.get(t.id);if(e){this._callbacks.delete(t.id);if(t.error)e.reject(createProtocolError(e.error,e.method,t));else e.resolve(t.result)}}else{this.emit(t.method,t.params)}}_onClose(){if(this._closed)return;this._closed=true;this._transport.onmessage=null;this._transport.onclose=null;for(const e of this._callbacks.values())e.reject(rewriteError(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear();for(const e of this._sessions.values())e._onClosed();this._sessions.clear();this.emit(t.ConnectionEmittedEvents.Disconnected)}dispose(){this._onClose();this._transport.close()}async createSession(e){const{sessionId:t}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:true});return this._sessions.get(t)}}t.Connection=Connection;t.CDPSessionEmittedEvents={Disconnected:Symbol("CDPSession.Disconnected")};class CDPSession extends a.EventEmitter{constructor(e,t,r){super();this._callbacks=new Map;this._connection=e;this._targetType=t;this._sessionId=r}send(e,...t){if(!this._connection)return Promise.reject(new Error(`Protocol error (${e}): Session closed. Most likely the ${this._targetType} has been closed.`));const r=t.length?t[0]:undefined;const n=this._connection._rawSend({sessionId:this._sessionId,method:e,params:r||{}});return new Promise((t,r)=>{this._callbacks.set(n,{resolve:t,reject:r,error:new Error,method:e})})}_onMessage(e){if(e.id&&this._callbacks.has(e.id)){const t=this._callbacks.get(e.id);this._callbacks.delete(e.id);if(e.error)t.reject(createProtocolError(t.error,t.method,e));else t.resolve(e.result)}else{n.assert(!e.id);this.emit(e.method,e.params)}}async detach(){if(!this._connection)throw new Error(`Session already detached. Most likely the ${this._targetType} has been closed.`);await this._connection.send("Target.detachFromTarget",{sessionId:this._sessionId})}_onClosed(){for(const e of this._callbacks.values())e.reject(rewriteError(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear();this._connection=null;this.emit(t.CDPSessionEmittedEvents.Disconnected)}}t.CDPSession=CDPSession;function createProtocolError(e,t,r){let n=`Protocol error (${t}): ${r.error.message}`;if("data"in r.error)n+=` ${r.error.data}`;return rewriteError(e,n)}function rewriteError(e,t){e.message=t;return e}},9213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ConsoleMessage=void 0;class ConsoleMessage{constructor(e,t,r,n){this._type=e;this._text=t;this._args=r;this._stackTraceLocations=n}type(){return this._type}text(){return this._text}args(){return this._args}location(){return this._stackTraceLocations.length?this._stackTraceLocations[0]:{}}stackTrace(){return this._stackTraceLocations}}t.ConsoleMessage=ConsoleMessage},1771:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Coverage=void 0;const n=r(7692);const i=r(1184);const o=r(4164);class Coverage{constructor(e){this._jsCoverage=new JSCoverage(e);this._cssCoverage=new CSSCoverage(e)}async startJSCoverage(e={}){return await this._jsCoverage.start(e)}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(e={}){return await this._cssCoverage.start(e)}async stopCSSCoverage(){return await this._cssCoverage.stop()}}t.Coverage=Coverage;class JSCoverage{constructor(e){this._enabled=false;this._scriptURLs=new Map;this._scriptSources=new Map;this._eventListeners=[];this._resetOnNavigation=false;this._reportAnonymousScripts=false;this._client=e}async start(e={}){n.assert(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:t=true,reportAnonymousScripts:r=false}=e;this._resetOnNavigation=t;this._reportAnonymousScripts=r;this._enabled=true;this._scriptURLs.clear();this._scriptSources.clear();this._eventListeners=[i.helper.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),i.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))];await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:false,detailed:true}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:true})])}_onExecutionContextsCleared(){if(!this._resetOnNavigation)return;this._scriptURLs.clear();this._scriptSources.clear()}async _onScriptParsed(e){if(e.url===o.EVALUATION_SCRIPT_URL)return;if(!e.url&&!this._reportAnonymousScripts)return;try{const t=await this._client.send("Debugger.getScriptSource",{scriptId:e.scriptId});this._scriptURLs.set(e.scriptId,e.url);this._scriptSources.set(e.scriptId,t.scriptSource)}catch(e){i.debugError(e)}}async stop(){n.assert(this._enabled,"JSCoverage is not enabled");this._enabled=false;const e=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);i.helper.removeEventListeners(this._eventListeners);const t=[];const r=e[0];for(const e of r.result){let r=this._scriptURLs.get(e.scriptId);if(!r&&this._reportAnonymousScripts)r="debugger://VM"+e.scriptId;const n=this._scriptSources.get(e.scriptId);if(n===undefined||r===undefined)continue;const i=[];for(const t of e.functions)i.push(...t.ranges);const o=convertToDisjointRanges(i);t.push({url:r,ranges:o,text:n})}return t}}class CSSCoverage{constructor(e){this._enabled=false;this._stylesheetURLs=new Map;this._stylesheetSources=new Map;this._eventListeners=[];this._resetOnNavigation=false;this._reportAnonymousScripts=false;this._client=e}async start(e={}){n.assert(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:t=true}=e;this._resetOnNavigation=t;this._enabled=true;this._stylesheetURLs.clear();this._stylesheetSources.clear();this._eventListeners=[i.helper.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),i.helper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))];await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){if(!this._resetOnNavigation)return;this._stylesheetURLs.clear();this._stylesheetSources.clear()}async _onStyleSheet(e){const t=e.header;if(!t.sourceURL)return;try{const e=await this._client.send("CSS.getStyleSheetText",{styleSheetId:t.styleSheetId});this._stylesheetURLs.set(t.styleSheetId,t.sourceURL);this._stylesheetSources.set(t.styleSheetId,e.text)}catch(e){i.debugError(e)}}async stop(){n.assert(this._enabled,"CSSCoverage is not enabled");this._enabled=false;const e=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]);i.helper.removeEventListeners(this._eventListeners);const t=new Map;for(const r of e.ruleUsage){let e=t.get(r.styleSheetId);if(!e){e=[];t.set(r.styleSheetId,e)}e.push({startOffset:r.startOffset,endOffset:r.endOffset,count:r.used?1:0})}const r=[];for(const e of this._stylesheetURLs.keys()){const n=this._stylesheetURLs.get(e);const i=this._stylesheetSources.get(e);const o=convertToDisjointRanges(t.get(e)||[]);r.push({url:n,ranges:o,text:i})}return r}}function convertToDisjointRanges(e){const t=[];for(const r of e){t.push({offset:r.startOffset,type:0,range:r});t.push({offset:r.endOffset,type:1,range:r})}t.sort((e,t)=>{if(e.offset!==t.offset)return e.offset-t.offset;if(e.type!==t.type)return t.type-e.type;const r=e.range.endOffset-e.range.startOffset;const n=t.range.endOffset-t.range.startOffset;if(e.type===0)return n-r;return r-n});const r=[];const n=[];let i=0;for(const e of t){if(r.length&&i<e.offset&&r[r.length-1]>0){const t=n.length?n[n.length-1]:null;if(t&&t.end===i)t.end=e.offset;else n.push({start:i,end:e.offset})}i=e.offset;if(e.type===0)r.push(e.range.count);else r.pop()}return n.filter(e=>e.end-e.start>1)}},6535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.WaitTask=t.DOMWorld=void 0;const n=r(7692);const i=r(1184);const o=r(7759);const s=r(9749);const a=r(446);const c=r(2777);class DOMWorld{constructor(e,t,r){this._documentPromise=null;this._contextPromise=null;this._contextResolveCallback=null;this._detached=false;this._waitTasks=new Set;this._boundFunctions=new Map;this._ctxBindings=new Set;this._settingUpBinding=null;this._frameManager=e;this._frame=t;this._timeoutSettings=r;this._setContext(null);e._client.on("Runtime.bindingCalled",e=>this._onBindingCalled(e))}frame(){return this._frame}async _setContext(e){if(e){this._contextResolveCallback.call(null,e);this._contextResolveCallback=null;for(const e of this._waitTasks)e.rerun()}else{this._documentPromise=null;this._contextPromise=new Promise(e=>{this._contextResolveCallback=e})}}_hasContext(){return!this._contextResolveCallback}_detach(){this._detached=true;for(const e of this._waitTasks)e.terminate(new Error("waitForFunction failed: frame got detached."))}executionContext(){if(this._detached)throw new Error(`Execution context is not available in detached frame "${this._frame.url()}" (are you trying to evaluate?)`);return this._contextPromise}async evaluateHandle(e,...t){const r=await this.executionContext();return r.evaluateHandle(e,...t)}async evaluate(e,...t){const r=await this.executionContext();return r.evaluate(e,...t)}async $(e){const t=await this._document();const r=await t.$(e);return r}async _document(){if(this._documentPromise)return this._documentPromise;this._documentPromise=this.executionContext().then(async e=>{const t=await e.evaluateHandle("document");return t.asElement()});return this._documentPromise}async $x(e){const t=await this._document();const r=await t.$x(e);return r}async $eval(e,t,...r){const n=await this._document();return n.$eval(e,t,...r)}async $$eval(e,t,...r){const n=await this._document();const i=await n.$$eval(e,t,...r);return i}async $$(e){const t=await this._document();const r=await t.$$(e);return r}async content(){return await this.evaluate(()=>{let e="";if(document.doctype)e=(new XMLSerializer).serializeToString(document.doctype);if(document.documentElement)e+=document.documentElement.outerHTML;return e})}async setContent(e,t={}){const{waitUntil:r=["load"],timeout:n=this._timeoutSettings.navigationTimeout()}=t;await this.evaluate(e=>{document.open();document.write(e);document.close()},e);const i=new o.LifecycleWatcher(this._frameManager,this._frame,r,n);const s=await Promise.race([i.timeoutOrTerminationPromise(),i.lifecyclePromise()]);i.dispose();if(s)throw s}async addScriptTag(e){const{url:t=null,path:r=null,content:n=null,type:o=""}=e;if(t!==null){try{const e=await this.executionContext();return(await e.evaluateHandle(addScriptUrl,t,o)).asElement()}catch(e){throw new Error(`Loading script from ${t} failed`)}}if(r!==null){if(!c.isNode){throw new Error("Cannot pass a filepath to addScriptTag in the browser environment.")}const e=await i.helper.importFSModule();let t=await e.promises.readFile(r,"utf8");t+="//# sourceURL="+r.replace(/\n/g,"");const n=await this.executionContext();return(await n.evaluateHandle(addScriptContent,t,o)).asElement()}if(n!==null){const e=await this.executionContext();return(await e.evaluateHandle(addScriptContent,n,o)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");async function addScriptUrl(e,t){const r=document.createElement("script");r.src=e;if(t)r.type=t;const n=new Promise((e,t)=>{r.onload=e;r.onerror=t});document.head.appendChild(r);await n;return r}function addScriptContent(e,t="text/javascript"){const r=document.createElement("script");r.type=t;r.text=e;let n=null;r.onerror=(e=>n=e);document.head.appendChild(r);if(n)throw n;return r}}async addStyleTag(e){const{url:t=null,path:r=null,content:n=null}=e;if(t!==null){try{const e=await this.executionContext();return(await e.evaluateHandle(addStyleUrl,t)).asElement()}catch(e){throw new Error(`Loading style from ${t} failed`)}}if(r!==null){if(!c.isNode){throw new Error("Cannot pass a filepath to addStyleTag in the browser environment.")}const e=await i.helper.importFSModule();let t=await e.promises.readFile(r,"utf8");t+="/*# sourceURL="+r.replace(/\n/g,"")+"*/";const n=await this.executionContext();return(await n.evaluateHandle(addStyleContent,t)).asElement()}if(n!==null){const e=await this.executionContext();return(await e.evaluateHandle(addStyleContent,n)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");async function addStyleUrl(e){const t=document.createElement("link");t.rel="stylesheet";t.href=e;const r=new Promise((e,r)=>{t.onload=e;t.onerror=r});document.head.appendChild(t);await r;return t}async function addStyleContent(e){const t=document.createElement("style");t.type="text/css";t.appendChild(document.createTextNode(e));const r=new Promise((e,r)=>{t.onload=e;t.onerror=r});document.head.appendChild(t);await r;return t}}async click(e,t){const r=await this.$(e);n.assert(r,"No node found for selector: "+e);await r.click(t);await r.dispose()}async focus(e){const t=await this.$(e);n.assert(t,"No node found for selector: "+e);await t.focus();await t.dispose()}async hover(e){const t=await this.$(e);n.assert(t,"No node found for selector: "+e);await t.hover();await t.dispose()}async select(e,...t){const r=await this.$(e);n.assert(r,"No node found for selector: "+e);const i=await r.select(...t);await r.dispose();return i}async tap(e){const t=await this.$(e);await t.tap();await t.dispose()}async type(e,t,r){const i=await this.$(e);n.assert(i,"No node found for selector: "+e);await i.type(t,r);await i.dispose()}async waitForSelector(e,t){const{updatedSelector:r,queryHandler:n}=a.getQueryHandlerAndSelector(e);return n.waitFor(this,r,t)}async addBindingToContext(e,t){if(this._ctxBindings.has(DOMWorld.bindingIdentifier(t,e._contextId))){return}if(this._settingUpBinding){await this._settingUpBinding;return this.addBindingToContext(e,t)}const r=async t=>{const r=i.helper.pageBindingInitString("internal",t);try{await e._client.send("Runtime.addBinding",{name:t,executionContextId:e._contextId});await e.evaluate(r)}catch(e){const t=e.message.includes("Execution context was destroyed");const r=e.message.includes("Cannot find context with specified id");if(t||r){return}else{i.debugError(e);return}}this._ctxBindings.add(DOMWorld.bindingIdentifier(t,e._contextId))};this._settingUpBinding=r(t);await this._settingUpBinding;this._settingUpBinding=null}async _onBindingCalled(e){let t;if(!this._hasContext())return;const r=await this.executionContext();try{t=JSON.parse(e.payload)}catch{return}const{type:n,name:o,seq:s,args:a}=t;if(n!=="internal"||!this._ctxBindings.has(DOMWorld.bindingIdentifier(o,r._contextId)))return;if(r._contextId!==e.executionContextId)return;try{const e=await this._boundFunctions.get(o)(...a);await r.evaluate(deliverResult,o,s,e)}catch(e){if(e.message.includes("Protocol error"))return;i.debugError(e)}function deliverResult(e,t,r){globalThis[e].callbacks.get(t).resolve(r);globalThis[e].callbacks.delete(t)}}async waitForSelectorInPage(e,t,r,n){const{visible:o=false,hidden:s=false,timeout:a=this._timeoutSettings.timeout()}=r;const c=o||s?"raf":"mutation";const l=`selector \`${t}\`${s?" to be hidden":""}`;async function predicate(e,t,r){const n=predicateQueryHandler?await predicateQueryHandler(document,e):document.querySelector(e);return checkWaitForOptions(n,t,r)}const u={domWorld:this,predicateBody:i.helper.makePredicateString(predicate,e),title:l,polling:c,timeout:a,args:[t,o,s],binding:n};const d=new WaitTask(u);const f=await d.promise;const h=f.asElement();if(!h){await f.dispose();return null}return h}async waitForXPath(e,t){const{visible:r=false,hidden:n=false,timeout:o=this._timeoutSettings.timeout()}=t;const s=r||n?"raf":"mutation";const a=`XPath \`${e}\`${n?" to be hidden":""}`;function predicate(e,t,r){const n=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return checkWaitForOptions(n,t,r)}const c={domWorld:this,predicateBody:i.helper.makePredicateString(predicate),title:a,polling:s,timeout:o,args:[e,r,n]};const l=new WaitTask(c);const u=await l.promise;const d=u.asElement();if(!d){await u.dispose();return null}return d}waitForFunction(e,t={},...r){const{polling:n="raf",timeout:i=this._timeoutSettings.timeout()}=t;const o={domWorld:this,predicateBody:e,title:"function",polling:n,timeout:i,args:r};const s=new WaitTask(o);return s.promise}async title(){return this.evaluate(()=>document.title)}}t.DOMWorld=DOMWorld;DOMWorld.bindingIdentifier=((e,t)=>`${e}_${t}`);class WaitTask{constructor(e){this._runCount=0;this._terminated=false;if(i.helper.isString(e.polling))n.assert(e.polling==="raf"||e.polling==="mutation","Unknown polling option: "+e.polling);else if(i.helper.isNumber(e.polling))n.assert(e.polling>0,"Cannot poll with non-positive interval: "+e.polling);else throw new Error("Unknown polling options: "+e.polling);function getPredicateBody(e){if(i.helper.isString(e))return`return (${e});`;return`return (${e})(...args);`}this._domWorld=e.domWorld;this._polling=e.polling;this._timeout=e.timeout;this._predicateBody=getPredicateBody(e.predicateBody);this._args=e.args;this._binding=e.binding;this._runCount=0;this._domWorld._waitTasks.add(this);if(this._binding){this._domWorld._boundFunctions.set(this._binding.name,this._binding.pptrFunction)}this.promise=new Promise((e,t)=>{this._resolve=e;this._reject=t});if(e.timeout){const t=new s.TimeoutError(`waiting for ${e.title} failed: timeout ${e.timeout}ms exceeded`);this._timeoutTimer=setTimeout(()=>this.terminate(t),e.timeout)}this.rerun()}terminate(e){this._terminated=true;this._reject(e);this._cleanup()}async rerun(){const e=++this._runCount;let t=null;let r=null;const n=await this._domWorld.executionContext();if(this._terminated||e!==this._runCount)return;if(this._binding){await this._domWorld.addBindingToContext(n,this._binding.name)}if(this._terminated||e!==this._runCount)return;try{t=await n.evaluateHandle(waitForPredicatePageFunction,this._predicateBody,this._polling,this._timeout,...this._args)}catch(e){r=e}if(this._terminated||e!==this._runCount){if(t)await t.dispose();return}if(!r&&await this._domWorld.evaluate(e=>!e,t).catch(()=>true)){await t.dispose();return}if(r){if(r.message.includes("TypeError: binding is not a function")){return this.rerun()}if(r.message.includes("Execution context is not available in detached frame")){this.terminate(new Error("waitForFunction failed: frame got detached."));return}if(r.message.includes("Execution context was destroyed"))return;if(r.message.includes("Cannot find context with specified id"))return;this._reject(r)}else{this._resolve(t)}this._cleanup()}_cleanup(){clearTimeout(this._timeoutTimer);this._domWorld._waitTasks.delete(this)}}t.WaitTask=WaitTask;async function waitForPredicatePageFunction(e,t,r,...n){const i=new Function("...args",e);let o=false;if(r)setTimeout(()=>o=true,r);if(t==="raf")return await pollRaf();if(t==="mutation")return await pollMutation();if(typeof t==="number")return await pollInterval(t);async function pollMutation(){const e=await i(...n);if(e)return Promise.resolve(e);let t;const r=new Promise(e=>t=e);const s=new MutationObserver(async()=>{if(o){s.disconnect();t()}const e=await i(...n);if(e){s.disconnect();t(e)}});s.observe(document,{childList:true,subtree:true,attributes:true});return r}async function pollRaf(){let e;const t=new Promise(t=>e=t);await onRaf();return t;async function onRaf(){if(o){e();return}const t=await i(...n);if(t)e(t);else requestAnimationFrame(onRaf)}}async function pollInterval(e){let t;const r=new Promise(e=>t=e);await onTimeout();return r;async function onTimeout(){if(o){t();return}const r=await i(...n);if(r)t(r);else setTimeout(onTimeout,e)}}}},5490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.debug=void 0;const n=r(2777);t.debug=(e=>{if(n.isNode){return r(8237)(e)}return(...t)=>{const r=globalThis.__PUPPETEER_DEBUG;if(!r)return;const n=r==="*";const i=n||(r.endsWith("*")?e.startsWith(r):e===r);if(!i)return;console.log(`${e}:`,...t)}})},6134:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.devicesMap=void 0;const r=[{name:"Blackberry PlayBook",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:600,height:1024,deviceScaleFactor:1,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Blackberry PlayBook landscape",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:1024,height:600,deviceScaleFactor:1,isMobile:true,hasTouch:true,isLandscape:true}},{name:"BlackBerry Z30",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"BlackBerry Z30 landscape",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Galaxy Note 3",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Galaxy Note 3 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Galaxy Note II",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Galaxy Note II landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Galaxy S III",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Galaxy S III landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Galaxy S5",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Galaxy S5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPad landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPad Mini",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPad Mini landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPad Pro",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:1366,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPad Pro landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1366,height:1024,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone 4",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:320,height:480,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone 4 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:480,height:320,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone 5",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone 5 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone 6",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone 6 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone 6 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone 6 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone 7",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone 7 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone 7 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone 7 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone 8",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone 8 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone 8 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone 8 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone SE",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone SE landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone X",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone X landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:true}},{name:"iPhone XR",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:false}},{name:"iPhone XR landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:true}},{name:"JioPhone 2",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:240,height:320,deviceScaleFactor:1,isMobile:true,hasTouch:true,isLandscape:false}},{name:"JioPhone 2 landscape",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:320,height:240,deviceScaleFactor:1,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Kindle Fire HDX",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Kindle Fire HDX landscape",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"LG Optimus L70",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:1.25,isMobile:true,hasTouch:true,isLandscape:false}},{name:"LG Optimus L70 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:1.25,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Microsoft Lumia 550",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Microsoft Lumia 950",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:360,height:640,deviceScaleFactor:4,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Microsoft Lumia 950 landscape",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:4,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Nexus 10",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Nexus 10 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Nexus 4",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Nexus 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Nexus 5",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Nexus 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Nexus 5X",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:2.625,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Nexus 5X landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:2.625,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Nexus 6",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Nexus 6 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Nexus 6P",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Nexus 6P landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Nexus 7",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:600,height:960,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Nexus 7 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:960,height:600,deviceScaleFactor:2,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Nokia Lumia 520",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:320,height:533,deviceScaleFactor:1.5,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Nokia Lumia 520 landscape",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:533,height:320,deviceScaleFactor:1.5,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Nokia N9",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:480,height:854,deviceScaleFactor:1,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Nokia N9 landscape",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:854,height:480,deviceScaleFactor:1,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Pixel 2",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:731,deviceScaleFactor:2.625,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Pixel 2 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:731,height:411,deviceScaleFactor:2.625,isMobile:true,hasTouch:true,isLandscape:true}},{name:"Pixel 2 XL",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:823,deviceScaleFactor:3.5,isMobile:true,hasTouch:true,isLandscape:false}},{name:"Pixel 2 XL landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:823,height:411,deviceScaleFactor:3.5,isMobile:true,hasTouch:true,isLandscape:true}}];const n={};t.devicesMap=n;for(const e of r)n[e.name]=e},2076:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Dialog=void 0;const n=r(7692);class Dialog{constructor(e,t,r,n=""){this._handled=false;this._client=e;this._type=t;this._message=r;this._defaultValue=n}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(e){n.assert(!this._handled,"Cannot accept dialog which is already handled!");this._handled=true;await this._client.send("Page.handleJavaScriptDialog",{accept:true,promptText:e})}async dismiss(){n.assert(!this._handled,"Cannot dismiss dialog which is already handled!");this._handled=true;await this._client.send("Page.handleJavaScriptDialog",{accept:false})}}t.Dialog=Dialog},7064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EmulationManager=void 0;class EmulationManager{constructor(e){this._emulatingMobile=false;this._hasTouch=false;this._client=e}async emulateViewport(e){const t=e.isMobile||false;const r=e.width;const n=e.height;const i=e.deviceScaleFactor||1;const o=e.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"};const s=e.hasTouch||false;await Promise.all([this._client.send("Emulation.setDeviceMetricsOverride",{mobile:t,width:r,height:n,deviceScaleFactor:i,screenOrientation:o}),this._client.send("Emulation.setTouchEmulationEnabled",{enabled:s})]);const a=this._emulatingMobile!==t||this._hasTouch!==s;this._emulatingMobile=t;this._hasTouch=s;return a}}t.EmulationManager=EmulationManager},9749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.puppeteerErrors=t.TimeoutError=void 0;class CustomError extends Error{constructor(e){super(e);this.name=this.constructor.name;Error.captureStackTrace(this,this.constructor)}}class TimeoutError extends CustomError{}t.TimeoutError=TimeoutError;t.puppeteerErrors={TimeoutError:TimeoutError}},5039:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.EventEmitter=void 0;const i=n(r(8787));class EventEmitter{constructor(){this.eventsMap=new Map;this.emitter=i.default(this.eventsMap)}on(e,t){this.emitter.on(e,t);return this}off(e,t){this.emitter.off(e,t);return this}removeListener(e,t){this.off(e,t);return this}addListener(e,t){this.on(e,t);return this}emit(e,t){this.emitter.emit(e,t);return this.eventListenersCount(e)>0}once(e,t){const r=n=>{t(n);this.off(e,r)};return this.on(e,r)}listenerCount(e){return this.eventListenersCount(e)}removeAllListeners(e){if(e){this.eventsMap.delete(e)}else{this.eventsMap.clear()}return this}eventListenersCount(e){return this.eventsMap.has(e)?this.eventsMap.get(e).length:0}}t.EventEmitter=EventEmitter},4164:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ExecutionContext=t.EVALUATION_SCRIPT_URL=void 0;const n=r(7692);const i=r(1184);const o=r(9724);t.EVALUATION_SCRIPT_URL="__puppeteer_evaluation_script__";const s=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;class ExecutionContext{constructor(e,t,r){this._client=e;this._world=r;this._contextId=t.id}frame(){return this._world?this._world.frame():null}async evaluate(e,...t){return await this._evaluateInternal(true,e,...t)}async evaluateHandle(e,...t){return this._evaluateInternal(false,e,...t)}async _evaluateInternal(e,r,...n){const a=`//# sourceURL=${t.EVALUATION_SCRIPT_URL}`;if(i.helper.isString(r)){const t=this._contextId;const n=r;const c=s.test(n)?n:n+"\n"+a;const{exceptionDetails:l,result:u}=await this._client.send("Runtime.evaluate",{expression:c,contextId:t,returnByValue:e,awaitPromise:true,userGesture:true}).catch(rewriteError);if(l)throw new Error("Evaluation failed: "+i.helper.getExceptionMessage(l));return e?i.helper.valueFromRemoteObject(u):o.createJSHandle(this,u)}if(typeof r!=="function")throw new Error(`Expected to get |string| or |function| as the first argument, but got "${r}" instead.`);let c=r.toString();try{new Function("("+c+")")}catch(e){if(c.startsWith("async "))c="async function "+c.substring("async ".length);else c="function "+c;try{new Function("("+c+")")}catch(e){throw new Error("Passed function is not well-serializable!")}}let l;try{l=this._client.send("Runtime.callFunctionOn",{functionDeclaration:c+"\n"+a+"\n",executionContextId:this._contextId,arguments:n.map(convertArgument.bind(this)),returnByValue:e,awaitPromise:true,userGesture:true})}catch(e){if(e instanceof TypeError&&e.message.startsWith("Converting circular structure to JSON"))e.message+=" Are you passing a nested JSHandle?";throw e}const{exceptionDetails:u,result:d}=await l.catch(rewriteError);if(u)throw new Error("Evaluation failed: "+i.helper.getExceptionMessage(u));return e?i.helper.valueFromRemoteObject(d):o.createJSHandle(this,d);function convertArgument(e){if(typeof e==="bigint")return{unserializableValue:`${e.toString()}n`};if(Object.is(e,-0))return{unserializableValue:"-0"};if(Object.is(e,Infinity))return{unserializableValue:"Infinity"};if(Object.is(e,-Infinity))return{unserializableValue:"-Infinity"};if(Object.is(e,NaN))return{unserializableValue:"NaN"};const t=e&&e instanceof o.JSHandle?e:null;if(t){if(t._context!==this)throw new Error("JSHandles can be evaluated only in the context they were created!");if(t._disposed)throw new Error("JSHandle is disposed!");if(t._remoteObject.unserializableValue)return{unserializableValue:t._remoteObject.unserializableValue};if(!t._remoteObject.objectId)return{value:t._remoteObject.value};return{objectId:t._remoteObject.objectId}}return{value:e}}function rewriteError(e){if(e.message.includes("Object reference chain is too long"))return{result:{type:"undefined"}};if(e.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};if(e.message.endsWith("Cannot find context with specified id")||e.message.endsWith("Inspected target navigated or closed"))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw e}}async queryObjects(e){n.assert(!e._disposed,"Prototype JSHandle is disposed!");n.assert(e._remoteObject.objectId,"Prototype JSHandle must not be referencing primitive value");const t=await this._client.send("Runtime.queryObjects",{prototypeObjectId:e._remoteObject.objectId});return o.createJSHandle(this,t.objects)}async _adoptBackendNodeId(e){const{object:t}=await this._client.send("DOM.resolveNode",{backendNodeId:e,executionContextId:this._contextId});return o.createJSHandle(this,t)}async _adoptElementHandle(e){n.assert(e.executionContext()!==this,"Cannot adopt handle that already belongs to this execution context");n.assert(this._world,"Cannot adopt handle without DOMWorld");const t=await this._client.send("DOM.describeNode",{objectId:e._remoteObject.objectId});return this._adoptBackendNodeId(t.node.backendNodeId)}}t.ExecutionContext=ExecutionContext},7947:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FileChooser=void 0;const n=r(7692);class FileChooser{constructor(e,t){this._handled=false;this._element=e;this._multiple=t.mode!=="selectSingle"}isMultiple(){return this._multiple}async accept(e){n.assert(!this._handled,"Cannot accept FileChooser which is already handled!");this._handled=true;await this._element.uploadFile(...e)}async cancel(){n.assert(!this._handled,"Cannot cancel FileChooser which is already handled!");this._handled=true}}t.FileChooser=FileChooser},5637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Frame=t.FrameManager=t.FrameManagerEmittedEvents=void 0;const n=r(5490);const i=r(5039);const o=r(7692);const s=r(1184);const a=r(4164);const c=r(7759);const l=r(6535);const u=r(8965);const d="__puppeteer_utility_world__";t.FrameManagerEmittedEvents={FrameAttached:Symbol("FrameManager.FrameAttached"),FrameNavigated:Symbol("FrameManager.FrameNavigated"),FrameDetached:Symbol("FrameManager.FrameDetached"),LifecycleEvent:Symbol("FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("FrameManager.ExecutionContextDestroyed")};class FrameManager extends i.EventEmitter{constructor(e,t,r,n){super();this._frames=new Map;this._contextIdToContext=new Map;this._isolatedWorlds=new Set;this._client=e;this._page=t;this._networkManager=new u.NetworkManager(e,r,this);this._timeoutSettings=n;this._client.on("Page.frameAttached",e=>this._onFrameAttached(e.frameId,e.parentFrameId));this._client.on("Page.frameNavigated",e=>this._onFrameNavigated(e.frame));this._client.on("Page.navigatedWithinDocument",e=>this._onFrameNavigatedWithinDocument(e.frameId,e.url));this._client.on("Page.frameDetached",e=>this._onFrameDetached(e.frameId));this._client.on("Page.frameStoppedLoading",e=>this._onFrameStoppedLoading(e.frameId));this._client.on("Runtime.executionContextCreated",e=>this._onExecutionContextCreated(e.context));this._client.on("Runtime.executionContextDestroyed",e=>this._onExecutionContextDestroyed(e.executionContextId));this._client.on("Runtime.executionContextsCleared",()=>this._onExecutionContextsCleared());this._client.on("Page.lifecycleEvent",e=>this._onLifecycleEvent(e));this._client.on("Target.attachedToTarget",async e=>this._onFrameMoved(e))}async initialize(){const e=await Promise.all([this._client.send("Page.enable"),this._client.send("Page.getFrameTree")]);const{frameTree:t}=e[1];this._handleFrameTree(t);await Promise.all([this._client.send("Page.setLifecycleEventsEnabled",{enabled:true}),this._client.send("Runtime.enable").then(()=>this._ensureIsolatedWorld(d)),this._networkManager.initialize()])}networkManager(){return this._networkManager}async navigateFrame(e,t,r={}){assertNoLegacyNavigationOptions(r);const{referer:n=this._networkManager.extraHTTPHeaders()["referer"],waitUntil:i=["load"],timeout:o=this._timeoutSettings.navigationTimeout()}=r;const s=new c.LifecycleWatcher(this,e,i,o);let a=false;let l=await Promise.race([navigate(this._client,t,n,e._id),s.timeoutOrTerminationPromise()]);if(!l){l=await Promise.race([s.timeoutOrTerminationPromise(),a?s.newDocumentNavigationPromise():s.sameDocumentNavigationPromise()])}s.dispose();if(l)throw l;return s.navigationResponse();async function navigate(e,t,r,n){try{const i=await e.send("Page.navigate",{url:t,referrer:r,frameId:n});a=!!i.loaderId;return i.errorText?new Error(`${i.errorText} at ${t}`):null}catch(e){return e}}}async waitForFrameNavigation(e,t={}){assertNoLegacyNavigationOptions(t);const{waitUntil:r=["load"],timeout:n=this._timeoutSettings.navigationTimeout()}=t;const i=new c.LifecycleWatcher(this,e,r,n);const o=await Promise.race([i.timeoutOrTerminationPromise(),i.sameDocumentNavigationPromise(),i.newDocumentNavigationPromise()]);i.dispose();if(o)throw o;return i.navigationResponse()}async _onFrameMoved(e){if(e.targetInfo.type!=="iframe"){return}n.debug("puppeteer:frame")(`The frame '${e.targetInfo.targetId}' moved to another session. `+`Out-of-process iframes (OOPIF) are not supported by Puppeteer yet. `+`https://github.com/puppeteer/puppeteer/issues/2548`)}_onLifecycleEvent(e){const r=this._frames.get(e.frameId);if(!r)return;r._onLifecycleEvent(e.loaderId,e.name);this.emit(t.FrameManagerEmittedEvents.LifecycleEvent,r)}_onFrameStoppedLoading(e){const r=this._frames.get(e);if(!r)return;r._onLoadingStopped();this.emit(t.FrameManagerEmittedEvents.LifecycleEvent,r)}_handleFrameTree(e){if(e.frame.parentId)this._onFrameAttached(e.frame.id,e.frame.parentId);this._onFrameNavigated(e.frame);if(!e.childFrames)return;for(const t of e.childFrames)this._handleFrameTree(t)}page(){return this._page}mainFrame(){return this._mainFrame}frames(){return Array.from(this._frames.values())}frame(e){return this._frames.get(e)||null}_onFrameAttached(e,r){if(this._frames.has(e))return;o.assert(r);const n=this._frames.get(r);const i=new Frame(this,n,e);this._frames.set(i._id,i);this.emit(t.FrameManagerEmittedEvents.FrameAttached,i)}_onFrameNavigated(e){const r=!e.parentId;let n=r?this._mainFrame:this._frames.get(e.id);o.assert(r||n,"We either navigate top level or have old version of the navigated frame");if(n){for(const e of n.childFrames())this._removeFramesRecursively(e)}if(r){if(n){this._frames.delete(n._id);n._id=e.id}else{n=new Frame(this,null,e.id)}this._frames.set(e.id,n);this._mainFrame=n}n._navigated(e);this.emit(t.FrameManagerEmittedEvents.FrameNavigated,n)}async _ensureIsolatedWorld(e){if(this._isolatedWorlds.has(e))return;this._isolatedWorlds.add(e);await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${a.EVALUATION_SCRIPT_URL}`,worldName:e}),await Promise.all(this.frames().map(t=>this._client.send("Page.createIsolatedWorld",{frameId:t._id,grantUniveralAccess:true,worldName:e}).catch(s.debugError)))}_onFrameNavigatedWithinDocument(e,r){const n=this._frames.get(e);if(!n)return;n._navigatedWithinDocument(r);this.emit(t.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,n);this.emit(t.FrameManagerEmittedEvents.FrameNavigated,n)}_onFrameDetached(e){const t=this._frames.get(e);if(t)this._removeFramesRecursively(t)}_onExecutionContextCreated(e){const t=e.auxData;const r=t?t.frameId:null;const n=this._frames.get(r)||null;let i=null;if(n){if(e.auxData&&!!e.auxData["isDefault"]){i=n._mainWorld}else if(e.name===d&&!n._secondaryWorld._hasContext()){i=n._secondaryWorld}}if(e.auxData&&e.auxData["type"]==="isolated")this._isolatedWorlds.add(e.name);const o=new a.ExecutionContext(this._client,e,i);if(i)i._setContext(o);this._contextIdToContext.set(e.id,o)}_onExecutionContextDestroyed(e){const t=this._contextIdToContext.get(e);if(!t)return;this._contextIdToContext.delete(e);if(t._world)t._world._setContext(null)}_onExecutionContextsCleared(){for(const e of this._contextIdToContext.values()){if(e._world)e._world._setContext(null)}this._contextIdToContext.clear()}executionContextById(e){const t=this._contextIdToContext.get(e);o.assert(t,"INTERNAL ERROR: missing context with id = "+e);return t}_removeFramesRecursively(e){for(const t of e.childFrames())this._removeFramesRecursively(t);e._detach();this._frames.delete(e._id);this.emit(t.FrameManagerEmittedEvents.FrameDetached,e)}}t.FrameManager=FrameManager;class Frame{constructor(e,t,r){this._url="";this._detached=false;this._loaderId="";this._lifecycleEvents=new Set;this._frameManager=e;this._parentFrame=t;this._url="";this._id=r;this._detached=false;this._loaderId="";this._mainWorld=new l.DOMWorld(e,this,e._timeoutSettings);this._secondaryWorld=new l.DOMWorld(e,this,e._timeoutSettings);this._childFrames=new Set;if(this._parentFrame)this._parentFrame._childFrames.add(this)}async goto(e,t={}){return await this._frameManager.navigateFrame(this,e,t)}async waitForNavigation(e={}){return await this._frameManager.waitForFrameNavigation(this,e)}executionContext(){return this._mainWorld.executionContext()}async evaluateHandle(e,...t){return this._mainWorld.evaluateHandle(e,...t)}async evaluate(e,...t){return this._mainWorld.evaluate(e,...t)}async $(e){return this._mainWorld.$(e)}async $x(e){return this._mainWorld.$x(e)}async $eval(e,t,...r){return this._mainWorld.$eval(e,t,...r)}async $$eval(e,t,...r){return this._mainWorld.$$eval(e,t,...r)}async $$(e){return this._mainWorld.$$(e)}async content(){return this._secondaryWorld.content()}async setContent(e,t={}){return this._secondaryWorld.setContent(e,t)}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(e){return this._mainWorld.addScriptTag(e)}async addStyleTag(e){return this._mainWorld.addStyleTag(e)}async click(e,t={}){return this._secondaryWorld.click(e,t)}async focus(e){return this._secondaryWorld.focus(e)}async hover(e){return this._secondaryWorld.hover(e)}select(e,...t){return this._secondaryWorld.select(e,...t)}async tap(e){return this._secondaryWorld.tap(e)}async type(e,t,r){return this._mainWorld.type(e,t,r)}waitFor(e,t={},...r){const n="//";console.warn("waitFor is deprecated and will be removed in a future release. See https://github.com/puppeteer/puppeteer/issues/6214 for details and how to migrate your code.");if(s.helper.isString(e)){const r=e;if(r.startsWith(n))return this.waitForXPath(r,t);return this.waitForSelector(r,t)}if(s.helper.isNumber(e))return new Promise(t=>setTimeout(t,e));if(typeof e==="function")return this.waitForFunction(e,t,...r);return Promise.reject(new Error("Unsupported target type: "+typeof e))}waitForTimeout(e){return new Promise(t=>{setTimeout(t,e)})}async waitForSelector(e,t={}){const r=await this._secondaryWorld.waitForSelector(e,t);if(!r)return null;const n=await this._mainWorld.executionContext();const i=await n._adoptElementHandle(r);await r.dispose();return i}async waitForXPath(e,t={}){const r=await this._secondaryWorld.waitForXPath(e,t);if(!r)return null;const n=await this._mainWorld.executionContext();const i=await n._adoptElementHandle(r);await r.dispose();return i}waitForFunction(e,t={},...r){return this._mainWorld.waitForFunction(e,t,...r)}async title(){return this._secondaryWorld.title()}_navigated(e){this._name=e.name;this._url=`${e.url}${e.urlFragment||""}`}_navigatedWithinDocument(e){this._url=e}_onLifecycleEvent(e,t){if(t==="init"){this._loaderId=e;this._lifecycleEvents.clear()}this._lifecycleEvents.add(t)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded");this._lifecycleEvents.add("load")}_detach(){this._detached=true;this._mainWorld._detach();this._secondaryWorld._detach();if(this._parentFrame)this._parentFrame._childFrames.delete(this);this._parentFrame=null}}t.Frame=Frame;function assertNoLegacyNavigationOptions(e){o.assert(e["networkIdleTimeout"]===undefined,"ERROR: networkIdleTimeout option is no longer supported.");o.assert(e["networkIdleInflight"]===undefined,"ERROR: networkIdleInflight option is no longer supported.");o.assert(e.waitUntil!=="networkidle",'ERROR: "networkidle" option is no longer supported. Use "networkidle2" instead')}},7102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.HTTPRequest=void 0;const n=r(7692);const i=r(1184);class HTTPRequest{constructor(e,t,r,n,i,o){this._failureText=null;this._response=null;this._fromMemoryCache=false;this._interceptionHandled=false;this._headers={};this._client=e;this._requestId=i.requestId;this._isNavigationRequest=i.requestId===i.loaderId&&i.type==="Document";this._interceptionId=r;this._allowInterception=n;this._url=i.request.url;this._resourceType=i.type.toLowerCase();this._method=i.request.method;this._postData=i.request.postData;this._frame=t;this._redirectChain=o;for(const e of Object.keys(i.request.headers))this._headers[e.toLowerCase()]=i.request.headers[e]}url(){return this._url}resourceType(){return this._resourceType}method(){return this._method}postData(){return this._postData}headers(){return this._headers}response(){return this._response}frame(){return this._frame}isNavigationRequest(){return this._isNavigationRequest}redirectChain(){return this._redirectChain.slice()}failure(){if(!this._failureText)return null;return{errorText:this._failureText}}async continue(e={}){if(this._url.startsWith("data:"))return;n.assert(this._allowInterception,"Request Interception is not enabled!");n.assert(!this._interceptionHandled,"Request is already handled!");const{url:t,method:r,postData:o,headers:s}=e;this._interceptionHandled=true;const a=o?Buffer.from(o).toString("base64"):undefined;await this._client.send("Fetch.continueRequest",{requestId:this._interceptionId,url:t,method:r,postData:a,headers:s?headersArray(s):undefined}).catch(e=>{i.debugError(e)})}async respond(e){if(this._url.startsWith("data:"))return;n.assert(this._allowInterception,"Request Interception is not enabled!");n.assert(!this._interceptionHandled,"Request is already handled!");this._interceptionHandled=true;const t=e.body&&i.helper.isString(e.body)?Buffer.from(e.body):e.body||null;const r={};if(e.headers){for(const t of Object.keys(e.headers))r[t.toLowerCase()]=e.headers[t]}if(e.contentType)r["content-type"]=e.contentType;if(t&&!("content-length"in r))r["content-length"]=String(Buffer.byteLength(t));await this._client.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:e.status||200,responsePhrase:s[e.status||200],responseHeaders:headersArray(r),body:t?t.toString("base64"):undefined}).catch(e=>{i.debugError(e)})}async abort(e="failed"){if(this._url.startsWith("data:"))return;const t=o[e];n.assert(t,"Unknown error code: "+e);n.assert(this._allowInterception,"Request Interception is not enabled!");n.assert(!this._interceptionHandled,"Request is already handled!");this._interceptionHandled=true;await this._client.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:t}).catch(e=>{i.debugError(e)})}}t.HTTPRequest=HTTPRequest;const o={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};function headersArray(e){const t=[];for(const r in e){if(!Object.is(e[r],undefined))t.push({name:r,value:e[r]+""})}return t}const s={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"}},3209:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.HTTPResponse=void 0;const n=r(7253);class HTTPResponse{constructor(e,t,r){this._contentPromise=null;this._headers={};this._client=e;this._request=t;this._bodyLoadedPromise=new Promise(e=>{this._bodyLoadedPromiseFulfill=e});this._remoteAddress={ip:r.remoteIPAddress,port:r.remotePort};this._status=r.status;this._statusText=r.statusText;this._url=t.url();this._fromDiskCache=!!r.fromDiskCache;this._fromServiceWorker=!!r.fromServiceWorker;for(const e of Object.keys(r.headers))this._headers[e.toLowerCase()]=r.headers[e];this._securityDetails=r.securityDetails?new n.SecurityDetails(r.securityDetails):null}_resolveBody(e){return this._bodyLoadedPromiseFulfill(e)}remoteAddress(){return this._remoteAddress}url(){return this._url}ok(){return this._status===0||this._status>=200&&this._status<=299}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}securityDetails(){return this._securityDetails}buffer(){if(!this._contentPromise){this._contentPromise=this._bodyLoadedPromise.then(async e=>{if(e)throw e;const t=await this._client.send("Network.getResponseBody",{requestId:this._request._requestId});return Buffer.from(t.body,t.base64Encoded?"base64":"utf8")})}return this._contentPromise}async text(){const e=await this.buffer();return e.toString("utf8")}async json(){const e=await this.text();return JSON.parse(e)}request(){return this._request}fromCache(){return this._fromDiskCache||this._request._fromMemoryCache}fromServiceWorker(){return this._fromServiceWorker}frame(){return this._request.frame()}}t.HTTPResponse=HTTPResponse},1071:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Touchscreen=t.Mouse=t.Keyboard=void 0;const n=r(7692);const i=r(7457);class Keyboard{constructor(e){this._modifiers=0;this._pressedKeys=new Set;this._client=e}async down(e,t={text:undefined}){const r=this._keyDescriptionForString(e);const n=this._pressedKeys.has(r.code);this._pressedKeys.add(r.code);this._modifiers|=this._modifierBit(r.key);const i=t.text===undefined?r.text:t.text;await this._client.send("Input.dispatchKeyEvent",{type:i?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:r.keyCode,code:r.code,key:r.key,text:i,unmodifiedText:i,autoRepeat:n,location:r.location,isKeypad:r.location===3})}_modifierBit(e){if(e==="Alt")return 1;if(e==="Control")return 2;if(e==="Meta")return 4;if(e==="Shift")return 8;return 0}_keyDescriptionForString(e){const t=this._modifiers&8;const r={key:"",keyCode:0,code:"",text:"",location:0};const o=i.keyDefinitions[e];n.assert(o,`Unknown key: "${e}"`);if(o.key)r.key=o.key;if(t&&o.shiftKey)r.key=o.shiftKey;if(o.keyCode)r.keyCode=o.keyCode;if(t&&o.shiftKeyCode)r.keyCode=o.shiftKeyCode;if(o.code)r.code=o.code;if(o.location)r.location=o.location;if(r.key.length===1)r.text=r.key;if(o.text)r.text=o.text;if(t&&o.shiftText)r.text=o.shiftText;if(this._modifiers&~8)r.text="";return r}async up(e){const t=this._keyDescriptionForString(e);this._modifiers&=~this._modifierBit(t.key);this._pressedKeys.delete(t.code);await this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:t.key,windowsVirtualKeyCode:t.keyCode,code:t.code,location:t.location})}async sendCharacter(e){await this._client.send("Input.insertText",{text:e})}charIsKey(e){return!!i.keyDefinitions[e]}async type(e,t={}){const r=t.delay||null;for(const t of e){if(this.charIsKey(t)){await this.press(t,{delay:r})}else{if(r)await new Promise(e=>setTimeout(e,r));await this.sendCharacter(t)}}}async press(e,t={}){const{delay:r=null}=t;await this.down(e,t);if(r)await new Promise(e=>setTimeout(e,t.delay));await this.up(e)}}t.Keyboard=Keyboard;class Mouse{constructor(e,t){this._x=0;this._y=0;this._button="none";this._client=e;this._keyboard=t}async move(e,t,r={}){const{steps:n=1}=r;const i=this._x,o=this._y;this._x=e;this._y=t;for(let e=1;e<=n;e++){await this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:this._button,x:i+(this._x-i)*(e/n),y:o+(this._y-o)*(e/n),modifiers:this._keyboard._modifiers})}}async click(e,t,r={}){const{delay:n=null}=r;if(n!==null){await Promise.all([this.move(e,t),this.down(r)]);await new Promise(e=>setTimeout(e,n));await this.up(r)}else{await Promise.all([this.move(e,t),this.down(r),this.up(r)])}}async down(e={}){const{button:t="left",clickCount:r=1}=e;this._button=t;await this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:r})}async up(e={}){const{button:t="left",clickCount:r=1}=e;this._button="none";await this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:r})}async wheel(e={}){const{deltaX:t=0,deltaY:r=0}=e;await this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:this._x,y:this._y,deltaX:t,deltaY:r,modifiers:this._keyboard._modifiers,pointerType:"mouse"})}}t.Mouse=Mouse;class Touchscreen{constructor(e,t){this._client=e;this._keyboard=t}async tap(e,t){const r=[{x:Math.round(e),y:Math.round(t)}];await this._client.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:r,modifiers:this._keyboard._modifiers});await this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[],modifiers:this._keyboard._modifiers})}}t.Touchscreen=Touchscreen},9724:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.ElementHandle=t.JSHandle=t.createJSHandle=void 0;const s=r(7692);const a=r(1184);const c=r(446);const l=r(2777);function createJSHandle(e,t){const r=e.frame();if(t.subtype==="node"&&r){const n=r._frameManager;return new ElementHandle(e,e._client,t,n.page(),n)}return new JSHandle(e,e._client,t)}t.createJSHandle=createJSHandle;class JSHandle{constructor(e,t,r){this._disposed=false;this._context=e;this._client=t;this._remoteObject=r}executionContext(){return this._context}async evaluate(e,...t){return await this.executionContext().evaluate(e,this,...t)}async evaluateHandle(e,...t){return await this.executionContext().evaluateHandle(e,this,...t)}async getProperty(e){const t=await this.evaluateHandle((e,t)=>{const r={__proto__:null};r[t]=e[t];return r},e);const r=await t.getProperties();const n=r.get(e)||null;await t.dispose();return n}async getProperties(){const e=await this._client.send("Runtime.getProperties",{objectId:this._remoteObject.objectId,ownProperties:true});const t=new Map;for(const r of e.result){if(!r.enumerable)continue;t.set(r.name,createJSHandle(this._context,r.value))}return t}async jsonValue(){if(this._remoteObject.objectId){const e=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:"function() { return this; }",objectId:this._remoteObject.objectId,returnByValue:true,awaitPromise:true});return a.helper.valueFromRemoteObject(e.result)}return a.helper.valueFromRemoteObject(this._remoteObject)}asElement(){return null}async dispose(){if(this._disposed)return;this._disposed=true;await a.helper.releaseObject(this._client,this._remoteObject)}toString(){if(this._remoteObject.objectId){const e=this._remoteObject.subtype||this._remoteObject.type;return"JSHandle@"+e}return"JSHandle:"+a.helper.valueFromRemoteObject(this._remoteObject)}}t.JSHandle=JSHandle;class ElementHandle extends JSHandle{constructor(e,t,r,n,i){super(e,t,r);this._client=t;this._remoteObject=r;this._page=n;this._frameManager=i}asElement(){return this}async contentFrame(){const e=await this._client.send("DOM.describeNode",{objectId:this._remoteObject.objectId});if(typeof e.node.frameId!=="string")return null;return this._frameManager.frame(e.node.frameId)}async _scrollIntoViewIfNeeded(){const e=await this.evaluate(async(e,t)=>{if(!e.isConnected)return"Node is detached from document";if(e.nodeType!==Node.ELEMENT_NODE)return"Node is not of type HTMLElement";if(!t){e.scrollIntoView({block:"center",inline:"center",behavior:"instant"});return false}const r=await new Promise(t=>{const r=new IntersectionObserver(e=>{t(e[0].intersectionRatio);r.disconnect()});r.observe(e)});if(r!==1){e.scrollIntoView({block:"center",inline:"center",behavior:"instant"})}return false},this._page.isJavaScriptEnabled());if(e)throw new Error(e)}async _clickablePoint(){const[e,t]=await Promise.all([this._client.send("DOM.getContentQuads",{objectId:this._remoteObject.objectId}).catch(a.debugError),this._client.send("Page.getLayoutMetrics")]);if(!e||!e.quads.length)throw new Error("Node is either not visible or not an HTMLElement");const{clientWidth:r,clientHeight:n}=t.layoutViewport;const i=e.quads.map(e=>this._fromProtocolQuad(e)).map(e=>this._intersectQuadWithViewport(e,r,n)).filter(e=>computeQuadArea(e)>1);if(!i.length)throw new Error("Node is either not visible or not an HTMLElement");const o=i[0];let s=0;let c=0;for(const e of o){s+=e.x;c+=e.y}return{x:s/4,y:c/4}}_getBoxModel(){const e={objectId:this._remoteObject.objectId};return this._client.send("DOM.getBoxModel",e).catch(e=>a.debugError(e))}_fromProtocolQuad(e){return[{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},{x:e[6],y:e[7]}]}_intersectQuadWithViewport(e,t,r){return e.map(e=>({x:Math.min(Math.max(e.x,0),t),y:Math.min(Math.max(e.y,0),r)}))}async hover(){await this._scrollIntoViewIfNeeded();const{x:e,y:t}=await this._clickablePoint();await this._page.mouse.move(e,t)}async click(e={}){await this._scrollIntoViewIfNeeded();const{x:t,y:r}=await this._clickablePoint();await this._page.mouse.click(t,r,e)}async select(...e){for(const t of e)s.assert(a.helper.isString(t),'Values must be strings. Found value "'+t+'" of type "'+typeof t+'"');return this.evaluate((e,t)=>{if(e.nodeName.toLowerCase()!=="select")throw new Error("Element is not a <select> element.");const r=Array.from(e.options);e.value=undefined;for(const n of r){n.selected=t.includes(n.value);if(n.selected&&!e.multiple)break}e.dispatchEvent(new Event("input",{bubbles:true}));e.dispatchEvent(new Event("change",{bubbles:true}));return r.filter(e=>e.selected).map(e=>e.value)},e)}async uploadFile(...e){const t=await this.evaluate(e=>e.multiple);s.assert(e.length<=1||t,"Multiple file uploads only work with <input type=file multiple>");if(!l.isNode){throw new Error(`JSHandle#uploadFile can only be used in Node environments.`)}const n=await Promise.resolve().then(()=>o(r(5622)));const i=await a.helper.importFSModule();const c=await Promise.all(e.map(async e=>{const t=n.resolve(e);try{await i.promises.access(t,i.constants.R_OK)}catch(t){if(t.code==="ENOENT")throw new Error(`${e} does not exist or is not readable`)}return t}));const{objectId:u}=this._remoteObject;const{node:d}=await this._client.send("DOM.describeNode",{objectId:u});const{backendNodeId:f}=d;if(c.length===0){await this.evaluate(e=>{e.files=(new DataTransfer).files;e.dispatchEvent(new Event("input",{bubbles:true}));e.dispatchEvent(new Event("change",{bubbles:true}))})}else{await this._client.send("DOM.setFileInputFiles",{objectId:u,files:c,backendNodeId:f})}}async tap(){await this._scrollIntoViewIfNeeded();const{x:e,y:t}=await this._clickablePoint();await this._page.touchscreen.tap(e,t)}async focus(){await this.evaluate(e=>e.focus())}async type(e,t){await this.focus();await this._page.keyboard.type(e,t)}async press(e,t){await this.focus();await this._page.keyboard.press(e,t)}async boundingBox(){const e=await this._getBoxModel();if(!e)return null;const t=e.model.border;const r=Math.min(t[0],t[2],t[4],t[6]);const n=Math.min(t[1],t[3],t[5],t[7]);const i=Math.max(t[0],t[2],t[4],t[6])-r;const o=Math.max(t[1],t[3],t[5],t[7])-n;return{x:r,y:n,width:i,height:o}}async boxModel(){const e=await this._getBoxModel();if(!e)return null;const{content:t,padding:r,border:n,margin:i,width:o,height:s}=e.model;return{content:this._fromProtocolQuad(t),padding:this._fromProtocolQuad(r),border:this._fromProtocolQuad(n),margin:this._fromProtocolQuad(i),width:o,height:s}}async screenshot(e={}){let t=false;let r=await this.boundingBox();s.assert(r,"Node is either not visible or not an HTMLElement");const n=this._page.viewport();if(n&&(r.width>n.width||r.height>n.height)){const e={width:Math.max(n.width,Math.ceil(r.width)),height:Math.max(n.height,Math.ceil(r.height))};await this._page.setViewport(Object.assign({},n,e));t=true}await this._scrollIntoViewIfNeeded();r=await this.boundingBox();s.assert(r,"Node is either not visible or not an HTMLElement");s.assert(r.width!==0,"Node has 0 width.");s.assert(r.height!==0,"Node has 0 height.");const{layoutViewport:{pageX:i,pageY:o}}=await this._client.send("Page.getLayoutMetrics");const a=Object.assign({},r);a.x+=i;a.y+=o;const c=await this._page.screenshot(Object.assign({},{clip:a},e));if(t)await this._page.setViewport(n);return c}async $(e){const{updatedSelector:t,queryHandler:r}=c.getQueryHandlerAndSelector(e);return r.queryOne(this,t)}async $$(e){const{updatedSelector:t,queryHandler:r}=c.getQueryHandlerAndSelector(e);return r.queryAll(this,t)}async $eval(e,t,...r){const n=await this.$(e);if(!n)throw new Error(`Error: failed to find element matching selector "${e}"`);const i=await n.evaluate(t,...r);await n.dispose();return i}async $$eval(e,t,...r){const{updatedSelector:n,queryHandler:i}=c.getQueryHandlerAndSelector(e);const o=await i.queryAllArray(this,n);const s=await o.evaluate(t,...r);await o.dispose();return s}async $x(e){const t=await this.evaluateHandle((e,t)=>{const r=e.ownerDocument||e;const n=r.evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE);const i=[];let o;while(o=n.iterateNext())i.push(o);return i},e);const r=await t.getProperties();await t.dispose();const n=[];for(const e of r.values()){const t=e.asElement();if(t)n.push(t)}return n}async isIntersectingViewport(){return await this.evaluate(async e=>{const t=await new Promise(t=>{const r=new IntersectionObserver(e=>{t(e[0].intersectionRatio);r.disconnect()});r.observe(e)});return t>0})}}t.ElementHandle=ElementHandle;function computeQuadArea(e){let t=0;for(let r=0;r<e.length;++r){const n=e[r];const i=e[(r+1)%e.length];t+=(n.x*i.y-i.x*n.y)/2}return Math.abs(t)}},7759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LifecycleWatcher=void 0;const n=r(7692);const i=r(1184);const o=r(9749);const s=r(5637);const a=r(8965);const c=r(3772);const l=new Map([["load","load"],["domcontentloaded","DOMContentLoaded"],["networkidle0","networkIdle"],["networkidle2","networkAlmostIdle"]]);class LifecycleWatcher{constructor(e,t,r,o){if(Array.isArray(r))r=r.slice();else if(typeof r==="string")r=[r];this._expectedLifecycle=r.map(e=>{const t=l.get(e);n.assert(t,"Unknown value for options.waitUntil: "+e);return t});this._frameManager=e;this._frame=t;this._initialLoaderId=t._loaderId;this._timeout=o;this._navigationRequest=null;this._eventListeners=[i.helper.addEventListener(e._client,c.CDPSessionEmittedEvents.Disconnected,()=>this._terminate(new Error("Navigation failed because browser has disconnected!"))),i.helper.addEventListener(this._frameManager,s.FrameManagerEmittedEvents.LifecycleEvent,this._checkLifecycleComplete.bind(this)),i.helper.addEventListener(this._frameManager,s.FrameManagerEmittedEvents.FrameNavigatedWithinDocument,this._navigatedWithinDocument.bind(this)),i.helper.addEventListener(this._frameManager,s.FrameManagerEmittedEvents.FrameDetached,this._onFrameDetached.bind(this)),i.helper.addEventListener(this._frameManager.networkManager(),a.NetworkManagerEmittedEvents.Request,this._onRequest.bind(this))];this._sameDocumentNavigationPromise=new Promise(e=>{this._sameDocumentNavigationCompleteCallback=e});this._lifecyclePromise=new Promise(e=>{this._lifecycleCallback=e});this._newDocumentNavigationPromise=new Promise(e=>{this._newDocumentNavigationCompleteCallback=e});this._timeoutPromise=this._createTimeoutPromise();this._terminationPromise=new Promise(e=>{this._terminationCallback=e});this._checkLifecycleComplete()}_onRequest(e){if(e.frame()!==this._frame||!e.isNavigationRequest())return;this._navigationRequest=e}_onFrameDetached(e){if(this._frame===e){this._terminationCallback.call(null,new Error("Navigating frame was detached"));return}this._checkLifecycleComplete()}navigationResponse(){return this._navigationRequest?this._navigationRequest.response():null}_terminate(e){this._terminationCallback.call(null,e)}sameDocumentNavigationPromise(){return this._sameDocumentNavigationPromise}newDocumentNavigationPromise(){return this._newDocumentNavigationPromise}lifecyclePromise(){return this._lifecyclePromise}timeoutOrTerminationPromise(){return Promise.race([this._timeoutPromise,this._terminationPromise])}_createTimeoutPromise(){if(!this._timeout)return new Promise(()=>{});const e="Navigation timeout of "+this._timeout+" ms exceeded";return new Promise(e=>this._maximumTimer=setTimeout(e,this._timeout)).then(()=>new o.TimeoutError(e))}_navigatedWithinDocument(e){if(e!==this._frame)return;this._hasSameDocumentNavigation=true;this._checkLifecycleComplete()}_checkLifecycleComplete(){if(!checkLifecycle(this._frame,this._expectedLifecycle))return;this._lifecycleCallback();if(this._frame._loaderId===this._initialLoaderId&&!this._hasSameDocumentNavigation)return;if(this._hasSameDocumentNavigation)this._sameDocumentNavigationCompleteCallback();if(this._frame._loaderId!==this._initialLoaderId)this._newDocumentNavigationCompleteCallback();function checkLifecycle(e,t){for(const r of t){if(!e._lifecycleEvents.has(r))return false}for(const r of e.childFrames()){if(!checkLifecycle(r,t))return false}return true}}dispose(){i.helper.removeEventListeners(this._eventListeners);clearTimeout(this._maximumTimer)}}t.LifecycleWatcher=LifecycleWatcher},8965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NetworkManager=t.NetworkManagerEmittedEvents=void 0;const n=r(5039);const i=r(7692);const o=r(1184);const s=r(7102);const a=r(3209);t.NetworkManagerEmittedEvents={Request:Symbol("NetworkManager.Request"),Response:Symbol("NetworkManager.Response"),RequestFailed:Symbol("NetworkManager.RequestFailed"),RequestFinished:Symbol("NetworkManager.RequestFinished")};class NetworkManager extends n.EventEmitter{constructor(e,t,r){super();this._requestIdToRequest=new Map;this._requestIdToRequestWillBeSentEvent=new Map;this._extraHTTPHeaders={};this._offline=false;this._credentials=null;this._attemptedAuthentications=new Set;this._userRequestInterceptionEnabled=false;this._protocolRequestInterceptionEnabled=false;this._userCacheDisabled=false;this._requestIdToInterceptionId=new Map;this._client=e;this._ignoreHTTPSErrors=t;this._frameManager=r;this._client.on("Fetch.requestPaused",this._onRequestPaused.bind(this));this._client.on("Fetch.authRequired",this._onAuthRequired.bind(this));this._client.on("Network.requestWillBeSent",this._onRequestWillBeSent.bind(this));this._client.on("Network.requestServedFromCache",this._onRequestServedFromCache.bind(this));this._client.on("Network.responseReceived",this._onResponseReceived.bind(this));this._client.on("Network.loadingFinished",this._onLoadingFinished.bind(this));this._client.on("Network.loadingFailed",this._onLoadingFailed.bind(this))}async initialize(){await this._client.send("Network.enable");if(this._ignoreHTTPSErrors)await this._client.send("Security.setIgnoreCertificateErrors",{ignore:true})}async authenticate(e){this._credentials=e;await this._updateProtocolRequestInterception()}async setExtraHTTPHeaders(e){this._extraHTTPHeaders={};for(const t of Object.keys(e)){const r=e[t];i.assert(o.helper.isString(r),`Expected value of header "${t}" to be String, but "${typeof r}" is found.`);this._extraHTTPHeaders[t.toLowerCase()]=r}await this._client.send("Network.setExtraHTTPHeaders",{headers:this._extraHTTPHeaders})}extraHTTPHeaders(){return Object.assign({},this._extraHTTPHeaders)}async setOfflineMode(e){if(this._offline===e)return;this._offline=e;await this._client.send("Network.emulateNetworkConditions",{offline:this._offline,latency:0,downloadThroughput:-1,uploadThroughput:-1})}async setUserAgent(e){await this._client.send("Network.setUserAgentOverride",{userAgent:e})}async setCacheEnabled(e){this._userCacheDisabled=!e;await this._updateProtocolCacheDisabled()}async setRequestInterception(e){this._userRequestInterceptionEnabled=e;await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){const e=this._userRequestInterceptionEnabled||!!this._credentials;if(e===this._protocolRequestInterceptionEnabled)return;this._protocolRequestInterceptionEnabled=e;if(e){await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.enable",{handleAuthRequests:true,patterns:[{urlPattern:"*"}]})])}else{await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.disable")])}}async _updateProtocolCacheDisabled(){await this._client.send("Network.setCacheDisabled",{cacheDisabled:this._userCacheDisabled||this._protocolRequestInterceptionEnabled})}_onRequestWillBeSent(e){if(this._protocolRequestInterceptionEnabled&&!e.request.url.startsWith("data:")){const t=e.requestId;const r=this._requestIdToInterceptionId.get(t);if(r){this._onRequest(e,r);this._requestIdToInterceptionId.delete(t)}else{this._requestIdToRequestWillBeSentEvent.set(e.requestId,e)}return}this._onRequest(e,null)}_onAuthRequired(e){let t="Default";if(this._attemptedAuthentications.has(e.requestId)){t="CancelAuth"}else if(this._credentials){t="ProvideCredentials";this._attemptedAuthentications.add(e.requestId)}const{username:r,password:n}=this._credentials||{username:undefined,password:undefined};this._client.send("Fetch.continueWithAuth",{requestId:e.requestId,authChallengeResponse:{response:t,username:r,password:n}}).catch(o.debugError)}_onRequestPaused(e){if(!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled){this._client.send("Fetch.continueRequest",{requestId:e.requestId}).catch(o.debugError)}const t=e.networkId;const r=e.requestId;if(t&&this._requestIdToRequestWillBeSentEvent.has(t)){const e=this._requestIdToRequestWillBeSentEvent.get(t);this._onRequest(e,r);this._requestIdToRequestWillBeSentEvent.delete(t)}else{this._requestIdToInterceptionId.set(t,r)}}_onRequest(e,r){let n=[];if(e.redirectResponse){const t=this._requestIdToRequest.get(e.requestId);if(t){this._handleRequestRedirect(t,e.redirectResponse);n=t._redirectChain}}const i=e.frameId?this._frameManager.frame(e.frameId):null;const o=new s.HTTPRequest(this._client,i,r,this._userRequestInterceptionEnabled,e,n);this._requestIdToRequest.set(e.requestId,o);this.emit(t.NetworkManagerEmittedEvents.Request,o)}_onRequestServedFromCache(e){const t=this._requestIdToRequest.get(e.requestId);if(t)t._fromMemoryCache=true}_handleRequestRedirect(e,r){const n=new a.HTTPResponse(this._client,e,r);e._response=n;e._redirectChain.push(e);n._resolveBody(new Error("Response body is unavailable for redirect responses"));this._requestIdToRequest.delete(e._requestId);this._attemptedAuthentications.delete(e._interceptionId);this.emit(t.NetworkManagerEmittedEvents.Response,n);this.emit(t.NetworkManagerEmittedEvents.RequestFinished,e)}_onResponseReceived(e){const r=this._requestIdToRequest.get(e.requestId);if(!r)return;const n=new a.HTTPResponse(this._client,r,e.response);r._response=n;this.emit(t.NetworkManagerEmittedEvents.Response,n)}_onLoadingFinished(e){const r=this._requestIdToRequest.get(e.requestId);if(!r)return;if(r.response())r.response()._resolveBody(null);this._requestIdToRequest.delete(r._requestId);this._attemptedAuthentications.delete(r._interceptionId);this.emit(t.NetworkManagerEmittedEvents.RequestFinished,r)}_onLoadingFailed(e){const r=this._requestIdToRequest.get(e.requestId);if(!r)return;r._failureText=e.errorText;const n=r.response();if(n)n._resolveBody(null);this._requestIdToRequest.delete(r._requestId);this._attemptedAuthentications.delete(r._interceptionId);this.emit(t.NetworkManagerEmittedEvents.RequestFailed,r)}}t.NetworkManager=NetworkManager},697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.paperFormats=void 0;t.paperFormats={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}}},2645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Page=void 0;const n=r(5039);const i=r(3772);const o=r(2076);const s=r(7064);const a=r(5637);const c=r(1071);const l=r(2776);const u=r(7692);const d=r(1184);const f=r(1771);const h=r(5630);const p=r(9724);const m=r(8965);const g=r(7098);const y=r(8321);const w=r(7947);const _=r(9213);const b=r(697);const v=r(2777);class ScreenshotTaskQueue{constructor(){this._chain=Promise.resolve(undefined)}postTask(e){const t=this._chain.then(e);this._chain=t.catch(()=>{});return t}}class Page extends n.EventEmitter{constructor(e,t,r){super();this._closed=false;this._timeoutSettings=new y.TimeoutSettings;this._pageBindings=new Map;this._javascriptEnabled=true;this._workers=new Map;this._fileChooserInterceptors=new Set;this._client=e;this._target=t;this._keyboard=new c.Keyboard(e);this._mouse=new c.Mouse(e,this._keyboard);this._touchscreen=new c.Touchscreen(e,this._keyboard);this._accessibility=new g.Accessibility(e);this._frameManager=new a.FrameManager(e,this,r,this._timeoutSettings);this._emulationManager=new s.EmulationManager(e);this._tracing=new l.Tracing(e);this._coverage=new f.Coverage(e);this._screenshotTaskQueue=new ScreenshotTaskQueue;this._viewport=null;e.on("Target.attachedToTarget",t=>{if(t.targetInfo.type!=="worker"){e.send("Target.detachFromTarget",{sessionId:t.sessionId}).catch(d.debugError);return}const r=i.Connection.fromSession(e).session(t.sessionId);const n=new h.WebWorker(r,t.targetInfo.url,this._addConsoleMessage.bind(this),this._handleException.bind(this));this._workers.set(t.sessionId,n);this.emit("workercreated",n)});e.on("Target.detachedFromTarget",e=>{const t=this._workers.get(e.sessionId);if(!t)return;this.emit("workerdestroyed",t);this._workers.delete(e.sessionId)});this._frameManager.on(a.FrameManagerEmittedEvents.FrameAttached,e=>this.emit("frameattached",e));this._frameManager.on(a.FrameManagerEmittedEvents.FrameDetached,e=>this.emit("framedetached",e));this._frameManager.on(a.FrameManagerEmittedEvents.FrameNavigated,e=>this.emit("framenavigated",e));const n=this._frameManager.networkManager();n.on(m.NetworkManagerEmittedEvents.Request,e=>this.emit("request",e));n.on(m.NetworkManagerEmittedEvents.Response,e=>this.emit("response",e));n.on(m.NetworkManagerEmittedEvents.RequestFailed,e=>this.emit("requestfailed",e));n.on(m.NetworkManagerEmittedEvents.RequestFinished,e=>this.emit("requestfinished",e));this._fileChooserInterceptors=new Set;e.on("Page.domContentEventFired",()=>this.emit("domcontentloaded"));e.on("Page.loadEventFired",()=>this.emit("load"));e.on("Runtime.consoleAPICalled",e=>this._onConsoleAPI(e));e.on("Runtime.bindingCalled",e=>this._onBindingCalled(e));e.on("Page.javascriptDialogOpening",e=>this._onDialog(e));e.on("Runtime.exceptionThrown",e=>this._handleException(e.exceptionDetails));e.on("Inspector.targetCrashed",()=>this._onTargetCrashed());e.on("Performance.metrics",e=>this._emitMetrics(e));e.on("Log.entryAdded",e=>this._onLogEntryAdded(e));e.on("Page.fileChooserOpened",e=>this._onFileChooser(e));this._target._isClosedPromise.then(()=>{this.emit("close");this._closed=true})}static async create(e,t,r,n){const i=new Page(e,t,r);await i._initialize();if(n)await i.setViewport(n);return i}async _initialize(){await Promise.all([this._frameManager.initialize(),this._client.send("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:false,flatten:true}),this._client.send("Performance.enable"),this._client.send("Log.enable")])}async _onFileChooser(e){if(!this._fileChooserInterceptors.size)return;const t=this._frameManager.frame(e.frameId);const r=await t.executionContext();const n=await r._adoptBackendNodeId(e.backendNodeId);const i=Array.from(this._fileChooserInterceptors);this._fileChooserInterceptors.clear();const o=new w.FileChooser(n,e);for(const e of i)e.call(null,o)}isJavaScriptEnabled(){return this._javascriptEnabled}async waitForFileChooser(e={}){if(!this._fileChooserInterceptors.size)await this._client.send("Page.setInterceptFileChooserDialog",{enabled:true});const{timeout:t=this._timeoutSettings.timeout()}=e;let r;const n=new Promise(e=>r=e);this._fileChooserInterceptors.add(r);return d.helper.waitWithTimeout(n,"waiting for file chooser",t).catch(e=>{this._fileChooserInterceptors.delete(r);throw e})}async setGeolocation(e){const{longitude:t,latitude:r,accuracy:n=0}=e;if(t<-180||t>180)throw new Error(`Invalid longitude "${t}": precondition -180 <= LONGITUDE <= 180 failed.`);if(r<-90||r>90)throw new Error(`Invalid latitude "${r}": precondition -90 <= LATITUDE <= 90 failed.`);if(n<0)throw new Error(`Invalid accuracy "${n}": precondition 0 <= ACCURACY failed.`);await this._client.send("Emulation.setGeolocationOverride",{longitude:t,latitude:r,accuracy:n})}target(){return this._target}browser(){return this._target.browser()}browserContext(){return this._target.browserContext()}_onTargetCrashed(){this.emit("error",new Error("Page crashed!"))}_onLogEntryAdded(e){const{level:t,text:r,args:n,source:i,url:o,lineNumber:s}=e.entry;if(n)n.map(e=>d.helper.releaseObject(this._client,e));if(i!=="worker")this.emit("console",new _.ConsoleMessage(t,r,[],[{url:o,lineNumber:s}]))}mainFrame(){return this._frameManager.mainFrame()}get keyboard(){return this._keyboard}get touchscreen(){return this._touchscreen}get coverage(){return this._coverage}get tracing(){return this._tracing}get accessibility(){return this._accessibility}frames(){return this._frameManager.frames()}workers(){return Array.from(this._workers.values())}async setRequestInterception(e){return this._frameManager.networkManager().setRequestInterception(e)}setOfflineMode(e){return this._frameManager.networkManager().setOfflineMode(e)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}async $(e){return this.mainFrame().$(e)}async evaluateHandle(e,...t){const r=await this.mainFrame().executionContext();return r.evaluateHandle(e,...t)}async queryObjects(e){const t=await this.mainFrame().executionContext();return t.queryObjects(e)}async $eval(e,t,...r){return this.mainFrame().$eval(e,t,...r)}async $$eval(e,t,...r){return this.mainFrame().$$eval(e,t,...r)}async $$(e){return this.mainFrame().$$(e)}async $x(e){return this.mainFrame().$x(e)}async cookies(...e){const t=(await this._client.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies;const r=["priority"];const n=e=>{for(const t of r)delete e[t];return e};return t.map(n)}async deleteCookie(...e){const t=this.url();for(const r of e){const e=Object.assign({},r);if(!r.url&&t.startsWith("http"))e.url=t;await this._client.send("Network.deleteCookies",e)}}async setCookie(...e){const t=this.url();const r=t.startsWith("http");const n=e.map(e=>{const n=Object.assign({},e);if(!n.url&&r)n.url=t;u.assert(n.url!=="about:blank",`Blank page can not have cookie "${n.name}"`);u.assert(!String.prototype.startsWith.call(n.url||"","data:"),`Data URL page can not have cookie "${n.name}"`);return n});await this.deleteCookie(...n);if(n.length)await this._client.send("Network.setCookies",{cookies:n})}async addScriptTag(e){return this.mainFrame().addScriptTag(e)}async addStyleTag(e){return this.mainFrame().addStyleTag(e)}async exposeFunction(e,t){if(this._pageBindings.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);this._pageBindings.set(e,t);const r=d.helper.pageBindingInitString("exposedFun",e);await this._client.send("Runtime.addBinding",{name:e});await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:r});await Promise.all(this.frames().map(e=>e.evaluate(r).catch(d.debugError)))}async authenticate(e){return this._frameManager.networkManager().authenticate(e)}async setExtraHTTPHeaders(e){return this._frameManager.networkManager().setExtraHTTPHeaders(e)}async setUserAgent(e){return this._frameManager.networkManager().setUserAgent(e)}async metrics(){const e=await this._client.send("Performance.getMetrics");return this._buildMetricsObject(e.metrics)}_emitMetrics(e){this.emit("metrics",{title:e.title,metrics:this._buildMetricsObject(e.metrics)})}_buildMetricsObject(e){const t={};for(const r of e||[]){if(E.has(r.name))t[r.name]=r.value}return t}_handleException(e){const t=d.helper.getExceptionMessage(e);const r=new Error(t);r.stack="";this.emit("pageerror",r)}async _onConsoleAPI(e){if(e.executionContextId===0){return}const t=this._frameManager.executionContextById(e.executionContextId);const r=e.args.map(e=>p.createJSHandle(t,e));this._addConsoleMessage(e.type,r,e.stackTrace)}async _onBindingCalled(e){let t;try{t=JSON.parse(e.payload)}catch{return}const{type:r,name:n,seq:i,args:o}=t;if(r!=="exposedFun"||!this._pageBindings.has(n))return;let s=null;try{const e=await this._pageBindings.get(n)(...o);s=d.helper.pageBindingDeliverResultString(n,i,e)}catch(e){if(e instanceof Error)s=d.helper.pageBindingDeliverErrorString(n,i,e.message,e.stack);else s=d.helper.pageBindingDeliverErrorValueString(n,i,e)}this._client.send("Runtime.evaluate",{expression:s,contextId:e.executionContextId}).catch(d.debugError)}_addConsoleMessage(e,t,r){if(!this.listenerCount("console")){t.forEach(e=>e.dispose());return}const n=[];for(const e of t){const t=e._remoteObject;if(t.objectId)n.push(e.toString());else n.push(d.helper.valueFromRemoteObject(t))}const i=[];if(r){for(const e of r.callFrames){i.push({url:e.url,lineNumber:e.lineNumber,columnNumber:e.columnNumber})}}const o=new _.ConsoleMessage(e,n.join(" "),t,i);this.emit("console",o)}_onDialog(e){let t=null;const r=new Set(["alert","confirm","prompt","beforeunload"]);if(r.has(e.type)){t=e.type}u.assert(t,"Unknown javascript dialog type: "+e.type);const n=new o.Dialog(this._client,t,e.message,e.defaultPrompt);this.emit("dialog",n)}url(){return this.mainFrame().url()}async content(){return await this._frameManager.mainFrame().content()}async setContent(e,t={}){await this._frameManager.mainFrame().setContent(e,t)}async goto(e,t={}){return await this._frameManager.mainFrame().goto(e,t)}async reload(e){const t=await Promise.all([this.waitForNavigation(e),this._client.send("Page.reload")]);return t[0]}async waitForNavigation(e={}){return await this._frameManager.mainFrame().waitForNavigation(e)}_sessionClosePromise(){if(!this._disconnectPromise)this._disconnectPromise=new Promise(e=>this._client.once(i.CDPSessionEmittedEvents.Disconnected,()=>e(new Error("Target closed"))));return this._disconnectPromise}async waitForRequest(e,t={}){const{timeout:r=this._timeoutSettings.timeout()}=t;return d.helper.waitForEvent(this._frameManager.networkManager(),m.NetworkManagerEmittedEvents.Request,t=>{if(d.helper.isString(e))return e===t.url();if(typeof e==="function")return!!e(t);return false},r,this._sessionClosePromise())}async waitForResponse(e,t={}){const{timeout:r=this._timeoutSettings.timeout()}=t;return d.helper.waitForEvent(this._frameManager.networkManager(),m.NetworkManagerEmittedEvents.Response,t=>{if(d.helper.isString(e))return e===t.url();if(typeof e==="function")return!!e(t);return false},r,this._sessionClosePromise())}async goBack(e={}){return this._go(-1,e)}async goForward(e={}){return this._go(+1,e)}async _go(e,t){const r=await this._client.send("Page.getNavigationHistory");const n=r.entries[r.currentIndex+e];if(!n)return null;const i=await Promise.all([this.waitForNavigation(t),this._client.send("Page.navigateToHistoryEntry",{entryId:n.id})]);return i[0]}async bringToFront(){await this._client.send("Page.bringToFront")}async emulate(e){await Promise.all([this.setViewport(e.viewport),this.setUserAgent(e.userAgent)])}async setJavaScriptEnabled(e){if(this._javascriptEnabled===e)return;this._javascriptEnabled=e;await this._client.send("Emulation.setScriptExecutionDisabled",{value:!e})}async setBypassCSP(e){await this._client.send("Page.setBypassCSP",{enabled:e})}async emulateMediaType(e){u.assert(e==="screen"||e==="print"||e===null,"Unsupported media type: "+e);await this._client.send("Emulation.setEmulatedMedia",{media:e||""})}async emulateMediaFeatures(e){if(e===null)await this._client.send("Emulation.setEmulatedMedia",{features:null});if(Array.isArray(e)){e.every(e=>{const t=e.name;u.assert(/^prefers-(?:color-scheme|reduced-motion)$/.test(t),"Unsupported media feature: "+t);return true});await this._client.send("Emulation.setEmulatedMedia",{features:e})}}async emulateTimezone(e){try{await this._client.send("Emulation.setTimezoneOverride",{timezoneId:e||""})}catch(t){if(t.message.includes("Invalid timezone"))throw new Error(`Invalid timezone ID: ${e}`);throw t}}async emulateIdleState(e){if(e){await this._client.send("Emulation.setIdleOverride",{isUserActive:e.isUserActive,isScreenUnlocked:e.isScreenUnlocked})}else{await this._client.send("Emulation.clearIdleOverride")}}async emulateVisionDeficiency(e){const t=new Set(["none","achromatopsia","blurredVision","deuteranopia","protanopia","tritanopia"]);try{u.assert(!e||t.has(e),`Unsupported vision deficiency: ${e}`);await this._client.send("Emulation.setEmulatedVisionDeficiency",{type:e||"none"})}catch(e){throw e}}async setViewport(e){const t=await this._emulationManager.emulateViewport(e);this._viewport=e;if(t)await this.reload()}viewport(){return this._viewport}async evaluate(e,...t){return this._frameManager.mainFrame().evaluate(e,...t)}async evaluateOnNewDocument(e,...t){const r=d.helper.evaluationString(e,...t);await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:r})}async setCacheEnabled(e=true){await this._frameManager.networkManager().setCacheEnabled(e)}async screenshot(e={}){let t=null;if(e.type){u.assert(e.type==="png"||e.type==="jpeg","Unknown options.type value: "+e.type);t=e.type}else if(e.path){const r=e.path;const n=r.slice(r.lastIndexOf(".")+1).toLowerCase();if(n==="png")t="png";else if(n==="jpg"||n==="jpeg")t="jpeg";u.assert(t,`Unsupported screenshot type for extension \`.${n}\``)}if(!t)t="png";if(e.quality){u.assert(t==="jpeg","options.quality is unsupported for the "+t+" screenshots");u.assert(typeof e.quality==="number","Expected options.quality to be a number but found "+typeof e.quality);u.assert(Number.isInteger(e.quality),"Expected options.quality to be an integer");u.assert(e.quality>=0&&e.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.quality)}u.assert(!e.clip||!e.fullPage,"options.clip and options.fullPage are exclusive");if(e.clip){u.assert(typeof e.clip.x==="number","Expected options.clip.x to be a number but found "+typeof e.clip.x);u.assert(typeof e.clip.y==="number","Expected options.clip.y to be a number but found "+typeof e.clip.y);u.assert(typeof e.clip.width==="number","Expected options.clip.width to be a number but found "+typeof e.clip.width);u.assert(typeof e.clip.height==="number","Expected options.clip.height to be a number but found "+typeof e.clip.height);u.assert(e.clip.width!==0,"Expected options.clip.width not to be 0.");u.assert(e.clip.height!==0,"Expected options.clip.height not to be 0.")}return this._screenshotTaskQueue.postTask(()=>this._screenshotTask(t,e))}async _screenshotTask(e,t){await this._client.send("Target.activateTarget",{targetId:this._target._targetId});let r=t.clip?processClip(t.clip):undefined;if(t.fullPage){const e=await this._client.send("Page.getLayoutMetrics");const t=Math.ceil(e.contentSize.width);const n=Math.ceil(e.contentSize.height);r={x:0,y:0,width:t,height:n,scale:1};const{isMobile:i=false,deviceScaleFactor:o=1,isLandscape:s=false}=this._viewport||{};const a=s?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"};await this._client.send("Emulation.setDeviceMetricsOverride",{mobile:i,width:t,height:n,deviceScaleFactor:o,screenOrientation:a})}const n=t.omitBackground&&e==="png";if(n)await this._client.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}});const i=await this._client.send("Page.captureScreenshot",{format:e,quality:t.quality,clip:r});if(n)await this._client.send("Emulation.setDefaultBackgroundColorOverride");if(t.fullPage&&this._viewport)await this.setViewport(this._viewport);const o=t.encoding==="base64"?i.data:Buffer.from(i.data,"base64");if(!v.isNode&&t.path){throw new Error("Screenshots can only be written to a file path in a Node environment.")}const s=await d.helper.importFSModule();if(t.path)await s.promises.writeFile(t.path,o);return o;function processClip(e){const t=Math.round(e.x);const r=Math.round(e.y);const n=Math.round(e.width+e.x-t);const i=Math.round(e.height+e.y-r);return{x:t,y:r,width:n,height:i,scale:1}}}async pdf(e={}){const{scale:t=1,displayHeaderFooter:r=false,headerTemplate:n="",footerTemplate:i="",printBackground:o=false,landscape:s=false,pageRanges:a="",preferCSSPageSize:c=false,margin:l={},path:f=null}=e;let h=8.5;let p=11;if(e.format){const t=b.paperFormats[e.format.toLowerCase()];u.assert(t,"Unknown paper format: "+e.format);h=t.width;p=t.height}else{h=convertPrintParameterToInches(e.width)||h;p=convertPrintParameterToInches(e.height)||p}const m=convertPrintParameterToInches(l.top)||0;const g=convertPrintParameterToInches(l.left)||0;const y=convertPrintParameterToInches(l.bottom)||0;const w=convertPrintParameterToInches(l.right)||0;const _=await this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:s,displayHeaderFooter:r,headerTemplate:n,footerTemplate:i,printBackground:o,scale:t,paperWidth:h,paperHeight:p,marginTop:m,marginBottom:y,marginLeft:g,marginRight:w,pageRanges:a,preferCSSPageSize:c});return await d.helper.readProtocolStream(this._client,_.stream,f)}async title(){return this.mainFrame().title()}async close(e={runBeforeUnload:undefined}){u.assert(!!this._client._connection,"Protocol error: Connection closed. Most likely the page has been closed.");const t=!!e.runBeforeUnload;if(t){await this._client.send("Page.close")}else{await this._client._connection.send("Target.closeTarget",{targetId:this._target._targetId});await this._target._isClosedPromise}}isClosed(){return this._closed}get mouse(){return this._mouse}click(e,t={}){return this.mainFrame().click(e,t)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...t){return this.mainFrame().select(e,...t)}tap(e){return this.mainFrame().tap(e)}type(e,t,r){return this.mainFrame().type(e,t,r)}waitFor(e,t={},...r){return this.mainFrame().waitFor(e,t,...r)}waitForTimeout(e){return this.mainFrame().waitForTimeout(e)}waitForSelector(e,t={}){return this.mainFrame().waitForSelector(e,t)}waitForXPath(e,t={}){return this.mainFrame().waitForXPath(e,t)}waitForFunction(e,t={},...r){return this.mainFrame().waitForFunction(e,t,...r)}}t.Page=Page;const E=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]);const k={px:1,in:96,cm:37.8,mm:3.78};function convertPrintParameterToInches(e){if(typeof e==="undefined")return undefined;let t;if(d.helper.isNumber(e)){t=e}else if(d.helper.isString(e)){const r=e;let n=r.substring(r.length-2).toLowerCase();let i="";if(k.hasOwnProperty(n)){i=r.substring(0,r.length-2)}else{n="px";i=r}const o=Number(i);u.assert(!isNaN(o),"Failed to parse parameter value: "+r);t=o*k[n]}else{throw new Error("page.pdf() Cannot handle parameter type: "+typeof e)}return t/96}},8727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Puppeteer=void 0;const n=r(9749);const i=r(6134);const o=r(446);const s=r(6138);class Puppeteer{constructor(e){this._changedProduct=false;this._isPuppeteerCore=e.isPuppeteerCore}connect(e){return s.connectToBrowser(e)}get devices(){return i.devicesMap}get errors(){return n.puppeteerErrors}registerCustomQueryHandler(e,t){o.registerCustomQueryHandler(e,t)}unregisterCustomQueryHandler(e){o.unregisterCustomQueryHandler(e)}customQueryHandlerNames(){return o.customQueryHandlerNames()}clearCustomQueryHandlers(){o.clearCustomQueryHandlers()}}t.Puppeteer=Puppeteer},446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getQueryHandlerAndSelector=t.clearCustomQueryHandlers=t.customQueryHandlerNames=t.unregisterCustomQueryHandler=t.registerCustomQueryHandler=void 0;const n=r(3305);function makeQueryHandler(e){const t={};if(e.queryOne){t.queryOne=(async(t,r)=>{const n=await t.evaluateHandle(e.queryOne,r);const i=n.asElement();if(i)return i;await n.dispose();return null});t.waitFor=((t,r,n)=>t.waitForSelectorInPage(e.queryOne,r,n))}if(e.queryAll){t.queryAll=(async(t,r)=>{const n=await t.evaluateHandle(e.queryAll,r);const i=await n.getProperties();await n.dispose();const o=[];for(const e of i.values()){const t=e.asElement();if(t)o.push(t)}return o});t.queryAllArray=(async(t,r)=>{const n=await t.evaluateHandle(e.queryAll,r);const i=await n.evaluateHandle(e=>Array.from(e));return i})}return t}const i=makeQueryHandler({queryOne:(e,t)=>e.querySelector(t),queryAll:(e,t)=>e.querySelectorAll(t)});const o=makeQueryHandler({queryOne:(e,t)=>{let r=null;const n=e=>{const i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const e=i.currentNode;if(e.shadowRoot){n(e.shadowRoot)}if(e instanceof ShadowRoot){continue}if(!r&&e.matches(t)){r=e}}while(!r&&i.nextNode())};if(e instanceof Document){e=e.documentElement}n(e);return r},queryAll:(e,t)=>{const r=[];const n=e=>{const i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const e=i.currentNode;if(e.shadowRoot){n(e.shadowRoot)}if(e instanceof ShadowRoot){continue}if(e.matches(t)){r.push(e)}}while(i.nextNode())};if(e instanceof Document){e=e.documentElement}n(e);return r}});const s=new Map([["aria",n.ariaHandler],["pierce",o]]);const a=new Map(s);function registerCustomQueryHandler(e,t){if(a.get(e))throw new Error(`A custom query handler named "${e}" already exists`);const r=/^[a-zA-Z]+$/.test(e);if(!r)throw new Error(`Custom query handler names may only contain [a-zA-Z]`);const n=makeQueryHandler(t);a.set(e,n)}t.registerCustomQueryHandler=registerCustomQueryHandler;function unregisterCustomQueryHandler(e){if(a.has(e)&&!s.has(e)){a.delete(e)}}t.unregisterCustomQueryHandler=unregisterCustomQueryHandler;function customQueryHandlerNames(){return[...a.keys()].filter(e=>!s.has(e))}t.customQueryHandlerNames=customQueryHandlerNames;function clearCustomQueryHandlers(){customQueryHandlerNames().forEach(unregisterCustomQueryHandler)}t.clearCustomQueryHandlers=clearCustomQueryHandlers;function getQueryHandlerAndSelector(e){const t=/^[a-zA-Z]+\//.test(e);if(!t)return{updatedSelector:e,queryHandler:i};const r=e.indexOf("/");const n=e.slice(0,r);const o=e.slice(r+1);const s=a.get(n);if(!s)throw new Error(`Query set to use "${n}", but no query handler of that name was found`);return{updatedSelector:o,queryHandler:s}}t.getQueryHandlerAndSelector=getQueryHandlerAndSelector},7253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SecurityDetails=void 0;class SecurityDetails{constructor(e){this._subjectName=e.subjectName;this._issuer=e.issuer;this._validFrom=e.validFrom;this._validTo=e.validTo;this._protocol=e.protocol;this._sanList=e.sanList}issuer(){return this._issuer}validFrom(){return this._validFrom}validTo(){return this._validTo}protocol(){return this._protocol}subjectName(){return this._subjectName}subjectAlternativeNames(){return this._sanList}}t.SecurityDetails=SecurityDetails},3632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Target=void 0;const n=r(2645);const i=r(5630);class Target{constructor(e,t,r,n,i){this._targetInfo=e;this._browserContext=t;this._targetId=e.targetId;this._sessionFactory=r;this._ignoreHTTPSErrors=n;this._defaultViewport=i;this._pagePromise=null;this._workerPromise=null;this._initializedPromise=new Promise(e=>this._initializedCallback=e).then(async e=>{if(!e)return false;const t=this.opener();if(!t||!t._pagePromise||this.type()!=="page")return true;const r=await t._pagePromise;if(!r.listenerCount("popup"))return true;const n=await this.page();r.emit("popup",n);return true});this._isClosedPromise=new Promise(e=>this._closedCallback=e);this._isInitialized=this._targetInfo.type!=="page"||this._targetInfo.url!=="";if(this._isInitialized)this._initializedCallback(true)}createCDPSession(){return this._sessionFactory()}async page(){if((this._targetInfo.type==="page"||this._targetInfo.type==="background_page"||this._targetInfo.type==="webview")&&!this._pagePromise){this._pagePromise=this._sessionFactory().then(e=>n.Page.create(e,this,this._ignoreHTTPSErrors,this._defaultViewport))}return this._pagePromise}async worker(){if(this._targetInfo.type!=="service_worker"&&this._targetInfo.type!=="shared_worker")return null;if(!this._workerPromise){this._workerPromise=this._sessionFactory().then(e=>new i.WebWorker(e,this._targetInfo.url,()=>{},()=>{}))}return this._workerPromise}url(){return this._targetInfo.url}type(){const e=this._targetInfo.type;if(e==="page"||e==="background_page"||e==="service_worker"||e==="shared_worker"||e==="browser"||e==="webview")return e;return"other"}browser(){return this._browserContext.browser()}browserContext(){return this._browserContext}opener(){const{openerId:e}=this._targetInfo;if(!e)return null;return this.browser()._targets.get(e)}_targetInfoChanged(e){this._targetInfo=e;if(!this._isInitialized&&(this._targetInfo.type!=="page"||this._targetInfo.url!=="")){this._isInitialized=true;this._initializedCallback(true);return}}}t.Target=Target},8321:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TimeoutSettings=void 0;const r=3e4;class TimeoutSettings{constructor(){this._defaultTimeout=null;this._defaultNavigationTimeout=null}setDefaultTimeout(e){this._defaultTimeout=e}setDefaultNavigationTimeout(e){this._defaultNavigationTimeout=e}navigationTimeout(){if(this._defaultNavigationTimeout!==null)return this._defaultNavigationTimeout;if(this._defaultTimeout!==null)return this._defaultTimeout;return r}timeout(){if(this._defaultTimeout!==null)return this._defaultTimeout;return r}}t.TimeoutSettings=TimeoutSettings},2776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Tracing=void 0;const n=r(7692);const i=r(1184);class Tracing{constructor(e){this._recording=false;this._path="";this._client=e}async start(e={}){n.assert(!this._recording,"Cannot start recording trace while already recording trace.");const t=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"];const{path:r=null,screenshots:i=false,categories:o=t}=e;if(i)o.push("disabled-by-default-devtools.screenshot");this._path=r;this._recording=true;await this._client.send("Tracing.start",{transferMode:"ReturnAsStream",categories:o.join(",")})}async stop(){let e;let t;const r=new Promise((r,n)=>{e=r;t=n});this._client.once("Tracing.tracingComplete",r=>{i.helper.readProtocolStream(this._client,r.stream,this._path).then(e,t)});await this._client.send("Tracing.end");this._recording=false;return r}}t.Tracing=Tracing},7457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.keyDefinitions=void 0;t.keyDefinitions={0:{keyCode:48,key:"0",code:"Digit0"},1:{keyCode:49,key:"1",code:"Digit1"},2:{keyCode:50,key:"2",code:"Digit2"},3:{keyCode:51,key:"3",code:"Digit3"},4:{keyCode:52,key:"4",code:"Digit4"},5:{keyCode:53,key:"5",code:"Digit5"},6:{keyCode:54,key:"6",code:"Digit6"},7:{keyCode:55,key:"7",code:"Digit7"},8:{keyCode:56,key:"8",code:"Digit8"},9:{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"},SoftLeft:{key:"SoftLeft",code:"SoftLeft",location:4},SoftRight:{key:"SoftRight",code:"SoftRight",location:4},Camera:{keyCode:44,key:"Camera",code:"Camera",location:4},Call:{key:"Call",code:"Call",location:4},EndCall:{keyCode:95,key:"EndCall",code:"EndCall",location:4},VolumeDown:{keyCode:182,key:"VolumeDown",code:"VolumeDown",location:4},VolumeUp:{keyCode:183,key:"VolumeUp",code:"VolumeUp",location:4}}},5630:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.WebWorker=void 0;const n=r(5039);const i=r(1184);const o=r(4164);const s=r(9724);class WebWorker extends n.EventEmitter{constructor(e,t,r,n){super();this._client=e;this._url=t;this._executionContextPromise=new Promise(e=>this._executionContextCallback=e);let a;this._client.once("Runtime.executionContextCreated",async t=>{a=(t=>new s.JSHandle(r,e,t));const r=new o.ExecutionContext(e,t.context,null);this._executionContextCallback(r)});this._client.send("Runtime.enable").catch(i.debugError);this._client.on("Runtime.consoleAPICalled",e=>r(e.type,e.args.map(a),e.stackTrace));this._client.on("Runtime.exceptionThrown",e=>n(e.exceptionDetails))}url(){return this._url}async executionContext(){return this._executionContextPromise}async evaluate(e,...t){return(await this._executionContextPromise).evaluate(e,...t)}async evaluateHandle(e,...t){return(await this._executionContextPromise).evaluateHandle(e,...t)}}t.WebWorker=WebWorker},7692:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.assert=void 0;t.assert=((e,t)=>{if(!e)throw new Error(t)})},9453:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.getFetch=void 0;const s=r(2777);t.getFetch=(async()=>{return s.isNode?await Promise.resolve().then(()=>o(r(467))):globalThis.fetch})},1184:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.helper=t.debugError=void 0;const s=r(9749);const a=r(5490);const c=r(7692);const l=r(2777);t.debugError=a.debug("puppeteer:error");function getExceptionMessage(e){if(e.exception)return e.exception.description||e.exception.value;let t=e.text;if(e.stackTrace){for(const r of e.stackTrace.callFrames){const e=r.url+":"+r.lineNumber+":"+r.columnNumber;const n=r.functionName||"<anonymous>";t+=`\n    at ${n} (${e})`}}return t}function valueFromRemoteObject(e){c.assert(!e.objectId,"Cannot extract value when objectId is given");if(e.unserializableValue){if(e.type==="bigint"&&typeof BigInt!=="undefined")return BigInt(e.unserializableValue.replace("n",""));switch(e.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return Infinity;case"-Infinity":return-Infinity;default:throw new Error("Unsupported unserializable value: "+e.unserializableValue)}}return e.value}async function releaseObject(e,r){if(!r.objectId)return;await e.send("Runtime.releaseObject",{objectId:r.objectId}).catch(e=>{t.debugError(e)})}function addEventListener(e,t,r){e.on(t,r);return{emitter:e,eventName:t,handler:r}}function removeEventListeners(e){for(const t of e)t.emitter.removeListener(t.eventName,t.handler);e.length=0}function isString(e){return typeof e==="string"||e instanceof String}function isNumber(e){return typeof e==="number"||e instanceof Number}async function waitForEvent(e,t,r,n,i){let o,a,c;const l=new Promise((e,t)=>{a=e;c=t});const u=addEventListener(e,t,e=>{if(!r(e))return;a(e)});if(n){o=setTimeout(()=>{c(new s.TimeoutError("Timeout exceeded while waiting for event"))},n)}function cleanup(){removeEventListeners([u]);clearTimeout(o)}const d=await Promise.race([l,i]).then(e=>{cleanup();return e},e=>{cleanup();throw e});if(d instanceof Error)throw d;return d}function evaluationString(e,...t){if(isString(e)){c.assert(t.length===0,"Cannot evaluate a string with arguments");return e}function serializeArgument(e){if(Object.is(e,undefined))return"undefined";return JSON.stringify(e)}return`(${e})(${t.map(serializeArgument).join(",")})`}function pageBindingInitString(e,t){function addPageBinding(e,t){const r=window;const n=r[t];r[t]=((...r)=>{const i=window[t];let o=i.callbacks;if(!o){o=new Map;i.callbacks=o}const s=(i.lastSeq||0)+1;i.lastSeq=s;const a=new Promise((e,t)=>o.set(s,{resolve:e,reject:t}));n(JSON.stringify({type:e,name:t,seq:s,args:r}));return a})}return evaluationString(addPageBinding,e,t)}function pageBindingDeliverResultString(e,t,r){function deliverResult(e,t,r){window[e].callbacks.get(t).resolve(r);window[e].callbacks.delete(t)}return evaluationString(deliverResult,e,t,r)}function pageBindingDeliverErrorString(e,t,r,n){function deliverError(e,t,r,n){const i=new Error(r);i.stack=n;window[e].callbacks.get(t).reject(i);window[e].callbacks.delete(t)}return evaluationString(deliverError,e,t,r,n)}function pageBindingDeliverErrorValueString(e,t,r){function deliverErrorValue(e,t,r){window[e].callbacks.get(t).reject(r);window[e].callbacks.delete(t)}return evaluationString(deliverErrorValue,e,t,r)}function makePredicateString(e,t){function checkWaitForOptions(e,t,r){if(!e)return r;if(!t&&!r)return e;const n=e.nodeType===Node.TEXT_NODE?e.parentElement:e;const i=window.getComputedStyle(n);const o=i&&i.visibility!=="hidden"&&hasVisibleBoundingBox();const s=t===o||r===!o;return s?e:null;function hasVisibleBoundingBox(){const e=n.getBoundingClientRect();return!!(e.top||e.bottom||e.width||e.height)}}const r=t?`const predicateQueryHandler = ${t};`:"";return`\n    (() => {\n      ${r}\n      const checkWaitForOptions = ${checkWaitForOptions};\n      return (${e})(...args)\n    })() `}async function waitWithTimeout(e,t,r){let n;const i=new s.TimeoutError(`waiting for ${t} failed: timeout ${r}ms exceeded`);const o=new Promise((e,t)=>n=t);let a=null;if(r)a=setTimeout(()=>n(i),r);try{return await Promise.race([e,o])}finally{if(a)clearTimeout(a)}}async function readProtocolStream(e,t,r){if(!l.isNode&&r){throw new Error("Cannot write to a path outside of Node.js environment.")}const n=l.isNode?await importFSModule():null;let i=false;let o;if(r&&n){o=await n.promises.open(r,"w")}const s=[];while(!i){const a=await e.send("IO.read",{handle:t});i=a.eof;const c=Buffer.from(a.data,a.base64Encoded?"base64":undefined);s.push(c);if(r&&n){await n.promises.writeFile(o,c)}}if(r)await o.close();await e.send("IO.close",{handle:t});let a=null;try{a=Buffer.concat(s)}finally{return a}}async function importFSModule(){if(!l.isNode){throw new Error("Cannot load the fs module API outside of Node.")}const e=await Promise.resolve().then(()=>o(r(5747)));if(e.promises){return e}return e.default}t.helper={evaluationString:evaluationString,pageBindingInitString:pageBindingInitString,pageBindingDeliverResultString:pageBindingDeliverResultString,pageBindingDeliverErrorString:pageBindingDeliverErrorString,pageBindingDeliverErrorValueString:pageBindingDeliverErrorValueString,makePredicateString:makePredicateString,readProtocolStream:readProtocolStream,waitWithTimeout:waitWithTimeout,waitForEvent:waitForEvent,isString:isString,isNumber:isNumber,importFSModule:importFSModule,addEventListener:addEventListener,removeEventListeners:removeEventListeners,valueFromRemoteObject:valueFromRemoteObject,getExceptionMessage:getExceptionMessage,releaseObject:releaseObject}},2777:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isNode=void 0;t.isNode=!!(typeof process!=="undefined"&&process.version)},7639:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.initializePuppeteerNode=void 0;const i=r(5467);const o=r(975);const s=n(r(8098));t.initializePuppeteerNode=(e=>{const t=s.default.sync(__dirname);let r=o.PUPPETEER_REVISIONS.chromium;const n=e==="puppeteer-core";const a=n?undefined:process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product;if(!n&&a==="firefox")r=o.PUPPETEER_REVISIONS.firefox;return new i.PuppeteerNode({projectRoot:t,preferredRevision:r,isPuppeteerCore:n,productName:a})})},1695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(7639);const i=r(2777);if(!i.isNode){throw new Error("Trying to run Puppeteer-Node in a web environment.")}t.default=n.initializePuppeteerNode("puppeteer")},2922:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.BrowserFetcher=void 0;const a=o(r(2087));const c=o(r(5747));const l=o(r(5622));const u=o(r(1669));const d=o(r(3129));const f=o(r(7211));const h=o(r(8605));const p=s(r(460));const m=r(5490);const g=r(1669);const y=s(r(4959));const w=o(r(8835));const _=s(r(3436));const b=r(3329);const v=r(7692);const E=m.debug(`puppeteer:fetcher`);const k={chrome:{linux:"%s/chromium-browser-snapshots/Linux_x64/%d/%s.zip",mac:"%s/chromium-browser-snapshots/Mac/%d/%s.zip",win32:"%s/chromium-browser-snapshots/Win/%d/%s.zip",win64:"%s/chromium-browser-snapshots/Win_x64/%d/%s.zip"},firefox:{linux:"%s/firefox-%s.en-US.%s-x86_64.tar.bz2",mac:"%s/firefox-%s.en-US.%s.dmg",win32:"%s/firefox-%s.en-US.%s.zip",win64:"%s/firefox-%s.en-US.%s.zip"}};const T={chrome:{host:"https://storage.googleapis.com",destination:".local-chromium"},firefox:{host:"https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central",destination:".local-firefox"}};function archiveName(e,t,r){if(e==="chrome"){if(t==="linux")return"chrome-linux";if(t==="mac")return"chrome-mac";if(t==="win32"||t==="win64"){return parseInt(r,10)>591479?"chrome-win":"chrome-win32"}}else if(e==="firefox"){return t}}function downloadURL(e,t,r,n){const i=u.format(k[e][t],r,n,archiveName(e,t,n));return i}function handleArm64(){c.stat("/usr/bin/chromium-browser",function(e,t){if(t===undefined){console.error(`The chromium binary is not available for arm64: `);console.error(`If you are on Ubuntu, you can install with: `);console.error(`\n apt-get install chromium-browser\n`);throw new Error}})}const S=g.promisify(c.readdir.bind(c));const C=g.promisify(c.mkdir.bind(c));const P=g.promisify(c.unlink.bind(c));const O=g.promisify(c.chmod.bind(c));function existsAsync(e){return new Promise(t=>{c.access(e,e=>t(!e))})}class BrowserFetcher{constructor(e,t={}){this._product=(t.product||"chrome").toLowerCase();v.assert(this._product==="chrome"||this._product==="firefox",`Unknown product: "${t.product}"`);this._downloadsFolder=t.path||l.join(e,T[this._product].destination);this._downloadHost=t.host||T[this._product].host;this.setPlatform(t.platform);v.assert(k[this._product][this._platform],"Unsupported platform: "+this._platform)}setPlatform(e){if(e){this._platform=e;return}const t=a.platform();if(t==="darwin")this._platform="mac";else if(t==="linux")this._platform="linux";else if(t==="win32")this._platform=a.arch()==="x64"?"win64":"win32";else v.assert(this._platform,"Unsupported platform: "+a.platform())}platform(){return this._platform}product(){return this._product}host(){return this._downloadHost}canDownload(e){const t=downloadURL(this._product,this._platform,this._downloadHost,e);return new Promise(e=>{const r=httpRequest(t,"HEAD",t=>{e(t.statusCode===200)});r.on("error",t=>{console.error(t);e(false)})})}async download(e,t=(()=>{})){const r=downloadURL(this._product,this._platform,this._downloadHost,e);const n=r.split("/").pop();const i=l.join(this._downloadsFolder,n);const o=this._getFolderPath(e);if(await existsAsync(o))return this.revisionInfo(e);if(!await existsAsync(this._downloadsFolder))await C(this._downloadsFolder);if(a.arch()==="arm64"){handleArm64();return}try{await downloadFile(r,i,t);await install(i,o)}finally{if(await existsAsync(i))await P(i)}const s=this.revisionInfo(e);if(s)await O(s.executablePath,493);return s}async localRevisions(){if(!await existsAsync(this._downloadsFolder))return[];const e=await S(this._downloadsFolder);return e.map(e=>parseFolderPath(this._product,e)).filter(e=>e&&e.platform===this._platform).map(e=>e.revision)}async remove(e){const t=this._getFolderPath(e);v.assert(await existsAsync(t),`Failed to remove: revision ${e} is not downloaded`);await new Promise(e=>y.default(t,e))}revisionInfo(e){const t=this._getFolderPath(e);let r="";if(this._product==="chrome"){if(this._platform==="mac")r=l.join(t,archiveName(this._product,this._platform,e),"Chromium.app","Contents","MacOS","Chromium");else if(this._platform==="linux")r=l.join(t,archiveName(this._product,this._platform,e),"chrome");else if(this._platform==="win32"||this._platform==="win64")r=l.join(t,archiveName(this._product,this._platform,e),"chrome.exe");else throw new Error("Unsupported platform: "+this._platform)}else if(this._product==="firefox"){if(this._platform==="mac")r=l.join(t,"Firefox Nightly.app","Contents","MacOS","firefox");else if(this._platform==="linux")r=l.join(t,"firefox","firefox");else if(this._platform==="win32"||this._platform==="win64")r=l.join(t,"firefox","firefox.exe");else throw new Error("Unsupported platform: "+this._platform)}else{throw new Error("Unsupported product: "+this._product)}const n=downloadURL(this._product,this._platform,this._downloadHost,e);const i=c.existsSync(t);E({revision:e,executablePath:r,folderPath:t,local:i,url:n,product:this._product});return{revision:e,executablePath:r,folderPath:t,local:i,url:n,product:this._product}}_getFolderPath(e){return l.join(this._downloadsFolder,this._platform+"-"+e)}}t.BrowserFetcher=BrowserFetcher;function parseFolderPath(e,t){const r=l.basename(t);const n=r.split("-");if(n.length!==2)return null;const[i,o]=n;if(!k[e][i])return null;return{product:e,platform:i,revision:o}}function downloadFile(e,t,r){E(`Downloading binary from ${e}`);let n,i;let o=0;let s=0;const a=new Promise((e,t)=>{n=e;i=t});const l=httpRequest(e,"GET",o=>{if(o.statusCode!==200){const t=new Error(`Download failed: server returned code ${o.statusCode}. URL: ${e}`);o.resume();i(t);return}const a=c.createWriteStream(t);a.on("finish",()=>n());a.on("error",e=>i(e));o.pipe(a);s=parseInt(o.headers["content-length"],10);if(r)o.on("data",onData)});l.on("error",e=>i(e));return a;function onData(e){o+=e.length;r(o,s)}}function install(e,t){E(`Installing ${e} to ${t}`);if(e.endsWith(".zip"))return p.default(e,{dir:t});else if(e.endsWith(".tar.bz2"))return extractTar(e,t);else if(e.endsWith(".dmg"))return C(t).then(()=>installDMG(e,t));else throw new Error(`Unsupported archive format: ${e}`)}function extractTar(e,t){const n=r(366);const i=r(3467);return new Promise((r,o)=>{const s=n.extract(t);s.on("error",o);s.on("finish",r);const a=c.createReadStream(e);a.pipe(i()).pipe(s)})}function installDMG(e,t){let r;function mountAndCopy(n,i){const o=`hdiutil attach -nobrowse -noautoopen "${e}"`;d.exec(o,(e,o)=>{if(e)return i(e);const s=o.match(/\/Volumes\/(.*)/m);if(!s)return i(new Error(`Could not find volume path in ${o}`));r=s[0];S(r).then(e=>{const o=e.filter(e=>typeof e==="string"&&e.endsWith(".app"))[0];if(!o)return i(new Error(`Cannot find app in ${r}`));const s=l.join(r,o);E(`Copying ${s} to ${t}`);d.exec(`cp -R "${s}" "${t}"`,e=>{if(e)i(e);else n()})}).catch(i)})}function unmount(){if(!r)return;const e=`hdiutil detach "${r}" -quiet`;E(`Unmounting ${r}`);d.exec(e,e=>{if(e)console.error(`Error unmounting dmg: ${e}`)})}return new Promise(mountAndCopy).catch(e=>{console.error(e)}).finally(unmount)}function httpRequest(e,t,r){const n=w.parse(e);let i={...n,method:t};const o=b.getProxyForUrl(e);if(o){if(e.startsWith("http:")){const e=w.parse(o);i={path:i.href,host:e.hostname,port:e.port}}else{const e=w.parse(o);const t={...e,secureProxy:e.protocol==="https:"};i.agent=new _.default(t);i.rejectUnauthorized=false}}const s=e=>{if(e.statusCode>=300&&e.statusCode<400&&e.headers.location)httpRequest(e.headers.location,t,r);else r(e)};const a=i.protocol==="https:"?f.request(i,s):h.request(i,s);a.end();return a}},9788:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.BrowserRunner=void 0;const a=r(5490);const c=s(r(4959));const l=o(r(3129));const u=r(7692);const d=r(1184);const f=r(3772);const h=r(556);const p=r(6343);const m=o(r(1058));const g=r(9749);const y=r(1669);const w=y.promisify(c.default);const _=a.debug("puppeteer:launcher");const b=`Puppeteer was unable to kill the process which ran the browser binary.\nThis means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.\nPlease check your open processes and ensure that the browser processes that Puppeteer launched have been killed.\nIf you think this is a bug, please report it on the Puppeteer issue tracker.`;class BrowserRunner{constructor(e,t,r){this.proc=null;this.connection=null;this._closed=true;this._listeners=[];this._executablePath=e;this._processArguments=t;this._tempDirectory=r}start(e){const{handleSIGINT:t,handleSIGTERM:r,handleSIGHUP:n,dumpio:i,env:o,pipe:s}=e;let a=["pipe","pipe","pipe"];if(s){if(i)a=["ignore","pipe","pipe","pipe","pipe"];else a=["ignore","ignore","ignore","pipe","pipe"]}u.assert(!this.proc,"This process has previously been started.");_(`Calling ${this._executablePath} ${this._processArguments.join(" ")}`);this.proc=l.spawn(this._executablePath,this._processArguments,{detached:process.platform!=="win32",env:o,stdio:a});if(i){this.proc.stderr.pipe(process.stderr);this.proc.stdout.pipe(process.stdout)}this._closed=false;this._processClosing=new Promise(e=>{this.proc.once("exit",()=>{this._closed=true;if(this._tempDirectory){w(this._tempDirectory).then(()=>e()).catch(e=>console.error(e))}else{e()}})});this._listeners=[d.helper.addEventListener(process,"exit",this.kill.bind(this))];if(t)this._listeners.push(d.helper.addEventListener(process,"SIGINT",()=>{this.kill();process.exit(130)}));if(r)this._listeners.push(d.helper.addEventListener(process,"SIGTERM",this.close.bind(this)));if(n)this._listeners.push(d.helper.addEventListener(process,"SIGHUP",this.close.bind(this)))}close(){if(this._closed)return Promise.resolve();if(this._tempDirectory){this.kill()}else if(this.connection){this.connection.send("Browser.close").catch(e=>{d.debugError(e);this.kill()})}d.helper.removeEventListeners(this._listeners);return this._processClosing}kill(){try{c.default.sync(this._tempDirectory)}catch(e){}if(this.proc&&this.proc.pid&&!this.proc.killed){try{this.proc.kill("SIGKILL")}catch(e){throw new Error(`${b}\nError cause: ${e.stack}`)}}d.helper.removeEventListeners(this._listeners)}async setupConnection(e){const{usePipe:t,timeout:r,slowMo:n,preferredRevision:i}=e;if(!t){const e=await waitForWSEndpoint(this.proc,r,i);const t=await h.NodeWebSocketTransport.create(e);this.connection=new f.Connection(e,t,n)}else{const{3:e,4:t}=this.proc.stdio;const r=new p.PipeTransport(e,t);this.connection=new f.Connection("",r,n)}return this.connection}}t.BrowserRunner=BrowserRunner;function waitForWSEndpoint(e,t,r){return new Promise((n,i)=>{const o=m.createInterface({input:e.stderr});let s="";const a=[d.helper.addEventListener(o,"line",onLine),d.helper.addEventListener(o,"close",()=>onClose()),d.helper.addEventListener(e,"exit",()=>onClose()),d.helper.addEventListener(e,"error",e=>onClose(e))];const c=t?setTimeout(onTimeout,t):0;function onClose(e){cleanup();i(new Error(["Failed to launch the browser process!"+(e?" "+e.message:""),s,"","TROUBLESHOOTING: https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md",""].join("\n")))}function onTimeout(){cleanup();i(new g.TimeoutError(`Timed out after ${t} ms while trying to connect to the browser! Only Chrome at revision r${r} is guaranteed to work.`))}function onLine(e){s+=e+"\n";const t=e.match(/^DevTools listening on (ws:\/\/.*)$/);if(!t)return;cleanup();n(t[1])}function cleanup(){if(c)clearTimeout(c);d.helper.removeEventListeners(a)}})}},258:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});const s=o(r(2087));const a=o(r(5622));const c=o(r(5747));const l=r(2922);const u=r(3956);const d=r(9788);const f=r(1669);const h=f.promisify(c.mkdtemp);const p=f.promisify(c.writeFile);class ChromeLauncher{constructor(e,t,r){this._projectRoot=e;this._preferredRevision=t;this._isPuppeteerCore=r}async launch(e={}){const{ignoreDefaultArgs:t=false,args:r=[],dumpio:n=false,executablePath:i=null,pipe:o=false,env:c=process.env,handleSIGINT:l=true,handleSIGTERM:f=true,handleSIGHUP:p=true,ignoreHTTPSErrors:m=false,defaultViewport:g={width:800,height:600},slowMo:y=0,timeout:w=3e4}=e;const _=a.join(s.tmpdir(),"puppeteer_dev_chrome_profile-");const b=[];if(!t)b.push(...this.defaultArgs(e));else if(Array.isArray(t))b.push(...this.defaultArgs(e).filter(e=>!t.includes(e)));else b.push(...r);let v=null;if(!b.some(e=>e.startsWith("--remote-debugging-")))b.push(o?"--remote-debugging-pipe":"--remote-debugging-port=0");if(!b.some(e=>e.startsWith("--user-data-dir"))){v=await h(_);b.push(`--user-data-dir=${v}`)}let E=i;if(s.arch()==="arm64"){E="/usr/bin/chromium-browser"}else if(!i){const{missingText:e,executablePath:t}=resolveExecutablePath(this);if(e)throw new Error(e);E=t}const k=b.includes("--remote-debugging-pipe");const T=new d.BrowserRunner(E,b,v);T.start({handleSIGHUP:p,handleSIGTERM:f,handleSIGINT:l,dumpio:n,env:c,pipe:k});try{const e=await T.setupConnection({usePipe:k,timeout:w,slowMo:y,preferredRevision:this._preferredRevision});const t=await u.Browser.create(e,[],m,g,T.proc,T.close.bind(T));await t.waitForTarget(e=>e.type()==="page");return t}catch(e){T.kill();throw e}}defaultArgs(e={}){const t=["--disable-background-networking","--enable-features=NetworkService,NetworkServiceInProcess","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features=TranslateUI","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--enable-automation","--password-store=basic","--use-mock-keychain","--enable-blink-features=IdleDetection"];const{devtools:r=false,headless:n=!r,args:i=[],userDataDir:o=null}=e;if(o)t.push(`--user-data-dir=${a.resolve(o)}`);if(r)t.push("--auto-open-devtools-for-tabs");if(n){t.push("--headless","--hide-scrollbars","--mute-audio")}if(i.every(e=>e.startsWith("-")))t.push("about:blank");t.push(...i);return t}executablePath(){return resolveExecutablePath(this).executablePath}get product(){return"chrome"}}class FirefoxLauncher{constructor(e,t,r){this._projectRoot=e;this._preferredRevision=t;this._isPuppeteerCore=r}async launch(e={}){const{ignoreDefaultArgs:t=false,args:r=[],dumpio:n=false,executablePath:i=null,pipe:o=false,env:s=process.env,handleSIGINT:a=true,handleSIGTERM:c=true,handleSIGHUP:l=true,ignoreHTTPSErrors:f=false,defaultViewport:h={width:800,height:600},slowMo:p=0,timeout:m=3e4,extraPrefsFirefox:g={}}=e;const y=[];if(!t)y.push(...this.defaultArgs(e));else if(Array.isArray(t))y.push(...this.defaultArgs(e).filter(e=>!t.includes(e)));else y.push(...r);if(!y.some(e=>e.startsWith("--remote-debugging-")))y.push("--remote-debugging-port=0");let w=null;if(!y.includes("-profile")&&!y.includes("--profile")){w=await this._createProfile(g);y.push("--profile");y.push(w)}await this._updateRevision();let _=i;if(!i){const{missingText:e,executablePath:t}=resolveExecutablePath(this);if(e)throw new Error(e);_=t}const b=new d.BrowserRunner(_,y,w);b.start({handleSIGHUP:l,handleSIGTERM:c,handleSIGINT:a,dumpio:n,env:s,pipe:o});try{const e=await b.setupConnection({usePipe:o,timeout:m,slowMo:p,preferredRevision:this._preferredRevision});const t=await u.Browser.create(e,[],f,h,b.proc,b.close.bind(b));await t.waitForTarget(e=>e.type()==="page");return t}catch(e){b.kill();throw e}}executablePath(){return resolveExecutablePath(this).executablePath}async _updateRevision(){if(this._preferredRevision==="latest"){const e=new l.BrowserFetcher(this._projectRoot,{product:this.product});const t=await e.localRevisions();if(t[0])this._preferredRevision=t[0]}}get product(){return"firefox"}defaultArgs(e={}){const t=["--no-remote","--foreground"];if(s.platform().startsWith("win")){t.push("--wait-for-browser")}const{devtools:r=false,headless:n=!r,args:i=[],userDataDir:o=null}=e;if(o){t.push("--profile");t.push(o)}if(n)t.push("--headless");if(r)t.push("--devtools");if(i.every(e=>e.startsWith("-")))t.push("about:blank");t.push(...i);return t}async _createProfile(e){const t=await h(a.join(s.tmpdir(),"puppeteer_dev_firefox_profile-"));const r=[];const n=[];const i="dummy.test";const o={"app.normandy.api_url":"","app.update.checkInstallTime":false,"app.update.disabledForTesting":true,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":true,"browser.newtabpage.activity-stream.feeds.system.topstories":false,"browser.newtabpage.enabled":false,"browser.pagethumbnails.capturing_disabled":true,"browser.safebrowsing.blockedURIs.enabled":false,"browser.safebrowsing.downloads.enabled":false,"browser.safebrowsing.malware.enabled":false,"browser.safebrowsing.passwords.enabled":false,"browser.safebrowsing.phishing.enabled":false,"browser.search.update":false,"browser.sessionstore.resume_from_crash":false,"browser.shell.checkDefaultBrowser":false,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":false,"browser.tabs.warnOnCloseOtherTabs":false,"browser.tabs.warnOnOpen":false,"browser.uitour.enabled":false,"browser.urlbar.suggest.searches":false,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":false,"datareporting.healthreport.documentServerURI":`http://${i}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":false,"datareporting.healthreport.service.enabled":false,"datareporting.healthreport.service.firstRun":false,"datareporting.healthreport.uploadEnabled":false,"datareporting.policy.dataSubmissionEnabled":false,"datareporting.policy.dataSubmissionPolicyBypassNotification":true,"devtools.jsonview.enabled":false,"dom.disable_open_during_load":false,"dom.file.createInChild":true,"dom.ipc.reportProcessHangs":false,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":false,"extensions.installDistroAddons":false,"extensions.screenshots.disabled":true,"extensions.update.enabled":false,"extensions.update.notifyUser":false,"extensions.webservice.discoverURL":`http://${i}/dummy/discoveryURL`,"focusmanager.testmode":true,"general.useragent.updates.enabled":false,"geo.provider.testing":true,"geo.wifi.scan":false,"hangmonitor.timeout":0,"javascript.options.showInConsole":true,"media.gmp-manager.updateEnabled":false,"network.cookie.cookieBehavior":0,"network.http.prompt-temp-redirect":false,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":false,"network.sntp.pools":i,"plugin.state.flash":0,"privacy.trackingprotection.enabled":false,"remote.enabled":true,"security.certerrors.mitm.priming.enabled":false,"security.fileuri.strict_origin_policy":false,"security.notification_enable_delay":0,"services.settings.server":`http://${i}/dummy/blocklist/`,"signon.autofillForms":false,"signon.rememberSignons":false,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":false,"toolkit.startup.max_resumed_crashes":-1};Object.assign(o,e);for(const[e,t]of Object.entries(o))n.push(`user_pref(${JSON.stringify(e)}, ${JSON.stringify(t)});`);await p(a.join(t,"user.js"),n.join("\n"));await p(a.join(t,"prefs.js"),r.join("\n"));return t}}function resolveExecutablePath(e){let t;if(!e._isPuppeteerCore){const e=process.env.PUPPETEER_EXECUTABLE_PATH||process.env.npm_config_puppeteer_executable_path||process.env.npm_package_config_puppeteer_executable_path;if(e){const t=!c.existsSync(e)?"Tried to use PUPPETEER_EXECUTABLE_PATH env variable to launch browser but did not find any executable at: "+e:null;return{executablePath:e,missingText:t}}t=process.env.PUPPETEER_DOWNLOAD_PATH||process.env.npm_config_puppeteer_download_path||process.env.npm_package_config_puppeteer_download_path}const r=new l.BrowserFetcher(e._projectRoot,{product:e.product,path:t});if(!e._isPuppeteerCore&&e.product==="chrome"){const e=process.env["PUPPETEER_CHROMIUM_REVISION"];if(e){const t=r.revisionInfo(e);const n=!t.local?"Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: "+t.executablePath:null;return{executablePath:t.executablePath,missingText:n}}}const n=r.revisionInfo(e._preferredRevision);const i=!n.local?`Could not find browser revision ${e._preferredRevision}. Run "PUPPETEER_PRODUCT=firefox npm install" or "PUPPETEER_PRODUCT=firefox yarn install" to download a supported Firefox browser binary.`:null;return{executablePath:n.executablePath,missingText:i}}function Launcher(e,t,r,n){if(!n&&!r)n=process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product;switch(n){case"firefox":return new FirefoxLauncher(e,t,r);case"chrome":default:if(typeof n!=="undefined"&&n!=="chrome"){console.warn(`Warning: unknown product name ${n}. Falling back to chrome.`)}return new ChromeLauncher(e,t,r)}}t.default=Launcher},556:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.NodeWebSocketTransport=void 0;const i=n(r(8867));class NodeWebSocketTransport{constructor(e){this._ws=e;this._ws.addEventListener("message",e=>{if(this.onmessage)this.onmessage.call(null,e.data)});this._ws.addEventListener("close",()=>{if(this.onclose)this.onclose.call(null)});this._ws.addEventListener("error",()=>{});this.onmessage=null;this.onclose=null}static create(e){return new Promise((t,r)=>{const n=new i.default(e,[],{perMessageDeflate:false,maxPayload:256*1024*1024});n.addEventListener("open",()=>t(new NodeWebSocketTransport(n)));n.addEventListener("error",r)})}send(e){this._ws.send(e)}close(){this._ws.close()}}t.NodeWebSocketTransport=NodeWebSocketTransport},6343:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PipeTransport=void 0;const n=r(1184);class PipeTransport{constructor(e,t){this._pipeWrite=e;this._pendingMessage="";this._eventListeners=[n.helper.addEventListener(t,"data",e=>this._dispatch(e)),n.helper.addEventListener(t,"close",()=>{if(this.onclose)this.onclose.call(null)}),n.helper.addEventListener(t,"error",n.debugError),n.helper.addEventListener(e,"error",n.debugError)];this.onmessage=null;this.onclose=null}send(e){this._pipeWrite.write(e);this._pipeWrite.write("\0")}_dispatch(e){let t=e.indexOf("\0");if(t===-1){this._pendingMessage+=e.toString();return}const r=this._pendingMessage+e.toString(undefined,0,t);if(this.onmessage)this.onmessage.call(null,r);let n=t+1;t=e.indexOf("\0",n);while(t!==-1){if(this.onmessage)this.onmessage.call(null,e.toString(undefined,n,t));n=t+1;t=e.indexOf("\0",n)}this._pendingMessage=e.toString(undefined,n)}close(){this._pipeWrite=null;n.helper.removeEventListeners(this._eventListeners)}}t.PipeTransport=PipeTransport},5467:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.PuppeteerNode=void 0;const i=r(8727);const o=r(2922);const s=n(r(258));const a=r(975);class PuppeteerNode extends i.Puppeteer{constructor(e){const{projectRoot:t,preferredRevision:r,productName:n,...i}=e;super(i);this._projectRoot=t;this.__productName=n;this._preferredRevision=r}connect(e){if(e.product)this._productName=e.product;return super.connect(e)}get _productName(){return this.__productName}set _productName(e){if(this.__productName!==e)this._changedProduct=true;this.__productName=e}launch(e={}){if(e.product)this._productName=e.product;return this._launcher.launch(e)}executablePath(){return this._launcher.executablePath()}get _launcher(){if(!this._lazyLauncher||this._lazyLauncher.product!==this._productName||this._changedProduct){switch(this._productName){case"firefox":this._preferredRevision=a.PUPPETEER_REVISIONS.firefox;break;case"chrome":default:this._preferredRevision=a.PUPPETEER_REVISIONS.chromium}this._changedProduct=false;this._lazyLauncher=s.default(this._projectRoot,this._preferredRevision,this._isPuppeteerCore,this._productName)}return this._lazyLauncher}get product(){return this._launcher.product}defaultArgs(e={}){return this._launcher.defaultArgs(e)}createBrowserFetcher(e){return new o.BrowserFetcher(this._projectRoot,e)}}t.PuppeteerNode=PuppeteerNode},395:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.logPolitely=t.downloadBrowser=void 0;const i=n(r(2087));const o=n(r(7211));const s=n(r(892));const a=n(r(1695));const c=r(975);const l={chrome:"Chromium",firefox:"Firefox Nightly"};async function downloadBrowser(){const e=process.env.PUPPETEER_DOWNLOAD_HOST||process.env.npm_config_puppeteer_download_host||process.env.npm_package_config_puppeteer_download_host;const t=process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product||"chrome";const r=process.env.PUPPETEER_DOWNLOAD_PATH||process.env.npm_config_puppeteer_download_path||process.env.npm_package_config_puppeteer_download_path;const n=a.default.createBrowserFetcher({product:t,host:e,path:r});const u=await getRevision();await fetchBinary(u);function getRevision(){if(t==="chrome"){return process.env.PUPPETEER_CHROMIUM_REVISION||process.env.npm_config_puppeteer_chromium_revision||c.PUPPETEER_REVISIONS.chromium}else if(t==="firefox"){a.default._preferredRevision=c.PUPPETEER_REVISIONS.firefox;return getFirefoxNightlyVersion().catch(e=>{console.error(e);process.exit(1)})}else{throw new Error(`Unsupported product ${t}`)}}function fetchBinary(e){const r=n.revisionInfo(e);if(r.local){logPolitely(`${l[t]} is already in ${r.folderPath}; skipping download.`);return}const o=process.env.npm_config_https_proxy||process.env.npm_config_proxy;const a=process.env.npm_config_http_proxy||process.env.npm_config_proxy;const c=process.env.npm_config_no_proxy;if(o)process.env.HTTPS_PROXY=o;if(a)process.env.HTTP_PROXY=a;if(c)process.env.NO_PROXY=c;function onSuccess(e){if(i.default.arch()!=="arm64"){logPolitely(`${l[t]} (${r.revision}) downloaded to ${r.folderPath}`)}e=e.filter(e=>e!==r.revision);const o=e.map(e=>n.remove(e));Promise.all([...o])}function onError(r){console.error(`ERROR: Failed to set up ${l[t]} r${e}! Set "PUPPETEER_SKIP_DOWNLOAD" env variable to skip download.`);console.error(r);process.exit(1)}let u=null;let d=0;function onProgress(r,n){if(!u){u=new s.default(`Downloading ${l[t]} r${e} - ${toMegabytes(n)} [:bar] :percent :etas `,{complete:"=",incomplete:" ",width:20,total:n})}const i=r-d;d=r;u.tick(i)}return n.download(r.revision,onProgress).then(()=>n.localRevisions()).then(onSuccess).catch(onError)}function toMegabytes(e){const t=e/1024/1024;return`${Math.round(t*10)/10} Mb`}function getFirefoxNightlyVersion(){const e="https://product-details.mozilla.org/1.0/firefox_versions.json";const t=new Promise((t,r)=>{let n="";logPolitely(`Requesting latest Firefox Nightly version from ${e}`);o.default.get(e,e=>{if(e.statusCode>=400)return r(new Error(`Got status code ${e.statusCode}`));e.on("data",e=>{n+=e});e.on("end",()=>{try{const e=JSON.parse(n);return t(e.FIREFOX_NIGHTLY)}catch{return r(new Error("Firefox version not found"))}})}).on("error",r)});return t}}t.downloadBrowser=downloadBrowser;function logPolitely(e){const t=process.env.npm_config_loglevel;const r=["silent","error","warn"].indexOf(t)>-1;if(!r)console.log(e)}t.logPolitely=logPolitely},975:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PUPPETEER_REVISIONS=void 0;t.PUPPETEER_REVISIONS={chromium:"818858",firefox:"latest"}},8787:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function mitt(e){e=e||new Map;return{all:e,on(t,r){const n=e.get(t);const i=n&&n.push(r);if(!i){e.set(t,[r])}},off(t,r){const n=e.get(t);if(n){n.splice(n.indexOf(r)>>>0,1)}},emit(t,r){(e.get(t)||[]).slice().map(e=>{e(r)});(e.get("*")||[]).slice().map(e=>{e(t,r)})}}}t.default=mitt},7214:e=>{"use strict";const t={};function createErrorType(e,r,n){if(!n){n=Error}function getMessage(e,t,n){if(typeof r==="string"){return r}else{return r(e,t,n)}}class NodeError extends n{constructor(e,t,r){super(getMessage(e,t,r))}}NodeError.prototype.name=n.name;NodeError.prototype.code=e;t[e]=NodeError}function oneOf(e,t){if(Array.isArray(e)){const r=e.length;e=e.map(e=>String(e));if(r>2){return`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]}else if(r===2){return`one of ${t} ${e[0]} or ${e[1]}`}else{return`of ${t} ${e[0]}`}}else{return`of ${t} ${String(e)}`}}function startsWith(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function endsWith(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function includes(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}createErrorType("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(e,t,r){let n;if(typeof t==="string"&&startsWith(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}let i;if(endsWith(e," argument")){i=`The ${e} ${n} ${oneOf(t,"type")}`}else{const r=includes(e,".")?"property":"argument";i=`The "${e}" ${r} ${n} ${oneOf(t,"type")}`}i+=`. Received type ${typeof r}`;return i},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.q=t},1359:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};e.exports=Duplex;var i=r(1433);var o=r(6993);r(4124)(Duplex,i);{var s=n(o.prototype);for(var a=0;a<s.length;a++){var c=s[a];if(!Duplex.prototype[c])Duplex.prototype[c]=o.prototype[c]}}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);i.call(this,e);o.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",onend)}}}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function onend(){if(this._writableState.ended)return;process.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:false,get:function get(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function set(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}})},1542:(e,t,r)=>{"use strict";e.exports=PassThrough;var n=r(4415);r(4124)(PassThrough,n);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);n.call(this,e)}PassThrough.prototype._transform=function(e,t,r){r(null,e)}},1433:(e,t,r)=>{"use strict";e.exports=Readable;var n;Readable.ReadableState=ReadableState;var i=r(8614).EventEmitter;var o=function EElistenerCount(e,t){return e.listeners(t).length};var s=r(2387);var a=r(4293).Buffer;var c=global.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return a.from(e)}function _isUint8Array(e){return a.isBuffer(e)||e instanceof c}var l=r(1669);var u;if(l&&l.debuglog){u=l.debuglog("stream")}else{u=function debug(){}}var d=r(2746);var f=r(7049);var h=r(9948),p=h.getHighWaterMark;var m=r(7214).q,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var b;var v;var E;r(4124)(Readable,s);var k=f.errorOrDestroy;var T=["error","close","destroy","pause","resume"];function prependListener(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function ReadableState(e,t,i){n=n||r(1359);e=e||{};if(typeof i!=="boolean")i=t instanceof n;this.objectMode=!!e.objectMode;if(i)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=p(this,e,"readableHighWaterMark",i);this.buffer=new d;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!b)b=r(4841).s;this.decoder=new b(e.encoding);this.encoding=e.encoding}}function Readable(e){n=n||r(1359);if(!(this instanceof Readable))return new Readable(e);var t=this instanceof n;this._readableState=new ReadableState(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}s.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:false,get:function get(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function set(e){if(!this._readableState){return}this._readableState.destroyed=e}});Readable.prototype.destroy=f.destroy;Readable.prototype._undestroy=f.undestroy;Readable.prototype._destroy=function(e,t){t(e)};Readable.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=a.from(e,t);t=""}n=true}}else{n=true}return readableAddChunk(this,e,t,false,n)};Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,true,false)};function readableAddChunk(e,t,r,n,i){u("readableAddChunk",t);var o=e._readableState;if(t===null){o.reading=false;onEofChunk(e,o)}else{var s;if(!i)s=chunkInvalid(o,t);if(s){k(e,s)}else if(o.objectMode||t&&t.length>0){if(typeof t!=="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==a.prototype){t=_uint8ArrayToBuffer(t)}if(n){if(o.endEmitted)k(e,new _);else addChunk(e,o,t,true)}else if(o.ended){k(e,new y)}else if(o.destroyed){return false}else{o.reading=false;if(o.decoder&&!r){t=o.decoder.write(t);if(o.objectMode||t.length!==0)addChunk(e,o,t,false);else maybeReadMore(e,o)}else{addChunk(e,o,t,false)}}}else if(!n){o.reading=false;maybeReadMore(e,o)}}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function addChunk(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)emitReadable(e)}maybeReadMore(e,t)}function chunkInvalid(e,t){var r;if(!_isUint8Array(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new g("chunk",["string","Buffer","Uint8Array"],t)}return r}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(e){if(!b)b=r(4841).s;var t=new b(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var n=this._readableState.buffer.head;var i="";while(n!==null){i+=t.write(n.data);n=n.next}this._readableState.buffer.clear();if(i!=="")this._readableState.buffer.push(i);this._readableState.length=i.length;return this};var S=1073741824;function computeNewHighWaterMark(e){if(e>=S){e=S}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function howMuchToRead(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=computeNewHighWaterMark(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}Readable.prototype.read=function(e){u("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){u("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)endReadable(this);else emitReadable(this);return null}e=howMuchToRead(e,t);if(e===0&&t.ended){if(t.length===0)endReadable(this);return null}var n=t.needReadable;u("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;u("length less than watermark",n)}if(t.ended||t.reading){n=false;u("reading or ended",n)}else if(n){u("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=howMuchToRead(r,t)}var i;if(e>0)i=fromList(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)endReadable(this)}if(i!==null)this.emit("data",i);return i};function onEofChunk(e,t){u("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){emitReadable(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;emitReadable_(e)}}}function emitReadable(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){u("emitReadable",t.flowing);t.emittedReadable=true;process.nextTick(emitReadable_,e)}}function emitReadable_(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;flow(e)}function maybeReadMore(e,t){if(!t.readingMore){t.readingMore=true;process.nextTick(maybeReadMore_,e,t)}}function maybeReadMore_(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;u("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}Readable.prototype._read=function(e){k(this,new w("_read()"))};Readable.prototype.pipe=function(e,t){var r=this;var n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1;u("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==false)&&e!==process.stdout&&e!==process.stderr;var s=i?onend:unpipe;if(n.endEmitted)process.nextTick(s);else r.once("end",s);e.on("unpipe",onunpipe);function onunpipe(e,t){u("onunpipe");if(e===r){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;cleanup()}}}function onend(){u("onend");e.end()}var a=pipeOnDrain(r);e.on("drain",a);var c=false;function cleanup(){u("cleanup");e.removeListener("close",onclose);e.removeListener("finish",onfinish);e.removeListener("drain",a);e.removeListener("error",onerror);e.removeListener("unpipe",onunpipe);r.removeListener("end",onend);r.removeListener("end",unpipe);r.removeListener("data",ondata);c=true;if(n.awaitDrain&&(!e._writableState||e._writableState.needDrain))a()}r.on("data",ondata);function ondata(t){u("ondata");var i=e.write(t);u("dest.write",i);if(i===false){if((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&indexOf(n.pipes,e)!==-1)&&!c){u("false write response, pause",n.awaitDrain);n.awaitDrain++}r.pause()}}function onerror(t){u("onerror",t);unpipe();e.removeListener("error",onerror);if(o(e,"error")===0)k(e,t)}prependListener(e,"error",onerror);function onclose(){e.removeListener("finish",onfinish);unpipe()}e.once("close",onclose);function onfinish(){u("onfinish");e.removeListener("close",onclose);unpipe()}e.once("finish",onfinish);function unpipe(){u("unpipe");r.unpipe(e)}e.emit("pipe",r);if(!n.flowing){u("pipe resume");r.resume()}return e};function pipeOnDrain(e){return function pipeOnDrainFunctionResult(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&o(e,"data")){t.flowing=true;flow(e)}}}Readable.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var o=0;o<i;o++){n[o].emit("unpipe",this,{hasUnpiped:false})}return this}var s=indexOf(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};Readable.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;u("on readable",n.length,n.reading);if(n.length){emitReadable(this)}else if(!n.reading){process.nextTick(nReadingNextTick,this)}}}return r};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);if(e==="readable"){process.nextTick(updateReadableListening,this)}return r};Readable.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){process.nextTick(updateReadableListening,this)}return t};function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function nReadingNextTick(e){u("readable nexttick read 0");e.read(0)}Readable.prototype.resume=function(){var e=this._readableState;if(!e.flowing){u("resume");e.flowing=!e.readableListening;resume(this,e)}e.paused=false;return this};function resume(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;process.nextTick(resume_,e,t)}}function resume_(e,t){u("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");flow(e);if(t.flowing&&!t.reading)e.read(0)}Readable.prototype.pause=function(){u("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){u("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function flow(e){var t=e._readableState;u("flow",t.flowing);while(t.flowing&&e.read()!==null){}}Readable.prototype.wrap=function(e){var t=this;var r=this._readableState;var n=false;e.on("end",function(){u("wrapped end");if(r.decoder&&!r.ended){var e=r.decoder.end();if(e&&e.length)t.push(e)}t.push(null)});e.on("data",function(i){u("wrapped data");if(r.decoder)i=r.decoder.write(i);if(r.objectMode&&(i===null||i===undefined))return;else if(!r.objectMode&&(!i||!i.length))return;var o=t.push(i);if(!o){n=true;e.pause()}});for(var i in e){if(this[i]===undefined&&typeof e[i]==="function"){this[i]=function methodWrap(t){return function methodWrapReturnFunction(){return e[t].apply(e,arguments)}}(i)}}for(var o=0;o<T.length;o++){e.on(T[o],this.emit.bind(this,T[o]))}this._read=function(t){u("wrapped _read",t);if(n){n=false;e.resume()}};return this};if(typeof Symbol==="function"){Readable.prototype[Symbol.asyncIterator]=function(){if(v===undefined){v=r(3306)}return v(this)}}Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function get(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:false,get:function get(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:false,get:function get(){return this._readableState.flowing},set:function set(e){if(this._readableState){this._readableState.flowing=e}}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:false,get:function get(){return this._readableState.length}});function fromList(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function endReadable(e){var t=e._readableState;u("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;process.nextTick(endReadableNT,t,e)}}function endReadableNT(e,t){u("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){Readable.from=function(e,t){if(E===undefined){E=r(9082)}return E(Readable,e,t)}}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}},4415:(e,t,r)=>{"use strict";e.exports=Transform;var n=r(7214).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0;var c=r(1359);r(4124)(Transform,c);function afterTransform(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new o)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function Transform(e){if(!(this instanceof Transform))return new Transform(e);c.call(this,e);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",prefinish)}function prefinish(){var e=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(t,r){done(e,t,r)})}else{done(this,null,null)}}Transform.prototype.push=function(e,t){this._transformState.needTransform=false;return c.prototype.push.call(this,e,t)};Transform.prototype._transform=function(e,t,r){r(new i("_transform()"))};Transform.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};Transform.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};Transform.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})};function done(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}},6993:(e,t,r)=>{"use strict";e.exports=Writable;function WriteReq(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function CorkedRequest(e){var t=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(t,e)}}var n;Writable.WritableState=WritableState;var i={deprecate:r(7127)};var o=r(2387);var s=r(4293).Buffer;var a=global.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return s.from(e)}function _isUint8Array(e){return s.isBuffer(e)||e instanceof a}var c=r(7049);var l=r(9948),u=l.getHighWaterMark;var d=r(7214).q,f=d.ERR_INVALID_ARG_TYPE,h=d.ERR_METHOD_NOT_IMPLEMENTED,p=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,g=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING;var b=c.errorOrDestroy;r(4124)(Writable,o);function nop(){}function WritableState(e,t,i){n=n||r(1359);e=e||{};if(typeof i!=="boolean")i=t instanceof n;this.objectMode=!!e.objectMode;if(i)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=u(this,e,"writableHighWaterMark",i);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var o=e.decodeStrings===false;this.decodeStrings=!o;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){onwrite(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var e=this.bufferedRequest;var t=[];while(e){t.push(e);e=e.next}return t};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:i.deprecate(function writableStateBufferGetter(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var v;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){v=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function value(e){if(v.call(this,e))return true;if(this!==Writable)return false;return e&&e._writableState instanceof WritableState}})}else{v=function realHasInstance(e){return e instanceof this}}function Writable(e){n=n||r(1359);var t=this instanceof n;if(!t&&!v.call(Writable,this))return new Writable(e);this._writableState=new WritableState(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}o.call(this)}Writable.prototype.pipe=function(){b(this,new m)};function writeAfterEnd(e,t){var r=new w;b(e,r);process.nextTick(t,r)}function validChunk(e,t,r,n){var i;if(r===null){i=new y}else if(typeof r!=="string"&&!t.objectMode){i=new f("chunk",["string","Buffer"],r)}if(i){b(e,i);process.nextTick(n,i);return false}return true}Writable.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var o=!n.objectMode&&_isUint8Array(e);if(o&&!s.isBuffer(e)){e=_uint8ArrayToBuffer(e)}if(typeof t==="function"){r=t;t=null}if(o)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=nop;if(n.ending)writeAfterEnd(this,r);else if(o||validChunk(this,n,e,r)){n.pendingcb++;i=writeOrBuffer(this,n,o,e,t,r)}return i};Writable.prototype.cork=function(){this._writableState.corked++};Writable.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)clearBuffer(this,e)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if(typeof e==="string")e=e.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);this._writableState.defaultEncoding=e;return this};Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=s.from(t,r)}return t}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});function writeOrBuffer(e,t,r,n,i,o){if(!r){var s=decodeChunk(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(!c)t.needDrain=true;if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null};if(l){l.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{doWrite(e,t,false,a,n,i,o)}return c}function doWrite(e,t,r,n,i,o,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new g("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,o,t.onwrite);t.sync=false}function onwriteError(e,t,r,n,i){--t.pendingcb;if(r){process.nextTick(i,n);process.nextTick(finishMaybe,e,t);e._writableState.errorEmitted=true;b(e,n)}else{i(n);e._writableState.errorEmitted=true;b(e,n);finishMaybe(e,t)}}function onwriteStateUpdate(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function onwrite(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new p;onwriteStateUpdate(r);if(t)onwriteError(e,r,n,t,i);else{var o=needFinish(r)||e.destroyed;if(!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){clearBuffer(e,r)}if(n){process.nextTick(afterWrite,e,r,o,i)}else{afterWrite(e,r,o,i)}}}function afterWrite(e,t,r,n){if(!r)onwriteDrain(e,t);t.pendingcb--;n();finishMaybe(e,t)}function onwriteDrain(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function clearBuffer(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var o=t.corkedRequestsFree;o.entry=r;var s=0;var a=true;while(r){i[s]=r;if(!r.isBuf)a=false;r=r.next;s+=1}i.allBuffers=a;doWrite(e,t,true,t.length,i,"",o.finish);t.pendingcb++;t.lastBufferedRequest=null;if(o.next){t.corkedRequestsFree=o.next;o.next=null}else{t.corkedRequestsFree=new CorkedRequest(t)}t.bufferedRequestCount=0}else{while(r){var c=r.chunk;var l=r.encoding;var u=r.callback;var d=t.objectMode?1:c.length;doWrite(e,t,false,d,c,l,u);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}Writable.prototype._write=function(e,t,r){r(new h("_write()"))};Writable.prototype._writev=null;Writable.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)endWritable(this,n,r);return this};Object.defineProperty(Writable.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function needFinish(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(r){t.pendingcb--;if(r){b(e,r)}t.prefinished=true;e.emit("prefinish");finishMaybe(e,t)})}function prefinish(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;process.nextTick(callFinal,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function finishMaybe(e,t){var r=needFinish(t);if(r){prefinish(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function endWritable(e,t,r){t.ending=true;finishMaybe(e,t);if(r){if(t.finished)process.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function onCorkedFinish(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(Writable.prototype,"destroyed",{enumerable:false,get:function get(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function set(e){if(!this._writableState){return}this._writableState.destroyed=e}});Writable.prototype.destroy=c.destroy;Writable.prototype._undestroy=c.undestroy;Writable.prototype._destroy=function(e,t){t(e)}},3306:(e,t,r)=>{"use strict";var n;function _defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var i=r(6080);var o=Symbol("lastResolve");var s=Symbol("lastReject");var a=Symbol("error");var c=Symbol("ended");var l=Symbol("lastPromise");var u=Symbol("handlePromise");var d=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[o];if(t!==null){var r=e[d].read();if(r!==null){e[l]=null;e[o]=null;e[s]=null;t(createIterResult(r,false))}}}function onReadable(e){process.nextTick(readAndResolve,e)}function wrapForNext(e,t){return function(r,n){e.then(function(){if(t[c]){r(createIterResult(undefined,true));return}t[u](r,n)},n)}}var f=Object.getPrototypeOf(function(){});var h=Object.setPrototypeOf((n={get stream(){return this[d]},next:function next(){var e=this;var t=this[a];if(t!==null){return Promise.reject(t)}if(this[c]){return Promise.resolve(createIterResult(undefined,true))}if(this[d].destroyed){return new Promise(function(t,r){process.nextTick(function(){if(e[a]){r(e[a])}else{t(createIterResult(undefined,true))}})})}var r=this[l];var n;if(r){n=new Promise(wrapForNext(r,this))}else{var i=this[d].read();if(i!==null){return Promise.resolve(createIterResult(i,false))}n=new Promise(this[u])}this[l]=n;return n}},_defineProperty(n,Symbol.asyncIterator,function(){return this}),_defineProperty(n,"return",function _return(){var e=this;return new Promise(function(t,r){e[d].destroy(null,function(e){if(e){r(e);return}t(createIterResult(undefined,true))})})}),n),f);var p=function createReadableStreamAsyncIterator(e){var t;var r=Object.create(h,(t={},_defineProperty(t,d,{value:e,writable:true}),_defineProperty(t,o,{value:null,writable:true}),_defineProperty(t,s,{value:null,writable:true}),_defineProperty(t,a,{value:null,writable:true}),_defineProperty(t,c,{value:e._readableState.endEmitted,writable:true}),_defineProperty(t,u,{value:function value(e,t){var n=r[d].read();if(n){r[l]=null;r[o]=null;r[s]=null;e(createIterResult(n,false))}else{r[o]=e;r[s]=t}},writable:true}),t));r[l]=null;i(e,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=r[s];if(t!==null){r[l]=null;r[o]=null;r[s]=null;t(e)}r[a]=e;return}var n=r[o];if(n!==null){r[l]=null;r[o]=null;r[s]=null;n(createIterResult(undefined,true))}r[c]=true});e.on("readable",onReadable.bind(null,r));return r};e.exports=p},2746:(e,t,r)=>{"use strict";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable});r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){ownKeys(Object(r),true).forEach(function(t){_defineProperty(e,t,r[t])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}}return e}function _defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){if(t)_defineProperties(e.prototype,t);if(r)_defineProperties(e,r);return e}var n=r(4293),i=n.Buffer;var o=r(1669),s=o.inspect;var a=s&&s.custom||"inspect";function copyBuffer(e,t,r){i.prototype.copy.call(e,t,r)}e.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}_createClass(BufferList,[{key:"push",value:function push(e){var t={data:e,next:null};if(this.length>0)this.tail.next=t;else this.head=t;this.tail=t;++this.length}},{key:"unshift",value:function unshift(e){var t={data:e,next:this.head};if(this.length===0)this.tail=t;this.head=t;++this.length}},{key:"shift",value:function shift(){if(this.length===0)return;var e=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return e}},{key:"clear",value:function clear(){this.head=this.tail=null;this.length=0}},{key:"join",value:function join(e){if(this.length===0)return"";var t=this.head;var r=""+t.data;while(t=t.next){r+=e+t.data}return r}},{key:"concat",value:function concat(e){if(this.length===0)return i.alloc(0);var t=i.allocUnsafe(e>>>0);var r=this.head;var n=0;while(r){copyBuffer(r.data,t,n);n+=r.data.length;r=r.next}return t}},{key:"consume",value:function consume(e,t){var r;if(e<this.head.data.length){r=this.head.data.slice(0,e);this.head.data=this.head.data.slice(e)}else if(e===this.head.data.length){r=this.shift()}else{r=t?this._getString(e):this._getBuffer(e)}return r}},{key:"first",value:function first(){return this.head.data}},{key:"_getString",value:function _getString(e){var t=this.head;var r=1;var n=t.data;e-=n.length;while(t=t.next){var i=t.data;var o=e>i.length?i.length:e;if(o===i.length)n+=i;else n+=i.slice(0,e);e-=o;if(e===0){if(o===i.length){++r;if(t.next)this.head=t.next;else this.head=this.tail=null}else{this.head=t;t.data=i.slice(o)}break}++r}this.length-=r;return n}},{key:"_getBuffer",value:function _getBuffer(e){var t=i.allocUnsafe(e);var r=this.head;var n=1;r.data.copy(t);e-=r.data.length;while(r=r.next){var o=r.data;var s=e>o.length?o.length:e;o.copy(t,t.length-e,0,s);e-=s;if(e===0){if(s===o.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=o.slice(s)}break}++n}this.length-=n;return t}},{key:a,value:function value(e,t){return s(this,_objectSpread({},t,{depth:0,customInspect:false}))}}]);return BufferList}()},7049:e=>{"use strict";function destroy(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){process.nextTick(emitErrorNT,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;process.nextTick(emitErrorNT,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){process.nextTick(emitErrorAndCloseNT,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;process.nextTick(emitErrorAndCloseNT,r,e)}else{process.nextTick(emitCloseNT,r)}}else if(t){process.nextTick(emitCloseNT,r);t(e)}else{process.nextTick(emitCloseNT,r)}});return this}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t);emitCloseNT(e)}function emitCloseNT(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}e.exports={destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy}},6080:(e,t,r)=>{"use strict";var n=r(7214).q.ERR_STREAM_PREMATURE_CLOSE;function once(e){var t=false;return function(){if(t)return;t=true;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}e.apply(this,n)}}function noop(){}function isRequest(e){return e.setHeader&&typeof e.abort==="function"}function eos(e,t,r){if(typeof t==="function")return eos(e,null,t);if(!t)t={};r=once(r||noop);var i=t.readable||t.readable!==false&&e.readable;var o=t.writable||t.writable!==false&&e.writable;var s=function onlegacyfinish(){if(!e.writable)c()};var a=e._writableState&&e._writableState.finished;var c=function onfinish(){o=false;a=true;if(!i)r.call(e)};var l=e._readableState&&e._readableState.endEmitted;var u=function onend(){i=false;l=true;if(!o)r.call(e)};var d=function onerror(t){r.call(e,t)};var f=function onclose(){var t;if(i&&!l){if(!e._readableState||!e._readableState.ended)t=new n;return r.call(e,t)}if(o&&!a){if(!e._writableState||!e._writableState.ended)t=new n;return r.call(e,t)}};var h=function onrequest(){e.req.on("finish",c)};if(isRequest(e)){e.on("complete",c);e.on("abort",f);if(e.req)h();else e.on("request",h)}else if(o&&!e._writableState){e.on("end",s);e.on("close",s)}e.on("end",u);e.on("finish",c);if(t.error!==false)e.on("error",d);e.on("close",f);return function(){e.removeListener("complete",c);e.removeListener("abort",f);e.removeListener("request",h);if(e.req)e.req.removeListener("finish",c);e.removeListener("end",s);e.removeListener("close",s);e.removeListener("finish",c);e.removeListener("end",u);e.removeListener("error",d);e.removeListener("close",f)}}e.exports=eos},9082:(e,t,r)=>{"use strict";function asyncGeneratorStep(e,t,r,n,i,o,s){try{var a=e[o](s);var c=a.value}catch(e){r(e);return}if(a.done){t(c)}else{Promise.resolve(c).then(n,i)}}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function _next(e){asyncGeneratorStep(o,n,i,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(o,n,i,_next,_throw,"throw",e)}_next(undefined)})}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable});r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){ownKeys(Object(r),true).forEach(function(t){_defineProperty(e,t,r[t])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}}return e}function _defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var n=r(7214).q.ERR_INVALID_ARG_TYPE;function from(e,t,r){var i;if(t&&typeof t.next==="function"){i=t}else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])i=t[Symbol.iterator]();else throw new n("iterable",["Iterable"],t);var o=new e(_objectSpread({objectMode:true},r));var s=false;o._read=function(){if(!s){s=true;next()}};function next(){return _next2.apply(this,arguments)}function _next2(){_next2=_asyncToGenerator(function*(){try{var e=yield i.next(),t=e.value,r=e.done;if(r){o.push(null)}else if(o.push(yield t)){next()}else{s=false}}catch(e){o.destroy(e)}});return _next2.apply(this,arguments)}return o}e.exports=from},6989:(e,t,r)=>{"use strict";var n;function once(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var i=r(7214).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&typeof e.abort==="function"}function destroyer(e,t,i,o){o=once(o);var a=false;e.on("close",function(){a=true});if(n===undefined)n=r(6080);n(e,{readable:t,writable:i},function(e){if(e)return o(e);a=true;o()});var c=false;return function(t){if(a)return;if(c)return;c=true;if(isRequest(e))return e.abort();if(typeof e.destroy==="function")return e.destroy();o(t||new s("pipe"))}}function call(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){if(!e.length)return noop;if(typeof e[e.length-1]!=="function")return noop;return e.pop()}function pipeline(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=popCallback(t);if(Array.isArray(t[0]))t=t[0];if(t.length<2){throw new o("streams")}var i;var s=t.map(function(e,r){var o=r<t.length-1;var a=r>0;return destroyer(e,o,a,function(e){if(!i)i=e;if(e)s.forEach(call);if(o)return;s.forEach(call);n(i)})});return t.reduce(pipe)}e.exports=pipeline},9948:(e,t,r)=>{"use strict";var n=r(7214).q.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function getHighWaterMark(e,t,r,i){var o=highWaterMarkFrom(t,i,r);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var s=i?r:"highWaterMark";throw new n(s,o)}return Math.floor(o)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:getHighWaterMark}},2387:(e,t,r)=>{e.exports=r(2413)},1642:(e,t,r)=>{var n=r(2413);if(process.env.READABLE_STREAM==="disable"&&n){e.exports=n.Readable;Object.assign(e.exports,n);e.exports.Stream=n}else{t=e.exports=r(1433);t.Stream=n||t;t.Readable=t;t.Writable=r(6993);t.Duplex=r(1359);t.Transform=r(4415);t.PassThrough=r(1542);t.finished=r(6080);t.pipeline=r(6989)}},4959:(e,t,r)=>{const n=r(2357);const i=r(5622);const o=r(5747);let s=undefined;try{s=r(1957)}catch(e){}const a={nosort:true,silent:true};let c=0;const l=process.platform==="win32";const u=e=>{const t=["unlink","chmod","stat","lstat","rmdir","readdir"];t.forEach(t=>{e[t]=e[t]||o[t];t=t+"Sync";e[t]=e[t]||o[t]});e.maxBusyTries=e.maxBusyTries||3;e.emfileWait=e.emfileWait||1e3;if(e.glob===false){e.disableGlob=true}if(e.disableGlob!==true&&s===undefined){throw Error("glob dependency not found, set `options.disableGlob = true` if intentional")}e.disableGlob=e.disableGlob||false;e.glob=e.glob||a};const d=(e,t,r)=>{if(typeof t==="function"){r=t;t={}}n(e,"rimraf: missing path");n.equal(typeof e,"string","rimraf: path should be a string");n.equal(typeof r,"function","rimraf: callback function required");n(t,"rimraf: invalid options argument provided");n.equal(typeof t,"object","rimraf: options should be object");u(t);let i=0;let o=null;let a=0;const l=e=>{o=o||e;if(--a===0)r(o)};const d=(e,n)=>{if(e)return r(e);a=n.length;if(a===0)return r();n.forEach(e=>{const r=n=>{if(n){if((n.code==="EBUSY"||n.code==="ENOTEMPTY"||n.code==="EPERM")&&i<t.maxBusyTries){i++;return setTimeout(()=>f(e,t,r),i*100)}if(n.code==="EMFILE"&&c<t.emfileWait){return setTimeout(()=>f(e,t,r),c++)}if(n.code==="ENOENT")n=null}c=0;l(n)};f(e,t,r)})};if(t.disableGlob||!s.hasMagic(e))return d(null,[e]);t.lstat(e,(r,n)=>{if(!r)return d(null,[e]);s(e,t.glob,d)})};const f=(e,t,r)=>{n(e);n(t);n(typeof r==="function");t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&l)h(e,t,n,r);if(i&&i.isDirectory())return m(e,t,n,r);t.unlink(e,n=>{if(n){if(n.code==="ENOENT")return r(null);if(n.code==="EPERM")return l?h(e,t,n,r):m(e,t,n,r);if(n.code==="EISDIR")return m(e,t,n,r)}return r(n)})})};const h=(e,t,r,i)=>{n(e);n(t);n(typeof i==="function");t.chmod(e,438,n=>{if(n)i(n.code==="ENOENT"?null:r);else t.stat(e,(n,o)=>{if(n)i(n.code==="ENOENT"?null:r);else if(o.isDirectory())m(e,t,r,i);else t.unlink(e,i)})})};const p=(e,t,r)=>{n(e);n(t);try{t.chmodSync(e,438)}catch(e){if(e.code==="ENOENT")return;else throw r}let i;try{i=t.statSync(e)}catch(e){if(e.code==="ENOENT")return;else throw r}if(i.isDirectory())w(e,t,r);else t.unlinkSync(e)};const m=(e,t,r,i)=>{n(e);n(t);n(typeof i==="function");t.rmdir(e,n=>{if(n&&(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM"))g(e,t,i);else if(n&&n.code==="ENOTDIR")i(r);else i(n)})};const g=(e,t,r)=>{n(e);n(t);n(typeof r==="function");t.readdir(e,(n,o)=>{if(n)return r(n);let s=o.length;if(s===0)return t.rmdir(e,r);let a;o.forEach(n=>{d(i.join(e,n),t,n=>{if(a)return;if(n)return r(a=n);if(--s===0)t.rmdir(e,r)})})})};const y=(e,t)=>{t=t||{};u(t);n(e,"rimraf: missing path");n.equal(typeof e,"string","rimraf: path should be a string");n(t,"rimraf: missing options");n.equal(typeof t,"object","rimraf: options should be object");let r;if(t.disableGlob||!s.hasMagic(e)){r=[e]}else{try{t.lstatSync(e);r=[e]}catch(n){r=s.sync(e,t.glob)}}if(!r.length)return;for(let e=0;e<r.length;e++){const n=r[e];let i;try{i=t.lstatSync(n)}catch(e){if(e.code==="ENOENT")return;if(e.code==="EPERM"&&l)p(n,t,e)}try{if(i&&i.isDirectory())w(n,t,null);else t.unlinkSync(n)}catch(e){if(e.code==="ENOENT")return;if(e.code==="EPERM")return l?p(n,t,e):w(n,t,e);if(e.code!=="EISDIR")throw e;w(n,t,e)}}};const w=(e,t,r)=>{n(e);n(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")_(e,t)}};const _=(e,t)=>{n(e);n(t);t.readdirSync(e).forEach(r=>y(i.join(e,r),t));const r=l?100:1;let o=0;do{let n=true;try{const i=t.rmdirSync(e,t);n=false;return i}finally{if(++o<r&&n)continue}}while(true)};e.exports=d;d.sync=y},1867:(e,t,r)=>{var n=r(4293);var i=n.Buffer;function copyProps(e,t){for(var r in e){t[r]=e[r]}}if(i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow){e.exports=n}else{copyProps(n,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,r){return i(e,t,r)}SafeBuffer.prototype=Object.create(i.prototype);copyProps(i,SafeBuffer);SafeBuffer.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return i(e,t,r)};SafeBuffer.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var n=i(e);if(t!==undefined){if(typeof r==="string"){n.fill(t,r)}else{n.fill(t)}}else{n.fill(0)}return n};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(e)}},4841:(e,t,r)=>{"use strict";var n=r(1867).Buffer;var i=n.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(e){if(!e)return"utf8";var t;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=true}}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if(typeof t!=="string"&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}t.s=StringDecoder;function StringDecoder(e){this.encoding=normalizeEncoding(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;t=4;break;case"utf8":this.fillLast=utf8FillLast;t=4;break;case"base64":this.text=base64Text;this.end=base64End;t=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=n.allocUnsafe(t)}StringDecoder.prototype.write=function(e){if(e.length===0)return"";var t;var r;if(this.lastNeed){t=this.fillLast(e);if(t===undefined)return"";r=this.lastNeed;this.lastNeed=0}else{r=0}if(r<e.length)return t?t+this.text(e,r):this.text(e,r);return t||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function utf8CheckByte(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function utf8CheckIncomplete(e,t,r){var n=t.length-1;if(n<r)return 0;var i=utf8CheckByte(t[n]);if(i>=0){if(i>0)e.lastNeed=i-1;return i}if(--n<r||i===-2)return 0;i=utf8CheckByte(t[n]);if(i>=0){if(i>0)e.lastNeed=i-2;return i}if(--n<r||i===-2)return 0;i=utf8CheckByte(t[n]);if(i>=0){if(i>0){if(i===2)i=0;else e.lastNeed=i-3}return i}return 0}function utf8CheckExtraBytes(e,t,r){if((t[0]&192)!==128){e.lastNeed=0;return"�"}if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128){e.lastNeed=1;return"�"}if(e.lastNeed>2&&t.length>2){if((t[2]&192)!==128){e.lastNeed=2;return"�"}}}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed;var r=utf8CheckExtraBytes(this,e,t);if(r!==undefined)return r;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function utf8Text(e,t){var r=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);e.copy(this.lastChar,0,n);return e.toString("utf8",t,n)}function utf8End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+"�";return t}function utf16Text(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return r.slice(0,-1)}}return r}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;if(r===0)return e.toString("base64",t);this.lastNeed=3-r;this.lastTotal=3;if(r===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-r)}function base64End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+this.lastChar.toString("base64",0,3-this.lastNeed);return t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}},366:(e,t,r)=>{var n=r(9051);var i=r(2283);var o=r(8341);var s=r(7614);var a=r(5747);var c=r(5622);var l=r(2087);var u=l.platform()==="win32";var d=function(){};var f=function(e){return e};var h=!u?f:function(e){return e.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")};var p=function(e,t,r,n,i,o){var s=i||["."];return function loop(i){if(!s.length)return i();var a=s.shift();var l=c.join(r,a);t.call(e,l,function(t,u){if(t)return i(t);if(!u.isDirectory())return i(null,a,u);e.readdir(l,function(e,t){if(e)return i(e);if(o)t.sort();for(var l=0;l<t.length;l++){if(!n(c.join(r,a,t[l])))s.push(c.join(a,t[l]))}i(null,a,u)})})}};var m=function(e,t){return function(r){r.name=r.name.split("/").slice(t).join("/");var n=r.linkname;if(n&&(r.type==="link"||c.isAbsolute(n))){r.linkname=n.split("/").slice(t).join("/")}return e(r)}};t.pack=function(e,t){if(!e)e=".";if(!t)t={};var r=t.fs||a;var n=t.ignore||t.filter||d;var s=t.map||d;var l=t.mapStream||f;var u=p(r,t.dereference?r.stat:r.lstat,e,n,t.entries,t.sort);var g=t.strict!==false;var y=typeof t.umask==="number"?~t.umask:~w();var _=typeof t.dmode==="number"?t.dmode:0;var b=typeof t.fmode==="number"?t.fmode:0;var v=t.pack||i.pack();var E=t.finish||d;if(t.strip)s=m(s,t.strip);if(t.readable){_|=parseInt(555,8);b|=parseInt(444,8)}if(t.writable){_|=parseInt(333,8);b|=parseInt(222,8)}var k=function(t,n){r.readlink(c.join(e,t),function(e,t){if(e)return v.destroy(e);n.linkname=h(t);v.entry(n,S)})};var T=function(n,i,a){if(n)return v.destroy(n);if(!i){if(t.finalize!==false)v.finalize();return E(v)}if(a.isSocket())return S();var u={name:h(i),mode:(a.mode|(a.isDirectory()?_:b))&y,mtime:a.mtime,size:a.size,type:"file",uid:a.uid,gid:a.gid};if(a.isDirectory()){u.size=0;u.type="directory";u=s(u)||u;return v.entry(u,S)}if(a.isSymbolicLink()){u.size=0;u.type="symlink";u=s(u)||u;return k(i,u)}u=s(u)||u;if(!a.isFile()){if(g)return v.destroy(new Error("unsupported type for "+i));return S()}var d=v.entry(u,S);if(!d)return;var f=l(r.createReadStream(c.join(e,i),{start:0,end:u.size>0?u.size-1:u.size}),u);f.on("error",function(e){d.destroy(e)});o(f,d)};var S=function(e){if(e)return v.destroy(e);u(T)};S();return v};var g=function(e){return e.length?e[e.length-1]:null};var y=function(){return process.getuid?process.getuid():-1};var w=function(){return process.umask?process.umask():0};t.extract=function(e,t){if(!e)e=".";if(!t)t={};var r=t.fs||a;var n=t.ignore||t.filter||d;var s=t.map||d;var l=t.mapStream||f;var p=t.chown!==false&&!u&&y()===0;var _=t.extract||i.extract();var b=[];var v=new Date;var E=typeof t.umask==="number"?~t.umask:~w();var k=typeof t.dmode==="number"?t.dmode:0;var T=typeof t.fmode==="number"?t.fmode:0;var S=t.strict!==false;if(t.strip)s=m(s,t.strip);if(t.readable){k|=parseInt(555,8);T|=parseInt(444,8)}if(t.writable){k|=parseInt(333,8);T|=parseInt(222,8)}var C=function(e,t){var n;while((n=g(b))&&e.slice(0,n[0].length)!==n[0])b.pop();if(!n)return t();r.utimes(n[0],v,n[1],t)};var P=function(e,n,i){if(t.utimes===false)return i();if(n.type==="directory")return r.utimes(e,v,n.mtime,i);if(n.type==="symlink")return C(e,i);r.utimes(e,v,n.mtime,function(t){if(t)return i(t);C(e,i)})};var O=function(e,t,n){var i=t.type==="symlink";var o=i?r.lchmod:r.chmod;var s=i?r.lchown:r.chown;if(!o)return n();var a=(t.mode|(t.type==="directory"?k:T))&E;if(s&&p)s.call(r,e,t.uid,t.gid,onchown);else onchown(null);function onchown(t){if(t)return n(t);if(!o)return n();o.call(r,e,a,n)}};_.on("entry",function(i,a,d){i=s(i)||i;i.name=h(i.name);var f=c.join(e,c.join("/",i.name));if(n(f,i)){a.resume();return d()}var m=function(e){if(e)return d(e);P(f,i,function(e){if(e)return d(e);if(u)return d();O(f,i,d)})};var g=function(){if(u)return d();r.unlink(f,function(){r.symlink(i.linkname,f,m)})};var y=function(){if(u)return d();r.unlink(f,function(){var n=c.join(e,c.join("/",i.linkname));r.link(n,f,function(e){if(e&&e.code==="EPERM"&&t.hardlinkAsFilesFallback){a=r.createReadStream(n);return w()}m(e)})})};var w=function(){var e=r.createWriteStream(f);var t=l(a,i);e.on("error",function(e){t.destroy(e)});o(t,e,function(t){if(t)return d(t);e.on("close",m)})};if(i.type==="directory"){b.push([f,i.mtime]);return mkdirfix(f,{fs:r,own:p,uid:i.uid,gid:i.gid},m)}var _=c.dirname(f);validate(r,_,c.join(e,"."),function(e,t){if(e)return d(e);if(!t)return d(new Error(_+" is not a valid path"));mkdirfix(_,{fs:r,own:p,uid:i.uid,gid:i.gid},function(e){if(e)return d(e);switch(i.type){case"file":return w();case"link":return y();case"symlink":return g()}if(S)return d(new Error("unsupported type for "+f+" ("+i.type+")"));a.resume();d()})})});if(t.finish)_.on("finish",t.finish);return _};function validate(e,t,r,n){if(t===r)return n(null,true);e.lstat(t,function(i,o){if(i&&i.code!=="ENOENT")return n(i);if(i||o.isDirectory())return validate(e,c.join(t,".."),r,n);n(null,false)})}function mkdirfix(e,t,r){s(e,{fs:t.fs},function(e,i){if(!e&&i&&t.own){n(i,t.uid,t.gid,r)}else{r(e)}})}},7882:(e,t,r)=>{var n=r(1669);var i=r(336);var o=r(8860);var s=r(1642).Writable;var a=r(1642).PassThrough;var c=function(){};var l=function(e){e&=511;return e&&512-e};var u=function(e,t){var r=new f(e,t);r.end();return r};var d=function(e,t){if(t.path)e.name=t.path;if(t.linkpath)e.linkname=t.linkpath;if(t.size)e.size=parseInt(t.size,10);e.pax=t;return e};var f=function(e,t){this._parent=e;this.offset=t;a.call(this,{autoDestroy:false})};n.inherits(f,a);f.prototype.destroy=function(e){this._parent.destroy(e)};var h=function(e){if(!(this instanceof h))return new h(e);s.call(this,e);e=e||{};this._offset=0;this._buffer=i();this._missing=0;this._partial=false;this._onparse=c;this._header=null;this._stream=null;this._overflow=null;this._cb=null;this._locked=false;this._destroyed=false;this._pax=null;this._paxGlobal=null;this._gnuLongPath=null;this._gnuLongLinkPath=null;var t=this;var r=t._buffer;var n=function(){t._continue()};var a=function(e){t._locked=false;if(e)return t.destroy(e);if(!t._stream)n()};var p=function(){t._stream=null;var e=l(t._header.size);if(e)t._parse(e,m);else t._parse(512,b);if(!t._locked)n()};var m=function(){t._buffer.consume(l(t._header.size));t._parse(512,b);n()};var g=function(){var e=t._header.size;t._paxGlobal=o.decodePax(r.slice(0,e));r.consume(e);p()};var y=function(){var e=t._header.size;t._pax=o.decodePax(r.slice(0,e));if(t._paxGlobal)t._pax=Object.assign({},t._paxGlobal,t._pax);r.consume(e);p()};var w=function(){var n=t._header.size;this._gnuLongPath=o.decodeLongPath(r.slice(0,n),e.filenameEncoding);r.consume(n);p()};var _=function(){var n=t._header.size;this._gnuLongLinkPath=o.decodeLongPath(r.slice(0,n),e.filenameEncoding);r.consume(n);p()};var b=function(){var i=t._offset;var s;try{s=t._header=o.decode(r.slice(0,512),e.filenameEncoding,e.allowUnknownFormat)}catch(e){t.emit("error",e)}r.consume(512);if(!s){t._parse(512,b);n();return}if(s.type==="gnu-long-path"){t._parse(s.size,w);n();return}if(s.type==="gnu-long-link-path"){t._parse(s.size,_);n();return}if(s.type==="pax-global-header"){t._parse(s.size,g);n();return}if(s.type==="pax-header"){t._parse(s.size,y);n();return}if(t._gnuLongPath){s.name=t._gnuLongPath;t._gnuLongPath=null}if(t._gnuLongLinkPath){s.linkname=t._gnuLongLinkPath;t._gnuLongLinkPath=null}if(t._pax){t._header=s=d(s,t._pax);t._pax=null}t._locked=true;if(!s.size||s.type==="directory"){t._parse(512,b);t.emit("entry",s,u(t,i),a);return}t._stream=new f(t,i);t.emit("entry",s,t._stream,a);t._parse(s.size,p);n()};this._onheader=b;this._parse(512,b)};n.inherits(h,s);h.prototype.destroy=function(e){if(this._destroyed)return;this._destroyed=true;if(e)this.emit("error",e);this.emit("close");if(this._stream)this._stream.emit("close")};h.prototype._parse=function(e,t){if(this._destroyed)return;this._offset+=e;this._missing=e;if(t===this._onheader)this._partial=false;this._onparse=t};h.prototype._continue=function(){if(this._destroyed)return;var e=this._cb;this._cb=c;if(this._overflow)this._write(this._overflow,undefined,e);else e()};h.prototype._write=function(e,t,r){if(this._destroyed)return;var n=this._stream;var i=this._buffer;var o=this._missing;if(e.length)this._partial=true;if(e.length<o){this._missing-=e.length;this._overflow=null;if(n)return n.write(e,r);i.append(e);return r()}this._cb=r;this._missing=0;var s=null;if(e.length>o){s=e.slice(o);e=e.slice(0,o)}if(n)n.end(e);else i.append(e);this._overflow=s;this._onparse()};h.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()};e.exports=h},8860:(e,t)=>{var r=Buffer.alloc;var n="0000000000000000000";var i="7777777777777777777";var o="0".charCodeAt(0);var s=Buffer.from("ustar\0","binary");var a=Buffer.from("00","binary");var c=Buffer.from("ustar ","binary");var l=Buffer.from(" \0","binary");var u=parseInt("7777",8);var d=257;var f=263;var h=function(e,t,r){if(typeof e!=="number")return r;e=~~e;if(e>=t)return t;if(e>=0)return e;e+=t;if(e>=0)return e;return 0};var p=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null};var m=function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0};var g=function(e,t,r,n){for(;r<n;r++){if(e[r]===t)return r}return n};var y=function(e){var t=8*32;for(var r=0;r<148;r++)t+=e[r];for(var n=156;n<512;n++)t+=e[n];return t};var w=function(e,t){e=e.toString(8);if(e.length>t)return i.slice(0,t)+" ";else return n.slice(0,t-e.length)+e+" "};function parse256(e){var t;if(e[0]===128)t=true;else if(e[0]===255)t=false;else return null;var r=[];for(var n=e.length-1;n>0;n--){var i=e[n];if(t)r.push(i);else r.push(255-i)}var o=0;var s=r.length;for(n=0;n<s;n++){o+=r[n]*Math.pow(256,n)}return t?o:-1*o}var _=function(e,t,r){e=e.slice(t,t+r);t=0;if(e[t]&128){return parse256(e)}else{while(t<e.length&&e[t]===32)t++;var n=h(g(e,32,t,e.length),e.length,e.length);while(t<n&&e[t]===0)t++;if(n===t)return 0;return parseInt(e.slice(t,n).toString(),8)}};var b=function(e,t,r,n){return e.slice(t,g(e,0,t,t+r)).toString(n)};var v=function(e){var t=Buffer.byteLength(e);var r=Math.floor(Math.log(t)/Math.log(10))+1;if(t+r>=Math.pow(10,r))r++;return t+r+e};t.decodeLongPath=function(e,t){return b(e,0,e.length,t)};t.encodePax=function(e){var t="";if(e.name)t+=v(" path="+e.name+"\n");if(e.linkname)t+=v(" linkpath="+e.linkname+"\n");var r=e.pax;if(r){for(var n in r){t+=v(" "+n+"="+r[n]+"\n")}}return Buffer.from(t)};t.decodePax=function(e){var t={};while(e.length){var r=0;while(r<e.length&&e[r]!==32)r++;var n=parseInt(e.slice(0,r).toString(),10);if(!n)return t;var i=e.slice(r+1,n-1).toString();var o=i.indexOf("=");if(o===-1)return t;t[i.slice(0,o)]=i.slice(o+1);e=e.slice(n)}return t};t.encode=function(e){var t=r(512);var n=e.name;var i="";if(e.typeflag===5&&n[n.length-1]!=="/")n+="/";if(Buffer.byteLength(n)!==n.length)return null;while(Buffer.byteLength(n)>100){var c=n.indexOf("/");if(c===-1)return null;i+=i?"/"+n.slice(0,c):n.slice(0,c);n=n.slice(c+1)}if(Buffer.byteLength(n)>100||Buffer.byteLength(i)>155)return null;if(e.linkname&&Buffer.byteLength(e.linkname)>100)return null;t.write(n);t.write(w(e.mode&u,6),100);t.write(w(e.uid,6),108);t.write(w(e.gid,6),116);t.write(w(e.size,11),124);t.write(w(e.mtime.getTime()/1e3|0,11),136);t[156]=o+m(e.type);if(e.linkname)t.write(e.linkname,157);s.copy(t,d);a.copy(t,f);if(e.uname)t.write(e.uname,265);if(e.gname)t.write(e.gname,297);t.write(w(e.devmajor||0,6),329);t.write(w(e.devminor||0,6),337);if(i)t.write(i,345);t.write(w(y(t),6),148);return t};t.decode=function(e,t,r){var n=e[156]===0?0:e[156]-o;var i=b(e,0,100,t);var a=_(e,100,8);var u=_(e,108,8);var h=_(e,116,8);var m=_(e,124,12);var g=_(e,136,12);var w=p(n);var v=e[157]===0?null:b(e,157,100,t);var E=b(e,265,32);var k=b(e,297,32);var T=_(e,329,8);var S=_(e,337,8);var C=y(e);if(C===8*32)return null;if(C!==_(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(s.compare(e,d,d+6)===0){if(e[345])i=b(e,345,155,t)+"/"+i}else if(c.compare(e,d,d+6)===0&&l.compare(e,f,f+2)===0){}else{if(!r){throw new Error("Invalid tar header: unknown format.")}}if(n===0&&i&&i[i.length-1]==="/")n=5;return{name:i,mode:a,uid:u,gid:h,size:m,mtime:new Date(1e3*g),type:w,linkname:v,uname:E,gname:k,devmajor:T,devminor:S}}},2283:(e,t,r)=>{t.extract=r(7882);t.pack=r(4930)},4930:(e,t,r)=>{var n=r(3186);var i=r(1205);var o=r(4124);var s=Buffer.alloc;var a=r(1642).Readable;var c=r(1642).Writable;var l=r(4304).StringDecoder;var u=r(8860);var d=parseInt("755",8);var f=parseInt("644",8);var h=s(1024);var p=function(){};var m=function(e,t){t&=511;if(t)e.push(h.slice(0,512-t))};function modeToType(e){switch(e&n.S_IFMT){case n.S_IFBLK:return"block-device";case n.S_IFCHR:return"character-device";case n.S_IFDIR:return"directory";case n.S_IFIFO:return"fifo";case n.S_IFLNK:return"symlink"}return"file"}var g=function(e){c.call(this);this.written=0;this._to=e;this._destroyed=false};o(g,c);g.prototype._write=function(e,t,r){this.written+=e.length;if(this._to.push(e))return r();this._to._drain=r};g.prototype.destroy=function(){if(this._destroyed)return;this._destroyed=true;this.emit("close")};var y=function(){c.call(this);this.linkname="";this._decoder=new l("utf-8");this._destroyed=false};o(y,c);y.prototype._write=function(e,t,r){this.linkname+=this._decoder.write(e);r()};y.prototype.destroy=function(){if(this._destroyed)return;this._destroyed=true;this.emit("close")};var w=function(){c.call(this);this._destroyed=false};o(w,c);w.prototype._write=function(e,t,r){r(new Error("No body allowed for this entry"))};w.prototype.destroy=function(){if(this._destroyed)return;this._destroyed=true;this.emit("close")};var _=function(e){if(!(this instanceof _))return new _(e);a.call(this,e);this._drain=p;this._finalized=false;this._finalizing=false;this._destroyed=false;this._stream=null};o(_,a);_.prototype.entry=function(e,t,r){if(this._stream)throw new Error("already piping an entry");if(this._finalized||this._destroyed)return;if(typeof t==="function"){r=t;t=null}if(!r)r=p;var n=this;if(!e.size||e.type==="symlink")e.size=0;if(!e.type)e.type=modeToType(e.mode);if(!e.mode)e.mode=e.type==="directory"?d:f;if(!e.uid)e.uid=0;if(!e.gid)e.gid=0;if(!e.mtime)e.mtime=new Date;if(typeof t==="string")t=Buffer.from(t);if(Buffer.isBuffer(t)){e.size=t.length;this._encode(e);var o=this.push(t);m(n,e.size);if(o)process.nextTick(r);else this._drain=r;return new w}if(e.type==="symlink"&&!e.linkname){var s=new y;i(s,function(t){if(t){n.destroy();return r(t)}e.linkname=s.linkname;n._encode(e);r()});return s}this._encode(e);if(e.type!=="file"&&e.type!=="contiguous-file"){process.nextTick(r);return new w}var a=new g(this);this._stream=a;i(a,function(t){n._stream=null;if(t){n.destroy();return r(t)}if(a.written!==e.size){n.destroy();return r(new Error("size mismatch"))}m(n,e.size);if(n._finalizing)n.finalize();r()});return a};_.prototype.finalize=function(){if(this._stream){this._finalizing=true;return}if(this._finalized)return;this._finalized=true;this.push(h);this.push(null)};_.prototype.destroy=function(e){if(this._destroyed)return;this._destroyed=true;if(e)this.emit("error",e);this.emit("close");if(this._stream&&this._stream.destroy)this._stream.destroy()};_.prototype._encode=function(e){if(!e.pax){var t=u.encode(e);if(t){this.push(t);return}}this._encodePax(e)};_.prototype._encodePax=function(e){var t=u.encodePax({name:e.name,linkname:e.linkname,pax:e.pax});var r={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(u.encode(r));this.push(t);m(this,t.length);r.size=e.size;r.type=e.type;this.push(u.encode(r))};_.prototype._read=function(e){var t=this._drain;this._drain=p;t()};e.exports=_},421:(e,t,r)=>{var n=r(2413);t=e.exports=through;through.through=through;function through(e,t,r){e=e||function(e){this.queue(e)};t=t||function(){this.queue(null)};var i=false,o=false,s=[],a=false;var c=new n;c.readable=c.writable=true;c.paused=false;c.autoDestroy=!(r&&r.autoDestroy===false);c.write=function(t){e.call(this,t);return!c.paused};function drain(){while(s.length&&!c.paused){var e=s.shift();if(null===e)return c.emit("end");else c.emit("data",e)}}c.queue=c.push=function(e){if(a)return c;if(e===null)a=true;s.push(e);drain();return c};c.on("end",function(){c.readable=false;if(!c.writable&&c.autoDestroy)process.nextTick(function(){c.destroy()})});function _end(){c.writable=false;t.call(c);if(!c.readable&&c.autoDestroy)c.destroy()}c.end=function(e){if(i)return;i=true;if(arguments.length)c.write(e);_end();return c};c.destroy=function(){if(o)return;o=true;i=true;s.length=0;c.writable=c.readable=false;c.emit("close");return c};c.pause=function(){if(c.paused)return;c.paused=true;return c};c.resume=function(){if(c.paused){c.paused=false;c.emit("resume")}drain();if(!c.paused)c.emit("drain");return c};return c}},8065:(e,t,r)=>{const{promisify:n}=r(1669);const i=r(8517);e.exports.fileSync=i.fileSync;const o=n((e,t)=>i.file(e,(e,r,i,o)=>e?t(e):t(undefined,{path:r,fd:i,cleanup:n(o)})));e.exports.file=(async e=>o(e));e.exports.withFile=async function withFile(t,r){const{path:n,fd:i,cleanup:o}=await e.exports.file(r);try{return await t({path:n,fd:i})}finally{await o()}};e.exports.dirSync=i.dirSync;const s=n((e,t)=>i.dir(e,(e,r,i)=>e?t(e):t(undefined,{path:r,cleanup:n(i)})));e.exports.dir=(async e=>s(e));e.exports.withDir=async function withDir(t,r){const{path:n,cleanup:i}=await e.exports.dir(r);try{return await t({path:n})}finally{await i()}};e.exports.tmpNameSync=i.tmpNameSync;e.exports.tmpName=n(i.tmpName);e.exports.tmpdir=i.tmpdir;e.exports.setGracefulCleanup=i.setGracefulCleanup},8517:(e,t,r)=>{const n=r(5747);const i=r(2087);const o=r(5622);const s=r(6417);const a=n.constants&&i.constants?{fs:n.constants,os:i.constants}:process.binding("constants");const c=r(2371);const l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u=/XXXXXX/,d=3,f=(a.O_CREAT||a.fs.O_CREAT)|(a.O_EXCL||a.fs.O_EXCL)|(a.O_RDWR||a.fs.O_RDWR),h=a.EBADF||a.os.errno.EBADF,p=a.ENOENT||a.os.errno.ENOENT,m=448,g=384,y="exit",w="SIGINT",_=[];var b=false;function _randomChars(e){var t=[],r=null;try{r=s.randomBytes(e)}catch(t){r=s.pseudoRandomBytes(e)}for(var n=0;n<e;n++){t.push(l[r[n]%l.length])}return t.join("")}function _isUndefined(e){return typeof e==="undefined"}function _parseArguments(e,t){if(typeof e==="function"){return[{},e]}if(_isUndefined(e)){return[{},t]}return[e,t]}function _generateTmpName(e){const t=_getTmpDir();if(isBlank(e.dir)&&isBlank(t)){throw new Error("No tmp dir specified")}if(!isBlank(e.name)){return o.join(e.dir||t,e.name)}if(e.template){var r=e.template;if(o.basename(r)===r)r=o.join(e.dir||t,r);return r.replace(u,_randomChars(6))}const n=[isBlank(e.prefix)?"tmp-":e.prefix,process.pid,_randomChars(12),e.postfix?e.postfix:""].join("");return o.join(e.dir||t,n)}function tmpName(e,t){var r=_parseArguments(e,t),i=r[0],o=r[1],s=!isBlank(i.name)?1:i.tries||d;if(isNaN(s)||s<0)return o(new Error("Invalid tries"));if(i.template&&!i.template.match(u))return o(new Error("Invalid template provided"));(function _getUniqueName(){try{const e=_generateTmpName(i);n.stat(e,function(t){if(!t){if(s-- >0)return _getUniqueName();return o(new Error("Could not get a unique tmp filename, max tries reached "+e))}o(null,e)})}catch(e){o(e)}})()}function tmpNameSync(e){var t=_parseArguments(e),r=t[0],i=!isBlank(r.name)?1:r.tries||d;if(isNaN(i)||i<0)throw new Error("Invalid tries");if(r.template&&!r.template.match(u))throw new Error("Invalid template provided");do{const e=_generateTmpName(r);try{n.statSync(e)}catch(t){return e}}while(i-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function file(e,t){var r=_parseArguments(e,t),i=r[0],o=r[1];tmpName(i,function _tmpNameCreated(e,t){if(e)return o(e);n.open(t,f,i.mode||g,function _fileCreated(e,r){if(e)return o(e);if(i.discardDescriptor){return n.close(r,function _discardCallback(e){if(e){try{n.unlinkSync(t)}catch(t){if(!isENOENT(t)){e=t}}return o(e)}o(null,t,undefined,_prepareTmpFileRemoveCallback(t,-1,i))})}if(i.detachDescriptor){return o(null,t,r,_prepareTmpFileRemoveCallback(t,-1,i))}o(null,t,r,_prepareTmpFileRemoveCallback(t,r,i))})})}function fileSync(e){var t=_parseArguments(e),r=t[0];const i=r.discardDescriptor||r.detachDescriptor;const o=tmpNameSync(r);var s=n.openSync(o,f,r.mode||g);if(r.discardDescriptor){n.closeSync(s);s=undefined}return{name:o,fd:s,removeCallback:_prepareTmpFileRemoveCallback(o,i?-1:s,r)}}function dir(e,t){var r=_parseArguments(e,t),i=r[0],o=r[1];tmpName(i,function _tmpNameCreated(e,t){if(e)return o(e);n.mkdir(t,i.mode||m,function _dirCreated(e){if(e)return o(e);o(null,t,_prepareTmpDirRemoveCallback(t,i))})})}function dirSync(e){var t=_parseArguments(e),r=t[0];const i=tmpNameSync(r);n.mkdirSync(i,r.mode||m);return{name:i,removeCallback:_prepareTmpDirRemoveCallback(i,r)}}function _removeFileAsync(e,t){const r=function(e){if(e&&!isENOENT(e)){return t(e)}t()};if(0<=e[0])n.close(e[0],function(t){n.unlink(e[1],r)});else n.unlink(e[1],r)}function _removeFileSync(e){try{if(0<=e[0])n.closeSync(e[0])}catch(e){if(!isEBADF(e)&&!isENOENT(e))throw e}finally{try{n.unlinkSync(e[1])}catch(e){if(!isENOENT(e))throw e}}}function _prepareTmpFileRemoveCallback(e,t,r){const n=_prepareRemoveCallback(_removeFileSync,[t,e]);const i=_prepareRemoveCallback(_removeFileAsync,[t,e],n);if(!r.keep)_.unshift(n);return i}function _rimrafRemoveDirWrapper(e,t){c(e,t)}function _rimrafRemoveDirSyncWrapper(e,t){try{return t(null,c.sync(e))}catch(e){return t(e)}}function _prepareTmpDirRemoveCallback(e,t){const r=t.unsafeCleanup?_rimrafRemoveDirWrapper:n.rmdir.bind(n);const i=t.unsafeCleanup?_rimrafRemoveDirSyncWrapper:n.rmdirSync.bind(n);const o=_prepareRemoveCallback(i,e);const s=_prepareRemoveCallback(r,e,o);if(!t.keep)_.unshift(o);return s}function _prepareRemoveCallback(e,t,r){var n=false;return function _cleanupCallback(i){i=i||function(){};if(!n){const o=r||_cleanupCallback;const s=_.indexOf(o);if(s>=0)_.splice(s,1);n=true;if(e.length===1){try{e(t);return i(null)}catch(e){return i(e)}}else return e(t,i)}else return i(new Error("cleanup callback has already been called"))}}function _garbageCollector(){if(!b)return;while(_.length){try{_[0]()}catch(e){}}}function isEBADF(e){return isExpectedError(e,-h,"EBADF")}function isENOENT(e){return isExpectedError(e,-p,"ENOENT")}function isExpectedError(e,t,r){return e.code===t||e.code===r}function isBlank(e){return e===null||e===undefined||!e.trim()}function setGracefulCleanup(){b=true}function _getTmpDir(){return i.tmpdir()}function _is_legacy_listener(e){return(e.name==="_exit"||e.name==="_uncaughtExceptionThrown")&&e.toString().indexOf("_garbageCollector();")>-1}function _safely_install_sigint_listener(){const e=process.listeners(w);const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];if(n.name==="_tmp$sigint_listener"){t.push(n);process.removeListener(w,n)}}process.on(w,function _tmp$sigint_listener(e){for(let e=0,r=t.length;e<r;e++){try{t[e](false)}catch(e){}}try{_garbageCollector()}finally{if(!!e){process.exit(0)}}})}function _safely_install_exit_listener(){const e=process.listeners(y);const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];if(n.name==="_tmp$safe_listener"||_is_legacy_listener(n)){if(n.name!=="_uncaughtExceptionThrown"){t.push(n)}process.removeListener(y,n)}}process.addListener(y,function _tmp$safe_listener(e){for(let r=0,n=t.length;r<n;r++){try{t[r](e)}catch(e){}}_garbageCollector()})}_safely_install_exit_listener();_safely_install_sigint_listener();Object.defineProperty(e.exports,"tmpdir",{enumerable:true,configurable:false,get:function(){return _getTmpDir()}});e.exports.dir=dir;e.exports.dirSync=dirSync;e.exports.file=file;e.exports.fileSync=fileSync;e.exports.tmpName=tmpName;e.exports.tmpNameSync=tmpNameSync;e.exports.setGracefulCleanup=setGracefulCleanup},2371:(e,t,r)=>{e.exports=rimraf;rimraf.sync=rimrafSync;var n=r(2357);var i=r(5622);var o=r(5747);var s=undefined;try{s=r(1957)}catch(e){}var a=parseInt("666",8);var c={nosort:true,silent:true};var l=0;var u=process.platform==="win32";function defaults(e){var t=["unlink","chmod","stat","lstat","rmdir","readdir"];t.forEach(function(t){e[t]=e[t]||o[t];t=t+"Sync";e[t]=e[t]||o[t]});e.maxBusyTries=e.maxBusyTries||3;e.emfileWait=e.emfileWait||1e3;if(e.glob===false){e.disableGlob=true}if(e.disableGlob!==true&&s===undefined){throw Error("glob dependency not found, set `options.disableGlob = true` if intentional")}e.disableGlob=e.disableGlob||false;e.glob=e.glob||c}function rimraf(e,t,r){if(typeof t==="function"){r=t;t={}}n(e,"rimraf: missing path");n.equal(typeof e,"string","rimraf: path should be a string");n.equal(typeof r,"function","rimraf: callback function required");n(t,"rimraf: invalid options argument provided");n.equal(typeof t,"object","rimraf: options should be object");defaults(t);var i=0;var o=null;var a=0;if(t.disableGlob||!s.hasMagic(e))return afterGlob(null,[e]);t.lstat(e,function(r,n){if(!r)return afterGlob(null,[e]);s(e,t.glob,afterGlob)});function next(e){o=o||e;if(--a===0)r(o)}function afterGlob(e,n){if(e)return r(e);a=n.length;if(a===0)return r();n.forEach(function(e){rimraf_(e,t,function CB(r){if(r){if((r.code==="EBUSY"||r.code==="ENOTEMPTY"||r.code==="EPERM")&&i<t.maxBusyTries){i++;var n=i*100;return setTimeout(function(){rimraf_(e,t,CB)},n)}if(r.code==="EMFILE"&&l<t.emfileWait){return setTimeout(function(){rimraf_(e,t,CB)},l++)}if(r.code==="ENOENT")r=null}l=0;next(r)})})}}function rimraf_(e,t,r){n(e);n(t);n(typeof r==="function");t.lstat(e,function(n,i){if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&u)fixWinEPERM(e,t,n,r);if(i&&i.isDirectory())return rmdir(e,t,n,r);t.unlink(e,function(n){if(n){if(n.code==="ENOENT")return r(null);if(n.code==="EPERM")return u?fixWinEPERM(e,t,n,r):rmdir(e,t,n,r);if(n.code==="EISDIR")return rmdir(e,t,n,r)}return r(n)})})}function fixWinEPERM(e,t,r,i){n(e);n(t);n(typeof i==="function");if(r)n(r instanceof Error);t.chmod(e,a,function(n){if(n)i(n.code==="ENOENT"?null:r);else t.stat(e,function(n,o){if(n)i(n.code==="ENOENT"?null:r);else if(o.isDirectory())rmdir(e,t,r,i);else t.unlink(e,i)})})}function fixWinEPERMSync(e,t,r){n(e);n(t);if(r)n(r instanceof Error);try{t.chmodSync(e,a)}catch(e){if(e.code==="ENOENT")return;else throw r}try{var i=t.statSync(e)}catch(e){if(e.code==="ENOENT")return;else throw r}if(i.isDirectory())rmdirSync(e,t,r);else t.unlinkSync(e)}function rmdir(e,t,r,i){n(e);n(t);if(r)n(r instanceof Error);n(typeof i==="function");t.rmdir(e,function(n){if(n&&(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM"))rmkids(e,t,i);else if(n&&n.code==="ENOTDIR")i(r);else i(n)})}function rmkids(e,t,r){n(e);n(t);n(typeof r==="function");t.readdir(e,function(n,o){if(n)return r(n);var s=o.length;if(s===0)return t.rmdir(e,r);var a;o.forEach(function(n){rimraf(i.join(e,n),t,function(n){if(a)return;if(n)return r(a=n);if(--s===0)t.rmdir(e,r)})})})}function rimrafSync(e,t){t=t||{};defaults(t);n(e,"rimraf: missing path");n.equal(typeof e,"string","rimraf: path should be a string");n(t,"rimraf: missing options");n.equal(typeof t,"object","rimraf: options should be object");var r;if(t.disableGlob||!s.hasMagic(e)){r=[e]}else{try{t.lstatSync(e);r=[e]}catch(n){r=s.sync(e,t.glob)}}if(!r.length)return;for(var i=0;i<r.length;i++){var e=r[i];try{var o=t.lstatSync(e)}catch(r){if(r.code==="ENOENT")return;if(r.code==="EPERM"&&u)fixWinEPERMSync(e,t,r)}try{if(o&&o.isDirectory())rmdirSync(e,t,null);else t.unlinkSync(e)}catch(r){if(r.code==="ENOENT")return;if(r.code==="EPERM")return u?fixWinEPERMSync(e,t,r):rmdirSync(e,t,r);if(r.code!=="EISDIR")throw r;rmdirSync(e,t,r)}}}function rmdirSync(e,t,r){n(e);n(t);if(r)n(r instanceof Error);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")rmkidsSync(e,t)}}function rmkidsSync(e,t){n(e);n(t);t.readdirSync(e).forEach(function(r){rimrafSync(i.join(e,r),t)});var r=u?100:1;var o=0;do{var s=true;try{var a=t.rmdirSync(e,t);s=false;return a}finally{if(++o<r&&s)continue}}while(true)}},4294:(e,t,r)=>{e.exports=r(4219)},4219:(e,t,r)=>{"use strict";var n=r(1631);var i=r(4016);var o=r(8605);var s=r(7211);var a=r(8614);var c=r(2357);var l=r(1669);t.httpOverHttp=httpOverHttp;t.httpsOverHttp=httpsOverHttp;t.httpOverHttps=httpOverHttps;t.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);t.request=o.request;return t}function httpsOverHttp(e){var t=new TunnelingAgent(e);t.request=o.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function httpOverHttps(e){var t=new TunnelingAgent(e);t.request=s.request;return t}function httpsOverHttps(e){var t=new TunnelingAgent(e);t.request=s.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function TunnelingAgent(e){var t=this;t.options=e||{};t.proxyOptions=t.options.proxy||{};t.maxSockets=t.options.maxSockets||o.Agent.defaultMaxSockets;t.requests=[];t.sockets=[];t.on("free",function onFree(e,r,n,i){var o=toOptions(r,n,i);for(var s=0,a=t.requests.length;s<a;++s){var c=t.requests[s];if(c.host===o.host&&c.port===o.port){t.requests.splice(s,1);c.request.onSocket(e);return}}e.destroy();t.removeSocket(e)})}l.inherits(TunnelingAgent,a.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(e,t,r,n){var i=this;var o=mergeOptions({request:e},i.options,toOptions(t,r,n));if(i.sockets.length>=this.maxSockets){i.requests.push(o);return}i.createSocket(o,function(t){t.on("free",onFree);t.on("close",onCloseOrRemove);t.on("agentRemove",onCloseOrRemove);e.onSocket(t);function onFree(){i.emit("free",t,o)}function onCloseOrRemove(e){i.removeSocket(t);t.removeListener("free",onFree);t.removeListener("close",onCloseOrRemove);t.removeListener("agentRemove",onCloseOrRemove)}})};TunnelingAgent.prototype.createSocket=function createSocket(e,t){var r=this;var n={};r.sockets.push(n);var i=mergeOptions({},r.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:false,headers:{host:e.host+":"+e.port}});if(e.localAddress){i.localAddress=e.localAddress}if(i.proxyAuth){i.headers=i.headers||{};i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")}u("making CONNECT request");var o=r.request(i);o.useChunkedEncodingByDefault=false;o.once("response",onResponse);o.once("upgrade",onUpgrade);o.once("connect",onConnect);o.once("error",onError);o.end();function onResponse(e){e.upgrade=true}function onUpgrade(e,t,r){process.nextTick(function(){onConnect(e,t,r)})}function onConnect(i,s,a){o.removeAllListeners();s.removeAllListeners();if(i.statusCode!==200){u("tunneling socket could not be established, statusCode=%d",i.statusCode);s.destroy();var c=new Error("tunneling socket could not be established, "+"statusCode="+i.statusCode);c.code="ECONNRESET";e.request.emit("error",c);r.removeSocket(n);return}if(a.length>0){u("got illegal response body from proxy");s.destroy();var c=new Error("got illegal response body from proxy");c.code="ECONNRESET";e.request.emit("error",c);r.removeSocket(n);return}u("tunneling connection has established");r.sockets[r.sockets.indexOf(n)]=s;return t(s)}function onError(t){o.removeAllListeners();u("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var i=new Error("tunneling socket could not be established, "+"cause="+t.message);i.code="ECONNRESET";e.request.emit("error",i);r.removeSocket(n)}};TunnelingAgent.prototype.removeSocket=function removeSocket(e){var t=this.sockets.indexOf(e);if(t===-1){return}this.sockets.splice(t,1);var r=this.requests.shift();if(r){this.createSocket(r,function(e){r.request.onSocket(e)})}};function createSecureSocket(e,t){var r=this;TunnelingAgent.prototype.createSocket.call(r,e,function(n){var o=e.request.getHeader("host");var s=mergeOptions({},r.options,{socket:n,servername:o?o.replace(/:.*$/,""):e.host});var a=i.connect(0,s);r.sockets[r.sockets.indexOf(n)]=a;t(a)})}function toOptions(e,t,r){if(typeof e==="string"){return{host:e,port:t,localAddress:r}}return e}function mergeOptions(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n==="object"){var i=Object.keys(n);for(var o=0,s=i.length;o<s;++o){var a=i[o];if(n[a]!==undefined){e[a]=n[a]}}}}return e}var u;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){u=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]==="string"){e[0]="TUNNEL: "+e[0]}else{e.unshift("TUNNEL:")}console.error.apply(console,e)}}else{u=function(){}}t.debug=u},3467:(e,t,r)=>{var n=r(421);var i=r(2589);var o=r(7877);e.exports=unbzip2Stream;function unbzip2Stream(){var e=[];var t=0;var r=0;var s=false;var a=false;var c=null;var l=null;function decompressBlock(e){if(!r){r=i.header(c);l=0;return true}else{var t=1e5*r;var n=new Int32Array(t);var o=[];var s=function(e){o.push(e)};l=i.decompress(c,s,n,t,l);if(l===null){r=0;return false}else{e(Buffer.from(o));return true}}}var u=0;function decompressAndQueue(e){if(s)return;try{return decompressBlock(function(t){e.queue(t);if(t!==null){u+=t.length}else{}})}catch(t){e.emit("error",t);s=true;return false}}return n(function write(n){e.push(n);t+=n.length;if(c===null){c=o(function(){return e.shift()})}while(!s&&t-c.bytesRead+1>=(25e3+1e5*r||4)){decompressAndQueue(this)}},function end(e){while(!s&&c&&t>c.bytesRead){decompressAndQueue(this)}if(!s){if(l!==null)this.emit("error",new Error("input stream ended prematurely"));this.queue(null)}})}},7877:e=>{var t=[0,1,3,7,15,31,63,127,255];e.exports=function bitIterator(e){var r=0,n=0;var i=e();var o=function(s){if(s===null&&r!=0){r=0;n++;return}var a=0;while(s>0){if(n>=i.length){n=0;i=e()}var c=8-r;if(r===0&&s>0)o.bytesRead++;if(s>=c){a<<=c;a|=t[c]&i[n++];r=0;s-=c}else{a<<=s;a|=(i[n]&t[s]<<8-s-r)>>8-s-r;r+=s;s=0}}return a};o.bytesRead=0;return o}},2589:e=>{function Bzip2Error(e){this.name="Bzip2Error";this.message=e;this.stack=(new Error).stack}Bzip2Error.prototype=new Error;var t={Error:function(e){throw new Bzip2Error(e)}};var r={};r.Bzip2Error=Bzip2Error;r.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188];r.array=function(e){var t=0,r=0;var n=[0,1,3,7,15,31,63,127,255];return function(i){var o=0;while(i>0){var s=8-t;if(i>=s){o<<=s;o|=n[s]&e[r++];t=0;i-=s}else{o<<=i;o|=(e[r]&n[i]<<8-i-t)>>8-i-t;t+=i;i=0}}return o}};r.simple=function(e,t){var n=r.array(e);var i=r.header(n);var o=false;var s=1e5*i;var a=new Int32Array(s);do{o=r.decompress(n,t,a,s)}while(!o)};r.header=function(e){this.byteCount=new Int32Array(256);this.symToByte=new Uint8Array(256);this.mtfSymbol=new Int32Array(256);this.selectors=new Uint8Array(32768);if(e(8*3)!=4348520)t.Error("No magic number found");var r=e(8)-48;if(r<1||r>9)t.Error("Not a BZIP archive");return r};r.decompress=function(e,r,n,i,o){var s=20;var a=258;var c=0;var l=1;var u=50;var d=0^-1;for(var f="",h=0;h<6;h++)f+=e(8).toString(16);if(f=="177245385090"){var p=e(32)|0;if(p!==o)t.Error("Error in bzip2: crc32 do not match");e(null);return null}if(f!="314159265359")t.Error("eek not valid bzip data");var m=e(32)|0;if(e(1))t.Error("unsupported obsolete version");var g=e(24);if(g>i)t.Error("Initial position larger than buffer size");var y=e(16);var w=0;for(h=0;h<16;h++){if(y&1<<15-h){var _=e(16);for(E=0;E<16;E++){if(_&1<<15-E){this.symToByte[w++]=16*h+E}}}}var b=e(3);if(b<2||b>6)t.Error("another error");var v=e(15);if(v==0)t.Error("meh");for(var h=0;h<b;h++)this.mtfSymbol[h]=h;for(var h=0;h<v;h++){for(var E=0;e(1);E++)if(E>=b)t.Error("whoops another error");var k=this.mtfSymbol[E];for(var _=E-1;_>=0;_--){this.mtfSymbol[_+1]=this.mtfSymbol[_]}this.mtfSymbol[0]=k;this.selectors[h]=k}var T=w+2;var S=[];var C=new Uint8Array(a),P=new Uint16Array(s+1);var O;for(var E=0;E<b;E++){y=e(5);for(var h=0;h<T;h++){while(true){if(y<1||y>s)t.Error("I gave up a while ago on writing error messages");if(!e(1))break;if(!e(1))y++;else y--}C[h]=y}var x,A;x=A=C[0];for(var h=1;h<T;h++){if(C[h]>A)A=C[h];else if(C[h]<x)x=C[h]}O=S[E]={};O.permute=new Int32Array(a);O.limit=new Int32Array(s+1);O.base=new Int32Array(s+1);O.minLen=x;O.maxLen=A;var R=O.base;var M=O.limit;var F=0;for(var h=x;h<=A;h++)for(var y=0;y<T;y++)if(C[y]==h)O.permute[F++]=y;for(h=x;h<=A;h++)P[h]=M[h]=0;for(h=0;h<T;h++)P[C[h]]++;F=y=0;for(h=x;h<A;h++){F+=P[h];M[h]=F-1;F<<=1;R[h+1]=F-(y+=P[h])}M[A]=F+P[A]-1;R[x]=0}for(var h=0;h<256;h++){this.mtfSymbol[h]=h;this.byteCount[h]=0}var I,L,T,D;I=L=T=D=0;while(true){if(!T--){T=u-1;if(D>=v)t.Error("meow i'm a kitty, that's an error");O=S[this.selectors[D++]];R=O.base;M=O.limit}h=O.minLen;E=e(h);while(true){if(h>O.maxLen)t.Error("rawr i'm a dinosaur");if(E<=M[h])break;h++;E=E<<1|e(1)}E-=R[h];if(E<0||E>=a)t.Error("moo i'm a cow");var N=O.permute[E];if(N==c||N==l){if(!I){I=1;y=0}if(N==c)y+=I;else y+=2*I;I<<=1;continue}if(I){I=0;if(L+y>i)t.Error("Boom.");k=this.symToByte[this.mtfSymbol[0]];this.byteCount[k]+=y;while(y--)n[L++]=k}if(N>w)break;if(L>=i)t.Error("I can't think of anything. Error");h=N-1;k=this.mtfSymbol[h];for(var _=h-1;_>=0;_--){this.mtfSymbol[_+1]=this.mtfSymbol[_]}this.mtfSymbol[0]=k;k=this.symToByte[k];this.byteCount[k]++;n[L++]=k}if(g<0||g>=L)t.Error("I'm a monkey and I'm throwing something at someone, namely you");var E=0;for(var h=0;h<256;h++){_=E+this.byteCount[h];this.byteCount[h]=E;E=_}for(var h=0;h<L;h++){k=n[h]&255;n[this.byteCount[k]]|=h<<8;this.byteCount[k]++}var B=0,j=0,G=0;if(L){B=n[g];j=B&255;B>>=8;G=-1}L=L;var U,H,q;while(L){L--;H=j;B=n[B];j=B&255;B>>=8;if(G++==3){U=j;q=H;j=-1}else{U=1;q=j}while(U--){d=(d<<8^this.crcTable[(d>>24^q)&255])&4294967295;r(q)}if(j!=H)G=0}d=(d^-1)>>>0;if((d|0)!=(m|0))t.Error("Error in bzip2: crc32 do not match");o=(d^(o<<1|o>>>31))&4294967295;return o};e.exports=r},5030:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function getUserAgent(){if(typeof navigator==="object"&&"userAgent"in navigator){return navigator.userAgent}if(typeof process==="object"&&"version"in process){return`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`}return"<environment undetectable>"}t.getUserAgent=getUserAgent},7127:(e,t,r)=>{e.exports=r(1669).deprecate},2940:e=>{e.exports=wrappy;function wrappy(e,t){if(e&&t)return wrappy(e)(t);if(typeof e!=="function")throw new TypeError("need wrapper function");Object.keys(e).forEach(function(t){wrapper[t]=e[t]});return wrapper;function wrapper(){var t=new Array(arguments.length);for(var r=0;r<t.length;r++){t[r]=arguments[r]}var n=e.apply(this,t);var i=t[t.length-1];if(typeof n==="function"&&n!==i){Object.keys(i).forEach(function(e){n[e]=i[e]})}return n}}},8867:(e,t,r)=>{"use strict";const n=r(1518);n.createWebSocketStream=r(1658);n.Server=r(8887);n.Receiver=r(5066);n.Sender=r(6947);e.exports=n},9436:(e,t,r)=>{"use strict";const{EMPTY_BUFFER:n}=r(5949);function concat(e,t){if(e.length===0)return n;if(e.length===1)return e[0];const r=Buffer.allocUnsafe(t);let i=0;for(let t=0;t<e.length;t++){const n=e[t];r.set(n,i);i+=n.length}if(i<t)return r.slice(0,i);return r}function _mask(e,t,r,n,i){for(let o=0;o<i;o++){r[n+o]=e[o]^t[o&3]}}function _unmask(e,t){const r=e.length;for(let n=0;n<r;n++){e[n]^=t[n&3]}}function toArrayBuffer(e){if(e.byteLength===e.buffer.byteLength){return e.buffer}return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function toBuffer(e){toBuffer.readOnly=true;if(Buffer.isBuffer(e))return e;let t;if(e instanceof ArrayBuffer){t=Buffer.from(e)}else if(ArrayBuffer.isView(e)){t=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else{t=Buffer.from(e);toBuffer.readOnly=false}return t}try{const t=r(1269);const n=t.BufferUtil||t;e.exports={concat:concat,mask(e,t,r,i,o){if(o<48)_mask(e,t,r,i,o);else n.mask(e,t,r,i,o)},toArrayBuffer:toArrayBuffer,toBuffer:toBuffer,unmask(e,t){if(e.length<32)_unmask(e,t);else n.unmask(e,t)}}}catch(t){e.exports={concat:concat,mask:_mask,toArrayBuffer:toArrayBuffer,toBuffer:toBuffer,unmask:_unmask}}},5949:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},4561:e=>{"use strict";class Event{constructor(e,t){this.target=t;this.type=e}}class MessageEvent extends Event{constructor(e,t){super("message",t);this.data=e}}class CloseEvent extends Event{constructor(e,t,r){super("close",r);this.wasClean=r._closeFrameReceived&&r._closeFrameSent;this.reason=t;this.code=e}}class OpenEvent extends Event{constructor(e){super("open",e)}}class ErrorEvent extends Event{constructor(e,t){super("error",t);this.message=e.message;this.error=e}}const t={addEventListener(e,t,r){if(typeof t!=="function")return;function onMessage(e){t.call(this,new MessageEvent(e,this))}function onClose(e,r){t.call(this,new CloseEvent(e,r,this))}function onError(e){t.call(this,new ErrorEvent(e,this))}function onOpen(){t.call(this,new OpenEvent(this))}const n=r&&r.once?"once":"on";if(e==="message"){onMessage._listener=t;this[n](e,onMessage)}else if(e==="close"){onClose._listener=t;this[n](e,onClose)}else if(e==="error"){onError._listener=t;this[n](e,onError)}else if(e==="open"){onOpen._listener=t;this[n](e,onOpen)}else{this[n](e,t)}},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++){if(r[n]===t||r[n]._listener===t){this.removeListener(e,r[n])}}}};e.exports=t},2035:e=>{"use strict";const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function push(e,t,r){if(e[t]===undefined)e[t]=[r];else e[t].push(r)}function parse(e){const r=Object.create(null);if(e===undefined||e==="")return r;let n=Object.create(null);let i=false;let o=false;let s=false;let a;let c;let l=-1;let u=-1;let d=0;for(;d<e.length;d++){const f=e.charCodeAt(d);if(a===undefined){if(u===-1&&t[f]===1){if(l===-1)l=d}else if(f===32||f===9){if(u===-1&&l!==-1)u=d}else if(f===59||f===44){if(l===-1){throw new SyntaxError(`Unexpected character at index ${d}`)}if(u===-1)u=d;const t=e.slice(l,u);if(f===44){push(r,t,n);n=Object.create(null)}else{a=t}l=u=-1}else{throw new SyntaxError(`Unexpected character at index ${d}`)}}else if(c===undefined){if(u===-1&&t[f]===1){if(l===-1)l=d}else if(f===32||f===9){if(u===-1&&l!==-1)u=d}else if(f===59||f===44){if(l===-1){throw new SyntaxError(`Unexpected character at index ${d}`)}if(u===-1)u=d;push(n,e.slice(l,u),true);if(f===44){push(r,a,n);n=Object.create(null);a=undefined}l=u=-1}else if(f===61&&l!==-1&&u===-1){c=e.slice(l,d);l=u=-1}else{throw new SyntaxError(`Unexpected character at index ${d}`)}}else{if(o){if(t[f]!==1){throw new SyntaxError(`Unexpected character at index ${d}`)}if(l===-1)l=d;else if(!i)i=true;o=false}else if(s){if(t[f]===1){if(l===-1)l=d}else if(f===34&&l!==-1){s=false;u=d}else if(f===92){o=true}else{throw new SyntaxError(`Unexpected character at index ${d}`)}}else if(f===34&&e.charCodeAt(d-1)===61){s=true}else if(u===-1&&t[f]===1){if(l===-1)l=d}else if(l!==-1&&(f===32||f===9)){if(u===-1)u=d}else if(f===59||f===44){if(l===-1){throw new SyntaxError(`Unexpected character at index ${d}`)}if(u===-1)u=d;let t=e.slice(l,u);if(i){t=t.replace(/\\/g,"");i=false}push(n,c,t);if(f===44){push(r,a,n);n=Object.create(null);a=undefined}c=undefined;l=u=-1}else{throw new SyntaxError(`Unexpected character at index ${d}`)}}}if(l===-1||s){throw new SyntaxError("Unexpected end of input")}if(u===-1)u=d;const f=e.slice(l,u);if(a===undefined){push(r,f,n)}else{if(c===undefined){push(n,f,true)}else if(i){push(n,c,f.replace(/\\/g,""))}else{push(n,c,f)}push(r,a,n)}return r}function format(e){return Object.keys(e).map(t=>{let r=e[t];if(!Array.isArray(r))r=[r];return r.map(e=>{return[t].concat(Object.keys(e).map(t=>{let r=e[t];if(!Array.isArray(r))r=[r];return r.map(e=>e===true?t:`${t}=${e}`).join("; ")})).join("; ")}).join(", ")}).join(", ")}e.exports={format:format,parse:parse}},1356:e=>{"use strict";const t=Symbol("kDone");const r=Symbol("kRun");class Limiter{constructor(e){this[t]=(()=>{this.pending--;this[r]()});this.concurrency=e||Infinity;this.jobs=[];this.pending=0}add(e){this.jobs.push(e);this[r]()}[r](){if(this.pending===this.concurrency)return;if(this.jobs.length){const e=this.jobs.shift();this.pending++;e(this[t])}}}e.exports=Limiter},6684:(e,t,r)=>{"use strict";const n=r(8761);const i=r(9436);const o=r(1356);const{kStatusCode:s,NOOP:a}=r(5949);const c=Buffer.from([0,0,255,255]);const l=Symbol("permessage-deflate");const u=Symbol("total-length");const d=Symbol("callback");const f=Symbol("buffers");const h=Symbol("error");let p;class PerMessageDeflate{constructor(e,t,r){this._maxPayload=r|0;this._options=e||{};this._threshold=this._options.threshold!==undefined?this._options.threshold:1024;this._isServer=!!t;this._deflate=null;this._inflate=null;this.params=null;if(!p){const e=this._options.concurrencyLimit!==undefined?this._options.concurrencyLimit:10;p=new o(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};if(this._options.serverNoContextTakeover){e.server_no_context_takeover=true}if(this._options.clientNoContextTakeover){e.client_no_context_takeover=true}if(this._options.serverMaxWindowBits){e.server_max_window_bits=this._options.serverMaxWindowBits}if(this._options.clientMaxWindowBits){e.client_max_window_bits=this._options.clientMaxWindowBits}else if(this._options.clientMaxWindowBits==null){e.client_max_window_bits=true}return e}accept(e){e=this.normalizeParams(e);this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e);return this.params}cleanup(){if(this._inflate){this._inflate.close();this._inflate=null}if(this._deflate){const e=this._deflate[d];this._deflate.close();this._deflate=null;if(e){e(new Error("The deflate stream was closed while data was being processed"))}}}acceptAsServer(e){const t=this._options;const r=e.find(e=>{if(t.serverNoContextTakeover===false&&e.server_no_context_takeover||e.server_max_window_bits&&(t.serverMaxWindowBits===false||typeof t.serverMaxWindowBits==="number"&&t.serverMaxWindowBits>e.server_max_window_bits)||typeof t.clientMaxWindowBits==="number"&&!e.client_max_window_bits){return false}return true});if(!r){throw new Error("None of the extension offers can be accepted")}if(t.serverNoContextTakeover){r.server_no_context_takeover=true}if(t.clientNoContextTakeover){r.client_no_context_takeover=true}if(typeof t.serverMaxWindowBits==="number"){r.server_max_window_bits=t.serverMaxWindowBits}if(typeof t.clientMaxWindowBits==="number"){r.client_max_window_bits=t.clientMaxWindowBits}else if(r.client_max_window_bits===true||t.clientMaxWindowBits===false){delete r.client_max_window_bits}return r}acceptAsClient(e){const t=e[0];if(this._options.clientNoContextTakeover===false&&t.client_no_context_takeover){throw new Error('Unexpected parameter "client_no_context_takeover"')}if(!t.client_max_window_bits){if(typeof this._options.clientMaxWindowBits==="number"){t.client_max_window_bits=this._options.clientMaxWindowBits}}else if(this._options.clientMaxWindowBits===false||typeof this._options.clientMaxWindowBits==="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits){throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}return t}normalizeParams(e){e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1){throw new Error(`Parameter "${t}" must have only a single value`)}r=r[0];if(t==="client_max_window_bits"){if(r!==true){const e=+r;if(!Number.isInteger(e)||e<8||e>15){throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}r=e}else if(!this._isServer){throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}}else if(t==="server_max_window_bits"){const e=+r;if(!Number.isInteger(e)||e<8||e>15){throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}r=e}else if(t==="client_no_context_takeover"||t==="server_no_context_takeover"){if(r!==true){throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}}else{throw new Error(`Unknown parameter "${t}"`)}e[t]=r})});return e}decompress(e,t,r){p.add(n=>{this._decompress(e,t,(e,t)=>{n();r(e,t)})})}compress(e,t,r){p.add(n=>{this._compress(e,t,(e,t)=>{n();r(e,t)})})}_decompress(e,t,r){const o=this._isServer?"client":"server";if(!this._inflate){const e=`${o}_max_window_bits`;const t=typeof this.params[e]!=="number"?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t});this._inflate[l]=this;this._inflate[u]=0;this._inflate[f]=[];this._inflate.on("error",inflateOnError);this._inflate.on("data",inflateOnData)}this._inflate[d]=r;this._inflate.write(e);if(t)this._inflate.write(c);this._inflate.flush(()=>{const e=this._inflate[h];if(e){this._inflate.close();this._inflate=null;r(e);return}const n=i.concat(this._inflate[f],this._inflate[u]);if(t&&this.params[`${o}_no_context_takeover`]){this._inflate.close();this._inflate=null}else{this._inflate[u]=0;this._inflate[f]=[]}r(null,n)})}_compress(e,t,r){const o=this._isServer?"server":"client";if(!this._deflate){const e=`${o}_max_window_bits`;const t=typeof this.params[e]!=="number"?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t});this._deflate[u]=0;this._deflate[f]=[];this._deflate.on("error",a);this._deflate.on("data",deflateOnData)}this._deflate[d]=r;this._deflate.write(e);this._deflate.flush(n.Z_SYNC_FLUSH,()=>{if(!this._deflate){return}let e=i.concat(this._deflate[f],this._deflate[u]);if(t)e=e.slice(0,e.length-4);this._deflate[d]=null;if(t&&this.params[`${o}_no_context_takeover`]){this._deflate.close();this._deflate=null}else{this._deflate[u]=0;this._deflate[f]=[]}r(null,e)})}}e.exports=PerMessageDeflate;function deflateOnData(e){this[f].push(e);this[u]+=e.length}function inflateOnData(e){this[u]+=e.length;if(this[l]._maxPayload<1||this[u]<=this[l]._maxPayload){this[f].push(e);return}this[h]=new RangeError("Max payload size exceeded");this[h][s]=1009;this.removeListener("data",inflateOnData);this.reset()}function inflateOnError(e){this[l]._inflate=null;e[s]=1007;this[d](e)}},5066:(e,t,r)=>{"use strict";const{Writable:n}=r(2413);const i=r(6684);const{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=r(5949);const{concat:l,toArrayBuffer:u,unmask:d}=r(9436);const{isValidStatusCode:f,isValidUTF8:h}=r(6279);const p=0;const m=1;const g=2;const y=3;const w=4;const _=5;class Receiver extends n{constructor(e,t,r,n){super();this._binaryType=e||o[0];this[c]=undefined;this._extensions=t||{};this._isServer=!!r;this._maxPayload=n|0;this._bufferedBytes=0;this._buffers=[];this._compressed=false;this._payloadLength=0;this._mask=undefined;this._fragmented=0;this._masked=false;this._fin=false;this._opcode=0;this._totalPayloadLength=0;this._messageLength=0;this._fragments=[];this._state=p;this._loop=false}_write(e,t,r){if(this._opcode===8&&this._state==p)return r();this._bufferedBytes+=e.length;this._buffers.push(e);this.startLoop(r)}consume(e){this._bufferedBytes-=e;if(e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];this._buffers[0]=t.slice(e);return t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0];const n=t.length-e;if(e>=r.length){t.set(this._buffers.shift(),n)}else{t.set(new Uint8Array(r.buffer,r.byteOffset,e),n);this._buffers[0]=r.slice(e)}e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=true;do{switch(this._state){case p:t=this.getInfo();break;case m:t=this.getPayloadLength16();break;case g:t=this.getPayloadLength64();break;case y:this.getMask();break;case w:t=this.getData(e);break;default:this._loop=false;return}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=false;return}const e=this.consume(2);if((e[0]&48)!==0){this._loop=false;return error(RangeError,"RSV2 and RSV3 must be clear",true,1002)}const t=(e[0]&64)===64;if(t&&!this._extensions[i.extensionName]){this._loop=false;return error(RangeError,"RSV1 must be clear",true,1002)}this._fin=(e[0]&128)===128;this._opcode=e[0]&15;this._payloadLength=e[1]&127;if(this._opcode===0){if(t){this._loop=false;return error(RangeError,"RSV1 must be clear",true,1002)}if(!this._fragmented){this._loop=false;return error(RangeError,"invalid opcode 0",true,1002)}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){this._loop=false;return error(RangeError,`invalid opcode ${this._opcode}`,true,1002)}this._compressed=t}else if(this._opcode>7&&this._opcode<11){if(!this._fin){this._loop=false;return error(RangeError,"FIN must be set",true,1002)}if(t){this._loop=false;return error(RangeError,"RSV1 must be clear",true,1002)}if(this._payloadLength>125){this._loop=false;return error(RangeError,`invalid payload length ${this._payloadLength}`,true,1002)}}else{this._loop=false;return error(RangeError,`invalid opcode ${this._opcode}`,true,1002)}if(!this._fin&&!this._fragmented)this._fragmented=this._opcode;this._masked=(e[1]&128)===128;if(this._isServer){if(!this._masked){this._loop=false;return error(RangeError,"MASK must be set",true,1002)}}else if(this._masked){this._loop=false;return error(RangeError,"MASK must be clear",true,1002)}if(this._payloadLength===126)this._state=m;else if(this._payloadLength===127)this._state=g;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=false;return}this._payloadLength=this.consume(2).readUInt16BE(0);return this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=false;return}const e=this.consume(8);const t=e.readUInt32BE(0);if(t>Math.pow(2,53-32)-1){this._loop=false;return error(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",false,1009)}this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4);return this.haveLength()}haveLength(){if(this._payloadLength&&this._opcode<8){this._totalPayloadLength+=this._payloadLength;if(this._totalPayloadLength>this._maxPayload&&this._maxPayload>0){this._loop=false;return error(RangeError,"Max payload size exceeded",false,1009)}}if(this._masked)this._state=y;else this._state=w}getMask(){if(this._bufferedBytes<4){this._loop=false;return}this._mask=this.consume(4);this._state=w}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=false;return}t=this.consume(this._payloadLength);if(this._masked)d(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=_;this.decompress(t,e);return}if(t.length){this._messageLength=this._totalPayloadLength;this._fragments.push(t)}return this.dataMessage()}decompress(e,t){const r=this._extensions[i.extensionName];r.decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){this._messageLength+=r.length;if(this._messageLength>this._maxPayload&&this._maxPayload>0){return t(error(RangeError,"Max payload size exceeded",false,1009))}this._fragments.push(r)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength;const t=this._fragments;this._totalPayloadLength=0;this._messageLength=0;this._fragmented=0;this._fragments=[];if(this._opcode===2){let r;if(this._binaryType==="nodebuffer"){r=l(t,e)}else if(this._binaryType==="arraybuffer"){r=u(l(t,e))}else{r=t}this.emit("message",r)}else{const r=l(t,e);if(!h(r)){this._loop=false;return error(Error,"invalid UTF-8 sequence",true,1007)}this.emit("message",r.toString())}}this._state=p}controlMessage(e){if(this._opcode===8){this._loop=false;if(e.length===0){this.emit("conclude",1005,"");this.end()}else if(e.length===1){return error(RangeError,"invalid payload length 1",true,1002)}else{const t=e.readUInt16BE(0);if(!f(t)){return error(RangeError,`invalid status code ${t}`,true,1002)}const r=e.slice(2);if(!h(r)){return error(Error,"invalid UTF-8 sequence",true,1007)}this.emit("conclude",t,r.toString());this.end()}}else if(this._opcode===9){this.emit("ping",e)}else{this.emit("pong",e)}this._state=p}}e.exports=Receiver;function error(e,t,r,n){const i=new e(r?`Invalid WebSocket frame: ${t}`:t);Error.captureStackTrace(i,error);i[a]=n;return i}},6947:(e,t,r)=>{"use strict";const{randomFillSync:n}=r(6417);const i=r(6684);const{EMPTY_BUFFER:o}=r(5949);const{isValidStatusCode:s}=r(6279);const{mask:a,toBuffer:c}=r(9436);const l=Buffer.alloc(4);class Sender{constructor(e,t){this._extensions=t||{};this._socket=e;this._firstFragment=true;this._compress=false;this._bufferedBytes=0;this._deflating=false;this._queue=[]}static frame(e,t){const r=t.mask&&t.readOnly;let i=t.mask?6:2;let o=e.length;if(e.length>=65536){i+=8;o=127}else if(e.length>125){i+=2;o=126}const s=Buffer.allocUnsafe(r?e.length+i:i);s[0]=t.fin?t.opcode|128:t.opcode;if(t.rsv1)s[0]|=64;s[1]=o;if(o===126){s.writeUInt16BE(e.length,2)}else if(o===127){s.writeUInt32BE(0,2);s.writeUInt32BE(e.length,6)}if(!t.mask)return[s,e];n(l,0,4);s[1]|=128;s[i-4]=l[0];s[i-3]=l[1];s[i-2]=l[2];s[i-1]=l[3];if(r){a(e,l,s,i,e.length);return[s]}a(e,l,e,0,e.length);return[s,e]}close(e,t,r,n){let i;if(e===undefined){i=o}else if(typeof e!=="number"||!s(e)){throw new TypeError("First argument must be a valid error code number")}else if(t===undefined||t===""){i=Buffer.allocUnsafe(2);i.writeUInt16BE(e,0)}else{const r=Buffer.byteLength(t);if(r>123){throw new RangeError("The message must not be greater than 123 bytes")}i=Buffer.allocUnsafe(2+r);i.writeUInt16BE(e,0);i.write(t,2)}if(this._deflating){this.enqueue([this.doClose,i,r,n])}else{this.doClose(i,r,n)}}doClose(e,t,r){this.sendFrame(Sender.frame(e,{fin:true,rsv1:false,opcode:8,mask:t,readOnly:false}),r)}ping(e,t,r){const n=c(e);if(n.length>125){throw new RangeError("The data size must not be greater than 125 bytes")}if(this._deflating){this.enqueue([this.doPing,n,t,c.readOnly,r])}else{this.doPing(n,t,c.readOnly,r)}}doPing(e,t,r,n){this.sendFrame(Sender.frame(e,{fin:true,rsv1:false,opcode:9,mask:t,readOnly:r}),n)}pong(e,t,r){const n=c(e);if(n.length>125){throw new RangeError("The data size must not be greater than 125 bytes")}if(this._deflating){this.enqueue([this.doPong,n,t,c.readOnly,r])}else{this.doPong(n,t,c.readOnly,r)}}doPong(e,t,r,n){this.sendFrame(Sender.frame(e,{fin:true,rsv1:false,opcode:10,mask:t,readOnly:r}),n)}send(e,t,r){const n=c(e);const o=this._extensions[i.extensionName];let s=t.binary?2:1;let a=t.compress;if(this._firstFragment){this._firstFragment=false;if(a&&o){a=n.length>=o._threshold}this._compress=a}else{a=false;s=0}if(t.fin)this._firstFragment=true;if(o){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:c.readOnly};if(this._deflating){this.enqueue([this.dispatch,n,this._compress,e,r])}else{this.dispatch(n,this._compress,e,r)}}else{this.sendFrame(Sender.frame(n,{fin:t.fin,rsv1:false,opcode:s,mask:t.mask,readOnly:c.readOnly}),r)}}dispatch(e,t,r,n){if(!t){this.sendFrame(Sender.frame(e,r),n);return}const o=this._extensions[i.extensionName];this._bufferedBytes+=e.length;this._deflating=true;o.compress(e,r.fin,(t,i)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");if(typeof n==="function")n(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t][4];if(typeof r==="function")r(e)}return}this._bufferedBytes-=e.length;this._deflating=false;r.readOnly=false;this.sendFrame(Sender.frame(i,r),n);this.dequeue()})}dequeue(){while(!this._deflating&&this._queue.length){const e=this._queue.shift();this._bufferedBytes-=e[1].length;Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length;this._queue.push(e)}sendFrame(e,t){if(e.length===2){this._socket.cork();this._socket.write(e[0]);this._socket.write(e[1],t);this._socket.uncork()}else{this._socket.write(e[0],t)}}}e.exports=Sender},1658:(e,t,r)=>{"use strict";const{Duplex:n}=r(2413);function emitClose(e){e.emit("close")}function duplexOnEnd(){if(!this.destroyed&&this._writableState.finished){this.destroy()}}function duplexOnError(e){this.removeListener("error",duplexOnError);this.destroy();if(this.listenerCount("error")===0){this.emit("error",e)}}function createWebSocketStream(e,t){let r=true;function receiverOnDrain(){if(r)e._socket.resume()}if(e.readyState===e.CONNECTING){e.once("open",function open(){e._receiver.removeAllListeners("drain");e._receiver.on("drain",receiverOnDrain)})}else{e._receiver.removeAllListeners("drain");e._receiver.on("drain",receiverOnDrain)}const i=new n({...t,autoDestroy:false,emitClose:false,objectMode:false,writableObjectMode:false});e.on("message",function message(t){if(!i.push(t)){r=false;e._socket.pause()}});e.once("error",function error(e){if(i.destroyed)return;i.destroy(e)});e.once("close",function close(){if(i.destroyed)return;i.push(null)});i._destroy=function(t,r){if(e.readyState===e.CLOSED){r(t);process.nextTick(emitClose,i);return}let n=false;e.once("error",function error(e){n=true;r(e)});e.once("close",function close(){if(!n)r(t);process.nextTick(emitClose,i)});e.terminate()};i._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function open(){i._final(t)});return}if(e._socket===null)return;if(e._socket._writableState.finished){t();if(i._readableState.endEmitted)i.destroy()}else{e._socket.once("finish",function finish(){t()});e.close()}};i._read=function(){if(e.readyState===e.OPEN&&!r){r=true;if(!e._receiver._writableState.needDrain)e._socket.resume()}};i._write=function(t,r,n){if(e.readyState===e.CONNECTING){e.once("open",function open(){i._write(t,r,n)});return}e.send(t,n)};i.on("end",duplexOnEnd);i.on("error",duplexOnError);return i}e.exports=createWebSocketStream},6279:(e,t,r)=>{"use strict";try{const e=r(4592);t.isValidUTF8=typeof e==="object"?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=(()=>true)}t.isValidStatusCode=(e=>{return e>=1e3&&e<=1014&&e!==1004&&e!==1005&&e!==1006||e>=3e3&&e<=4999})},8887:(e,t,r)=>{"use strict";const n=r(8614);const{createHash:i}=r(6417);const{createServer:o,STATUS_CODES:s}=r(8605);const a=r(6684);const c=r(1518);const{format:l,parse:u}=r(2035);const{GUID:d,kWebSocket:f}=r(5949);const h=/^[+/0-9A-Za-z]{22}==$/;class WebSocketServer extends n{constructor(e,t){super();e={maxPayload:100*1024*1024,perMessageDeflate:false,handleProtocols:null,clientTracking:true,verifyClient:null,noServer:false,backlog:null,server:null,host:null,path:null,port:null,...e};if(e.port==null&&!e.server&&!e.noServer){throw new TypeError('One of the "port", "server", or "noServer" options must be specified')}if(e.port!=null){this._server=o((e,t)=>{const r=s[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"});t.end(r)});this._server.listen(e.port,e.host,e.backlog,t)}else if(e.server){this._server=e.server}if(this._server){const e=this.emit.bind(this,"connection");this._removeListeners=addListeners(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}if(e.perMessageDeflate===true)e.perMessageDeflate={};if(e.clientTracking)this.clients=new Set;this.options=e}address(){if(this.options.noServer){throw new Error('The server is operating in "noServer" mode')}if(!this._server)return null;return this._server.address()}close(e){if(e)this.once("close",e);if(this.clients){for(const e of this.clients)e.terminate()}const t=this._server;if(t){this._removeListeners();this._removeListeners=this._server=null;if(this.options.port!=null){t.close(()=>this.emit("close"));return}}process.nextTick(emitClose,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");const r=t!==-1?e.url.slice(0,t):e.url;if(r!==this.options.path)return false}return true}handleUpgrade(e,t,r,n){t.on("error",socketOnError);const i=e.headers["sec-websocket-key"]!==undefined?e.headers["sec-websocket-key"].trim():false;const o=+e.headers["sec-websocket-version"];const s={};if(e.method!=="GET"||e.headers.upgrade.toLowerCase()!=="websocket"||!i||!h.test(i)||o!==8&&o!==13||!this.shouldHandle(e)){return abortHandshake(t,400)}if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,true,this.options.maxPayload);try{const n=u(e.headers["sec-websocket-extensions"]);if(n[a.extensionName]){r.accept(n[a.extensionName]);s[a.extensionName]=r}}catch(e){return abortHandshake(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.connection.authorized||e.connection.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(a,(o,a,c,l)=>{if(!o){return abortHandshake(t,a||401,c,l)}this.completeUpgrade(i,s,e,t,r,n)});return}if(!this.options.verifyClient(a))return abortHandshake(t,401)}this.completeUpgrade(i,s,e,t,r,n)}completeUpgrade(e,t,r,n,o,s){if(!n.readable||!n.writable)return n.destroy();if(n[f]){throw new Error("server.handleUpgrade() was called more than once with the same "+"socket, possibly due to a misconfiguration")}const u=i("sha1").update(e+d).digest("base64");const h=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${u}`];const p=new c(null);let m=r.headers["sec-websocket-protocol"];if(m){m=m.trim().split(/ *, */);if(this.options.handleProtocols){m=this.options.handleProtocols(m,r)}else{m=m[0]}if(m){h.push(`Sec-WebSocket-Protocol: ${m}`);p._protocol=m}}if(t[a.extensionName]){const e=t[a.extensionName].params;const r=l({[a.extensionName]:[e]});h.push(`Sec-WebSocket-Extensions: ${r}`);p._extensions=t}this.emit("headers",h,r);n.write(h.concat("\r\n").join("\r\n"));n.removeListener("error",socketOnError);p.setSocket(n,o,this.options.maxPayload);if(this.clients){this.clients.add(p);p.on("close",()=>this.clients.delete(p))}s(p,r)}}e.exports=WebSocketServer;function addListeners(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function removeListeners(){for(const r of Object.keys(t)){e.removeListener(r,t[r])}}}function emitClose(e){e.emit("close")}function socketOnError(){this.destroy()}function abortHandshake(e,t,r,n){if(e.writable){r=r||s[t];n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n};e.write(`HTTP/1.1 ${t} ${s[t]}\r\n`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)}e.removeListener("error",socketOnError);e.destroy()}},1518:(e,t,r)=>{"use strict";const n=r(8614);const i=r(7211);const o=r(8605);const s=r(1631);const a=r(4016);const{randomBytes:c,createHash:l}=r(6417);const{URL:u}=r(8835);const d=r(6684);const f=r(5066);const h=r(6947);const{BINARY_TYPES:p,EMPTY_BUFFER:m,GUID:g,kStatusCode:y,kWebSocket:w,NOOP:_}=r(5949);const{addEventListener:b,removeEventListener:v}=r(4561);const{format:E,parse:k}=r(2035);const{toBuffer:T}=r(9436);const S=["CONNECTING","OPEN","CLOSING","CLOSED"];const C=[8,13];const P=30*1e3;class WebSocket extends n{constructor(e,t,r){super();this._binaryType=p[0];this._closeCode=1006;this._closeFrameReceived=false;this._closeFrameSent=false;this._closeMessage="";this._closeTimer=null;this._extensions={};this._protocol="";this._readyState=WebSocket.CONNECTING;this._receiver=null;this._sender=null;this._socket=null;if(e!==null){this._bufferedAmount=0;this._isServer=false;this._redirects=0;if(Array.isArray(t)){t=t.join(", ")}else if(typeof t==="object"&&t!==null){r=t;t=undefined}initAsClient(this,e,t,r)}else{this._isServer=true}}get binaryType(){return this._binaryType}set binaryType(e){if(!p.includes(e))return;this._binaryType=e;if(this._receiver)this._receiver._binaryType=e}get bufferedAmount(){if(!this._socket)return this._bufferedAmount;return this._socket._writableState.length+this._sender._bufferedBytes}get extensions(){return Object.keys(this._extensions).join()}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){const n=new f(this.binaryType,this._extensions,this._isServer,r);this._sender=new h(e,this._extensions);this._receiver=n;this._socket=e;n[w]=this;e[w]=this;n.on("conclude",receiverOnConclude);n.on("drain",receiverOnDrain);n.on("error",receiverOnError);n.on("message",receiverOnMessage);n.on("ping",receiverOnPing);n.on("pong",receiverOnPong);e.setTimeout(0);e.setNoDelay();if(t.length>0)e.unshift(t);e.on("close",socketOnClose);e.on("data",socketOnData);e.on("end",socketOnEnd);e.on("error",socketOnError);this._readyState=WebSocket.OPEN;this.emit("open")}emitClose(){if(!this._socket){this._readyState=WebSocket.CLOSED;this.emit("close",this._closeCode,this._closeMessage);return}if(this._extensions[d.extensionName]){this._extensions[d.extensionName].cleanup()}this._receiver.removeAllListeners();this._readyState=WebSocket.CLOSED;this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState===WebSocket.CLOSED)return;if(this.readyState===WebSocket.CONNECTING){const e="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,e)}if(this.readyState===WebSocket.CLOSING){if(this._closeFrameSent&&this._closeFrameReceived)this._socket.end();return}this._readyState=WebSocket.CLOSING;this._sender.close(e,t,!this._isServer,e=>{if(e)return;this._closeFrameSent=true;if(this._closeFrameReceived)this._socket.end()});this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),P)}ping(e,t,r){if(this.readyState===WebSocket.CONNECTING){throw new Error("WebSocket is not open: readyState 0 (CONNECTING)")}if(typeof e==="function"){r=e;e=t=undefined}else if(typeof t==="function"){r=t;t=undefined}if(typeof e==="number")e=e.toString();if(this.readyState!==WebSocket.OPEN){sendAfterClose(this,e,r);return}if(t===undefined)t=!this._isServer;this._sender.ping(e||m,t,r)}pong(e,t,r){if(this.readyState===WebSocket.CONNECTING){throw new Error("WebSocket is not open: readyState 0 (CONNECTING)")}if(typeof e==="function"){r=e;e=t=undefined}else if(typeof t==="function"){r=t;t=undefined}if(typeof e==="number")e=e.toString();if(this.readyState!==WebSocket.OPEN){sendAfterClose(this,e,r);return}if(t===undefined)t=!this._isServer;this._sender.pong(e||m,t,r)}send(e,t,r){if(this.readyState===WebSocket.CONNECTING){throw new Error("WebSocket is not open: readyState 0 (CONNECTING)")}if(typeof t==="function"){r=t;t={}}if(typeof e==="number")e=e.toString();if(this.readyState!==WebSocket.OPEN){sendAfterClose(this,e,r);return}const n={binary:typeof e!=="string",mask:!this._isServer,compress:true,fin:true,...t};if(!this._extensions[d.extensionName]){n.compress=false}this._sender.send(e||m,n,r)}terminate(){if(this.readyState===WebSocket.CLOSED)return;if(this.readyState===WebSocket.CONNECTING){const e="WebSocket was closed before the connection was established";return abortHandshake(this,this._req,e)}if(this._socket){this._readyState=WebSocket.CLOSING;this._socket.destroy()}}}S.forEach((e,t)=>{const r={enumerable:true,value:t};Object.defineProperty(WebSocket.prototype,e,r);Object.defineProperty(WebSocket,e,r)});["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(e=>{Object.defineProperty(WebSocket.prototype,e,{enumerable:true})});["open","error","close","message"].forEach(e=>{Object.defineProperty(WebSocket.prototype,`on${e}`,{configurable:true,enumerable:true,get(){const t=this.listeners(e);for(let e=0;e<t.length;e++){if(t[e]._listener)return t[e]._listener}return undefined},set(t){const r=this.listeners(e);for(let t=0;t<r.length;t++){if(r[t]._listener)this.removeListener(e,r[t])}this.addEventListener(e,t)}})});WebSocket.prototype.addEventListener=b;WebSocket.prototype.removeEventListener=v;e.exports=WebSocket;function initAsClient(e,t,r,n){const s={protocolVersion:C[1],maxPayload:100*1024*1024,perMessageDeflate:true,followRedirects:false,maxRedirects:10,...n,createConnection:undefined,socketPath:undefined,hostname:undefined,protocol:undefined,timeout:undefined,method:undefined,host:undefined,path:undefined,port:undefined};if(!C.includes(s.protocolVersion)){throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} `+`(supported versions: ${C.join(", ")})`)}let a;if(t instanceof u){a=t;e._url=t.href}else{a=new u(t);e._url=t}const f=a.protocol==="ws+unix:";if(!a.host&&(!f||!a.pathname)){throw new Error(`Invalid URL: ${e.url}`)}const h=a.protocol==="wss:"||a.protocol==="https:";const p=h?443:80;const m=c(16).toString("base64");const y=h?i.get:o.get;let w;s.createConnection=h?tlsConnect:netConnect;s.defaultPort=s.defaultPort||p;s.port=a.port||p;s.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname;s.headers={"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":m,Connection:"Upgrade",Upgrade:"websocket",...s.headers};s.path=a.pathname+a.search;s.timeout=s.handshakeTimeout;if(s.perMessageDeflate){w=new d(s.perMessageDeflate!==true?s.perMessageDeflate:{},false,s.maxPayload);s.headers["Sec-WebSocket-Extensions"]=E({[d.extensionName]:w.offer()})}if(r){s.headers["Sec-WebSocket-Protocol"]=r}if(s.origin){if(s.protocolVersion<13){s.headers["Sec-WebSocket-Origin"]=s.origin}else{s.headers.Origin=s.origin}}if(a.username||a.password){s.auth=`${a.username}:${a.password}`}if(f){const e=s.path.split(":");s.socketPath=e[0];s.path=e[1]}let _=e._req=y(s);if(s.timeout){_.on("timeout",()=>{abortHandshake(e,_,"Opening handshake has timed out")})}_.on("error",t=>{if(_===null||_.aborted)return;_=e._req=null;e._readyState=WebSocket.CLOSING;e.emit("error",t);e.emitClose()});_.on("response",i=>{const o=i.headers.location;const a=i.statusCode;if(o&&s.followRedirects&&a>=300&&a<400){if(++e._redirects>s.maxRedirects){abortHandshake(e,_,"Maximum redirects exceeded");return}_.abort();const i=new u(o,t);initAsClient(e,i,r,n)}else if(!e.emit("unexpected-response",_,i)){abortHandshake(e,_,`Unexpected server response: ${i.statusCode}`)}});_.on("upgrade",(t,n,i)=>{e.emit("upgrade",t);if(e.readyState!==WebSocket.CONNECTING)return;_=e._req=null;const o=l("sha1").update(m+g).digest("base64");if(t.headers["sec-websocket-accept"]!==o){abortHandshake(e,n,"Invalid Sec-WebSocket-Accept header");return}const a=t.headers["sec-websocket-protocol"];const c=(r||"").split(/, */);let u;if(!r&&a){u="Server sent a subprotocol but none was requested"}else if(r&&!a){u="Server sent no subprotocol"}else if(a&&!c.includes(a)){u="Server sent an invalid subprotocol"}if(u){abortHandshake(e,n,u);return}if(a)e._protocol=a;if(w){try{const r=k(t.headers["sec-websocket-extensions"]);if(r[d.extensionName]){w.accept(r[d.extensionName]);e._extensions[d.extensionName]=w}}catch(t){abortHandshake(e,n,"Invalid Sec-WebSocket-Extensions header");return}}e.setSocket(n,i,s.maxPayload)})}function netConnect(e){e.path=e.socketPath;return s.connect(e)}function tlsConnect(e){e.path=undefined;if(!e.servername&&e.servername!==""){e.servername=s.isIP(e.host)?"":e.host}return a.connect(e)}function abortHandshake(e,t,r){e._readyState=WebSocket.CLOSING;const n=new Error(r);Error.captureStackTrace(n,abortHandshake);if(t.setHeader){t.abort();t.once("abort",e.emitClose.bind(e));e.emit("error",n)}else{t.destroy(n);t.once("error",e.emit.bind(e,"error"));t.once("close",e.emitClose.bind(e))}}function sendAfterClose(e,t,r){if(t){const r=T(t).length;if(e._socket)e._sender._bufferedBytes+=r;else e._bufferedAmount+=r}if(r){const t=new Error(`WebSocket is not open: readyState ${e.readyState} `+`(${S[e.readyState]})`);r(t)}}function receiverOnConclude(e,t){const r=this[w];r._socket.removeListener("data",socketOnData);r._socket.resume();r._closeFrameReceived=true;r._closeMessage=t;r._closeCode=e;if(e===1005)r.close();else r.close(e,t)}function receiverOnDrain(){this[w]._socket.resume()}function receiverOnError(e){const t=this[w];t._socket.removeListener("data",socketOnData);t._readyState=WebSocket.CLOSING;t._closeCode=e[y];t.emit("error",e);t._socket.destroy()}function receiverOnFinish(){this[w].emitClose()}function receiverOnMessage(e){this[w].emit("message",e)}function receiverOnPing(e){const t=this[w];t.pong(e,!t._isServer,_);t.emit("ping",e)}function receiverOnPong(e){this[w].emit("pong",e)}function socketOnClose(){const e=this[w];this.removeListener("close",socketOnClose);this.removeListener("end",socketOnEnd);e._readyState=WebSocket.CLOSING;e._socket.read();e._receiver.end();this.removeListener("data",socketOnData);this[w]=undefined;clearTimeout(e._closeTimer);if(e._receiver._writableState.finished||e._receiver._writableState.errorEmitted){e.emitClose()}else{e._receiver.on("error",receiverOnFinish);e._receiver.on("finish",receiverOnFinish)}}function socketOnData(e){if(!this[w]._receiver.write(e)){this.pause()}}function socketOnEnd(){const e=this[w];e._readyState=WebSocket.CLOSING;e._receiver.end();this.end()}function socketOnError(){const e=this[w];this.removeListener("error",socketOnError);this.on("error",_);if(e){e._readyState=WebSocket.CLOSING;this.destroy()}}},8781:(e,t,r)=>{var n=r(5747);var i=r(8761);var o=r(5010);var s=r(4794);var a=r(1669);var c=r(8614).EventEmitter;var l=r(2413).Transform;var u=r(2413).PassThrough;var d=r(2413).Writable;t.open=open;t.fromFd=fromFd;t.fromBuffer=fromBuffer;t.fromRandomAccessReader=fromRandomAccessReader;t.dosDateTimeToDate=dosDateTimeToDate;t.validateFileName=validateFileName;t.ZipFile=ZipFile;t.Entry=Entry;t.RandomAccessReader=RandomAccessReader;function open(e,t,r){if(typeof t==="function"){r=t;t=null}if(t==null)t={};if(t.autoClose==null)t.autoClose=true;if(t.lazyEntries==null)t.lazyEntries=false;if(t.decodeStrings==null)t.decodeStrings=true;if(t.validateEntrySizes==null)t.validateEntrySizes=true;if(t.strictFileNames==null)t.strictFileNames=false;if(r==null)r=defaultCallback;n.open(e,"r",function(e,i){if(e)return r(e);fromFd(i,t,function(e,t){if(e)n.close(i,defaultCallback);r(e,t)})})}function fromFd(e,t,r){if(typeof t==="function"){r=t;t=null}if(t==null)t={};if(t.autoClose==null)t.autoClose=false;if(t.lazyEntries==null)t.lazyEntries=false;if(t.decodeStrings==null)t.decodeStrings=true;if(t.validateEntrySizes==null)t.validateEntrySizes=true;if(t.strictFileNames==null)t.strictFileNames=false;if(r==null)r=defaultCallback;n.fstat(e,function(n,i){if(n)return r(n);var s=o.createFromFd(e,{autoClose:true});fromRandomAccessReader(s,i.size,t,r)})}function fromBuffer(e,t,r){if(typeof t==="function"){r=t;t=null}if(t==null)t={};t.autoClose=false;if(t.lazyEntries==null)t.lazyEntries=false;if(t.decodeStrings==null)t.decodeStrings=true;if(t.validateEntrySizes==null)t.validateEntrySizes=true;if(t.strictFileNames==null)t.strictFileNames=false;var n=o.createFromBuffer(e,{maxChunkSize:65536});fromRandomAccessReader(n,e.length,t,r)}function fromRandomAccessReader(e,t,r,n){if(typeof r==="function"){n=r;r=null}if(r==null)r={};if(r.autoClose==null)r.autoClose=true;if(r.lazyEntries==null)r.lazyEntries=false;if(r.decodeStrings==null)r.decodeStrings=true;var i=!!r.decodeStrings;if(r.validateEntrySizes==null)r.validateEntrySizes=true;if(r.strictFileNames==null)r.strictFileNames=false;if(n==null)n=defaultCallback;if(typeof t!=="number")throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER){throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.")}e.ref();var o=22;var s=65535;var a=Math.min(o+s,t);var c=h(a);var l=t-c.length;readAndAssertNoEof(e,c,0,a,l,function(s){if(s)return n(s);for(var u=a-o;u>=0;u-=1){if(c.readUInt32LE(u)!==101010256)continue;var d=c.slice(u);var f=d.readUInt16LE(4);if(f!==0){return n(new Error("multi-disk zip files are not supported: found disk number: "+f))}var p=d.readUInt16LE(10);var m=d.readUInt32LE(16);var g=d.readUInt16LE(20);var y=d.length-o;if(g!==y){return n(new Error("invalid comment length. expected: "+y+". found: "+g))}var w=i?decodeBuffer(d,22,d.length,false):d.slice(22);if(!(p===65535||m===4294967295)){return n(null,new ZipFile(e,m,t,p,w,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))}var _=h(20);var b=l+u-_.length;readAndAssertNoEof(e,_,0,_.length,b,function(o){if(o)return n(o);if(_.readUInt32LE(0)!==117853008){return n(new Error("invalid zip64 end of central directory locator signature"))}var s=readUInt64LE(_,8);var a=h(56);readAndAssertNoEof(e,a,0,a.length,s,function(o){if(o)return n(o);if(a.readUInt32LE(0)!==101075792){return n(new Error("invalid zip64 end of central directory record signature"))}p=readUInt64LE(a,32);m=readUInt64LE(a,48);return n(null,new ZipFile(e,m,t,p,w,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames))})});return}n(new Error("end of central directory record signature not found"))})}a.inherits(ZipFile,c);function ZipFile(e,t,r,n,i,o,s,a,l,u){var d=this;c.call(d);d.reader=e;d.reader.on("error",function(e){emitError(d,e)});d.reader.once("close",function(){d.emit("close")});d.readEntryCursor=t;d.fileSize=r;d.entryCount=n;d.comment=i;d.entriesRead=0;d.autoClose=!!o;d.lazyEntries=!!s;d.decodeStrings=!!a;d.validateEntrySizes=!!l;d.strictFileNames=!!u;d.isOpen=true;d.emittedError=false;if(!d.lazyEntries)d._readEntry()}ZipFile.prototype.close=function(){if(!this.isOpen)return;this.isOpen=false;this.reader.unref()};function emitErrorAndAutoClose(e,t){if(e.autoClose)e.close();emitError(e,t)}function emitError(e,t){if(e.emittedError)return;e.emittedError=true;e.emit("error",t)}ZipFile.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};ZipFile.prototype._readEntry=function(){var e=this;if(e.entryCount===e.entriesRead){setImmediate(function(){if(e.autoClose)e.close();if(e.emittedError)return;e.emit("end")});return}if(e.emittedError)return;var t=h(46);readAndAssertNoEof(e.reader,t,0,t.length,e.readEntryCursor,function(r){if(r)return emitErrorAndAutoClose(e,r);if(e.emittedError)return;var n=new Entry;var i=t.readUInt32LE(0);if(i!==33639248)return emitErrorAndAutoClose(e,new Error("invalid central directory file header signature: 0x"+i.toString(16)));n.versionMadeBy=t.readUInt16LE(4);n.versionNeededToExtract=t.readUInt16LE(6);n.generalPurposeBitFlag=t.readUInt16LE(8);n.compressionMethod=t.readUInt16LE(10);n.lastModFileTime=t.readUInt16LE(12);n.lastModFileDate=t.readUInt16LE(14);n.crc32=t.readUInt32LE(16);n.compressedSize=t.readUInt32LE(20);n.uncompressedSize=t.readUInt32LE(24);n.fileNameLength=t.readUInt16LE(28);n.extraFieldLength=t.readUInt16LE(30);n.fileCommentLength=t.readUInt16LE(32);n.internalFileAttributes=t.readUInt16LE(36);n.externalFileAttributes=t.readUInt32LE(38);n.relativeOffsetOfLocalHeader=t.readUInt32LE(42);if(n.generalPurposeBitFlag&64)return emitErrorAndAutoClose(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46;t=h(n.fileNameLength+n.extraFieldLength+n.fileCommentLength);readAndAssertNoEof(e.reader,t,0,t.length,e.readEntryCursor,function(r){if(r)return emitErrorAndAutoClose(e,r);if(e.emittedError)return;var i=(n.generalPurposeBitFlag&2048)!==0;n.fileName=e.decodeStrings?decodeBuffer(t,0,n.fileNameLength,i):t.slice(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength;var a=t.slice(n.fileNameLength,o);n.extraFields=[];var c=0;while(c<a.length-3){var l=a.readUInt16LE(c+0);var u=a.readUInt16LE(c+2);var d=c+4;var f=d+u;if(f>a.length)return emitErrorAndAutoClose(e,new Error("extra field length exceeds extra field buffer size"));var p=h(u);a.copy(p,0,d,f);n.extraFields.push({id:l,data:p});c=f}n.fileComment=e.decodeStrings?decodeBuffer(t,o,o+n.fileCommentLength,i):t.slice(o,o+n.fileCommentLength);n.comment=n.fileComment;e.readEntryCursor+=t.length;e.entriesRead+=1;if(n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){var m=null;for(var c=0;c<n.extraFields.length;c++){var g=n.extraFields[c];if(g.id===1){m=g.data;break}}if(m==null){return emitErrorAndAutoClose(e,new Error("expected zip64 extended information extra field"))}var y=0;if(n.uncompressedSize===4294967295){if(y+8>m.length){return emitErrorAndAutoClose(e,new Error("zip64 extended information extra field does not include uncompressed size"))}n.uncompressedSize=readUInt64LE(m,y);y+=8}if(n.compressedSize===4294967295){if(y+8>m.length){return emitErrorAndAutoClose(e,new Error("zip64 extended information extra field does not include compressed size"))}n.compressedSize=readUInt64LE(m,y);y+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(y+8>m.length){return emitErrorAndAutoClose(e,new Error("zip64 extended information extra field does not include relative header offset"))}n.relativeOffsetOfLocalHeader=readUInt64LE(m,y);y+=8}}if(e.decodeStrings){for(var c=0;c<n.extraFields.length;c++){var g=n.extraFields[c];if(g.id===28789){if(g.data.length<6){continue}if(g.data.readUInt8(0)!==1){continue}var w=g.data.readUInt32LE(1);if(s.unsigned(t.slice(0,n.fileNameLength))!==w){continue}n.fileName=decodeBuffer(g.data,5,g.data.length,true);break}}}if(e.validateEntrySizes&&n.compressionMethod===0){var _=n.uncompressedSize;if(n.isEncrypted()){_+=12}if(n.compressedSize!==_){var b="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return emitErrorAndAutoClose(e,new Error(b))}}if(e.decodeStrings){if(!e.strictFileNames){n.fileName=n.fileName.replace(/\\/g,"/")}var v=validateFileName(n.fileName,e.validateFileNameOptions);if(v!=null)return emitErrorAndAutoClose(e,new Error(v))}e.emit("entry",n);if(!e.lazyEntries)e._readEntry()})})};ZipFile.prototype.openReadStream=function(e,t,r){var n=this;var o=0;var s=e.compressedSize;if(r==null){r=t;t={}}else{if(t.decrypt!=null){if(!e.isEncrypted()){throw new Error("options.decrypt can only be specified for encrypted entries")}if(t.decrypt!==false)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()){if(t.decompress!==false)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}}if(t.decompress!=null){if(!e.isCompressed()){throw new Error("options.decompress can only be specified for compressed entries")}if(!(t.decompress===false||t.decompress===true)){throw new Error("invalid options.decompress value: "+t.decompress)}}if(t.start!=null||t.end!=null){if(e.isCompressed()&&t.decompress!==false){throw new Error("start/end range not allowed for compressed entry without options.decompress === false")}if(e.isEncrypted()&&t.decrypt!==false){throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}}if(t.start!=null){o=t.start;if(o<0)throw new Error("options.start < 0");if(o>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(t.end!=null){s=t.end;if(s<0)throw new Error("options.end < 0");if(s>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<o)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(e.isEncrypted()){if(t.decrypt!==false)return r(new Error("entry is encrypted, and options.decrypt !== false"))}n.reader.ref();var a=h(30);readAndAssertNoEof(n.reader,a,0,a.length,e.relativeOffsetOfLocalHeader,function(c){try{if(c)return r(c);var l=a.readUInt32LE(0);if(l!==67324752){return r(new Error("invalid local file header signature: 0x"+l.toString(16)))}var u=a.readUInt16LE(26);var d=a.readUInt16LE(28);var f=e.relativeOffsetOfLocalHeader+a.length+u+d;var h;if(e.compressionMethod===0){h=false}else if(e.compressionMethod===8){h=t.decompress!=null?t.decompress:true}else{return r(new Error("unsupported compression method: "+e.compressionMethod))}var p=f;var m=p+e.compressedSize;if(e.compressedSize!==0){if(m>n.fileSize){return r(new Error("file data overflows file bounds: "+p+" + "+e.compressedSize+" > "+n.fileSize))}}var g=n.reader.createReadStream({start:p+o,end:p+s});var y=g;if(h){var w=false;var _=i.createInflateRaw();g.on("error",function(e){setImmediate(function(){if(!w)_.emit("error",e)})});g.pipe(_);if(n.validateEntrySizes){y=new AssertByteCountStream(e.uncompressedSize);_.on("error",function(e){setImmediate(function(){if(!w)y.emit("error",e)})});_.pipe(y)}else{y=_}y.destroy=function(){w=true;if(_!==y)_.unpipe(y);g.unpipe(_);g.destroy()}}r(null,y)}finally{n.reader.unref()}})};function Entry(){}Entry.prototype.getLastModDate=function(){return dosDateTimeToDate(this.lastModFileDate,this.lastModFileTime)};Entry.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Entry.prototype.isCompressed=function(){return this.compressionMethod===8};function dosDateTimeToDate(e,t){var r=e&31;var n=(e>>5&15)-1;var i=(e>>9&127)+1980;var o=0;var s=(t&31)*2;var a=t>>5&63;var c=t>>11&31;return new Date(i,n,r,c,a,s,o)}function validateFileName(e){if(e.indexOf("\\")!==-1){return"invalid characters in fileName: "+e}if(/^[a-zA-Z]:/.test(e)||/^\//.test(e)){return"absolute path: "+e}if(e.split("/").indexOf("..")!==-1){return"invalid relative path: "+e}return null}function readAndAssertNoEof(e,t,r,n,i,o){if(n===0){return setImmediate(function(){o(null,h(0))})}e.read(t,r,n,i,function(e,t){if(e)return o(e);if(t<n){return o(new Error("unexpected EOF"))}o()})}a.inherits(AssertByteCountStream,l);function AssertByteCountStream(e){l.call(this);this.actualByteCount=0;this.expectedByteCount=e}AssertByteCountStream.prototype._transform=function(e,t,r){this.actualByteCount+=e.length;if(this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,e)};AssertByteCountStream.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()};a.inherits(RandomAccessReader,c);function RandomAccessReader(){c.call(this);this.refCount=0}RandomAccessReader.prototype.ref=function(){this.refCount+=1};RandomAccessReader.prototype.unref=function(){var e=this;e.refCount-=1;if(e.refCount>0)return;if(e.refCount<0)throw new Error("invalid unref");e.close(onCloseDone);function onCloseDone(t){if(t)return e.emit("error",t);e.emit("close")}};RandomAccessReader.prototype.createReadStream=function(e){var t=e.start;var r=e.end;if(t===r){var n=new u;setImmediate(function(){n.end()});return n}var i=this._readStreamForRange(t,r);var o=false;var s=new RefUnrefFilter(this);i.on("error",function(e){setImmediate(function(){if(!o)s.emit("error",e)})});s.destroy=function(){i.unpipe(s);s.unref();i.destroy()};var a=new AssertByteCountStream(r-t);s.on("error",function(e){setImmediate(function(){if(!o)a.emit("error",e)})});a.destroy=function(){o=true;s.unpipe(a);s.destroy()};return i.pipe(s).pipe(a)};RandomAccessReader.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")};RandomAccessReader.prototype.read=function(e,t,r,n,i){var o=this.createReadStream({start:n,end:n+r});var s=new d;var a=0;s._write=function(r,n,i){r.copy(e,t+a,0,r.length);a+=r.length;i()};s.on("finish",i);o.on("error",function(e){i(e)});o.pipe(s)};RandomAccessReader.prototype.close=function(e){setImmediate(e)};a.inherits(RefUnrefFilter,u);function RefUnrefFilter(e){u.call(this);this.context=e;this.context.ref();this.unreffedYet=false}RefUnrefFilter.prototype._flush=function(e){this.unref();e()};RefUnrefFilter.prototype.unref=function(e){if(this.unreffedYet)return;this.unreffedYet=true;this.context.unref()};var f="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ";function decodeBuffer(e,t,r,n){if(n){return e.toString("utf8",t,r)}else{var i="";for(var o=t;o<r;o++){i+=f[e[o]]}return i}}function readUInt64LE(e,t){var r=e.readUInt32LE(t);var n=e.readUInt32LE(t+4);return n*4294967296+r}var h;if(typeof Buffer.allocUnsafe==="function"){h=function(e){return Buffer.allocUnsafe(e)}}else{h=function(e){return new Buffer(e)}}function defaultCallback(e){if(e)throw e}},1269:module=>{module.exports=eval("require")("bufferutil")},2877:module=>{module.exports=eval("require")("encoding")},132:module=>{module.exports=eval("require")("supports-color")},4592:module=>{module.exports=eval("require")("utf-8-validate")},2357:e=>{"use strict";e.exports=require("assert")},4293:e=>{"use strict";e.exports=require("buffer")},3129:e=>{"use strict";e.exports=require("child_process")},7619:e=>{"use strict";e.exports=require("constants")},6417:e=>{"use strict";e.exports=require("crypto")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},1631:e=>{"use strict";e.exports=require("net")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},630:e=>{"use strict";e.exports=require("perf_hooks")},1058:e=>{"use strict";e.exports=require("readline")},2413:e=>{"use strict";e.exports=require("stream")},4304:e=>{"use strict";e.exports=require("string_decoder")},4016:e=>{"use strict";e.exports=require("tls")},3867:e=>{"use strict";e.exports=require("tty")},8835:e=>{"use strict";e.exports=require("url")},1669:e=>{"use strict";e.exports=require("util")},8761:e=>{"use strict";e.exports=require("zlib")}};var __webpack_module_cache__={};function __nccwpck_require__(e){if(__webpack_module_cache__[e]){return __webpack_module_cache__[e].exports}var t=__webpack_module_cache__[e]={exports:{}};var r=true;try{__webpack_modules__[e].call(t.exports,t,t.exports,__nccwpck_require__);r=false}finally{if(r)delete __webpack_module_cache__[e]}return t.exports}__nccwpck_require__.ab=__dirname+"/";return __nccwpck_require__(4822)})();